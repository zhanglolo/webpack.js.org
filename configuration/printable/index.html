<!DOCTYPE html><html lang="en" data-reactroot=""><head><meta charset="utf-8"/><meta name="theme-color" content="#2B3A42"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="robots" content="noindex,nofollow"/><title>webpack å®˜æ–¹ä¸­æ–‡æ–‡æ¡£</title><meta name="description" content="webpack æ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨ã€‚å®ƒçš„ä¸»è¦ç›®æ ‡æ˜¯å°† JavaScript æ–‡ä»¶æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œæ‰“åŒ…åçš„æ–‡ä»¶ç”¨äºåœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ï¼Œä½†å®ƒä¹Ÿèƒ½å¤Ÿèƒœä»»è½¬æ¢ï¼ˆtransformï¼‰ã€æ‰“åŒ…ï¼ˆbundleï¼‰æˆ–åŒ…è£¹ï¼ˆpackageï¼‰ä»»ä½•èµ„æº(resource or asset)ã€‚"/><meta property="og:site_name" content="webpack"/><meta property="og:type" content="website"/><meta property="og:title" content="webpack å®˜æ–¹ä¸­æ–‡æ–‡æ¡£"/><meta property="og:description" name="description" content="webpack æ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨ã€‚å®ƒçš„ä¸»è¦ç›®æ ‡æ˜¯å°† JavaScript æ–‡ä»¶æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œæ‰“åŒ…åçš„æ–‡ä»¶ç”¨äºåœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ï¼Œä½†å®ƒä¹Ÿèƒ½å¤Ÿèƒœä»»è½¬æ¢ï¼ˆtransformï¼‰ã€æ‰“åŒ…ï¼ˆbundleï¼‰æˆ–åŒ…è£¹ï¼ˆpackageï¼‰ä»»ä½•èµ„æº(resource or asset)ã€‚"/><meta property="og:image" content="https://webpack.js.org/dcd5e077cf9f54ebe52d4f7ebe8c3080.png"/><meta property="twitter:card" content="summary"/><meta property="twitter:site" content="@webpack"/><meta property="twitter:creator" content="@webpack"/><meta property="twitter:domain" content="https://webpack.js.org/"/><meta name="keywords" content="webpack5, webpack, webpack ä¸­æ–‡æ–‡æ¡£, å°è®°ä¸­æ–‡, docschina, docschina.org, webpack.docschina.org, doc.react-china.org, nodejs.cn, vue.docschina.org, babel.docschina.org, parceljs.docschina.org, rollup.docschina.org, koajs.docschina.org"/><link rel="icon" type="image/x-icon" href="/bc3effb418df77da9e04825c48a58a49.ico"/><link rel="stylesheet" href="/50fdfa6f49416fbf9d03.css"/><link rel="stylesheet" href="/3faf4b4c06cd5fb9953a.css"/><link rel="manifest" href="/manifest.json"/><link rel="canonical" href="https://webpack.js.org/configuration/printable/"/><meta name="mobile-web-app-capable" content="yes"/><link rel="icon" sizes="192x192" href="/icon_192x192.png"/><link rel="icon" sizes="512x512" href="/icon_512x512.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="apple-mobile-web-app-title" content="webpack"/><link rel="apple-touch-icon-precomposed" href="/icon_180x180.png"/><link rel="mask-icon" href="/aad9d51e01a0dcc2caf5bee43dc8e647.svg" color="#465e69"/><meta name="msapplication-TileImage" content="/icon_150x150.png"/><meta name="msapplication-TileColor" content="#465e69"/></head><body><div id="root"><div class="site"><div class="site__header"><div class="notification-bar"><div class="container notification-bar__inner"><p>Sponsor webpack and get apparel from the <a href="https://webpack.threadless.com">official shop</a>! All proceeds go to our <a href="https://opencollective.com/webpack">open collective</a>!</p></div></div><header class="navigation   "><section class="navigation__inner"><button aria-label="Open menu" class="navigation__mobile"><svg viewBox="-62 138 25 25"><g><g><path d="M-60.2,140.2h20.9c1,0,1.8,0.8,1.8,1.8l0,0c0,1-0.8,1.8-1.8,1.8h-20.9c-1,0-1.8-0.8-1.8-1.8l0,0 C-62,141-61.2,140.2-60.2,140.2z"></path><path d="M-60.2,148.7h20.9c1,0,1.8,0.8,1.8,1.8l0,0c0,1-0.8,1.8-1.8,1.8h-20.9c-1,0-1.8-0.8-1.8-1.8l0,0 C-62,149.5-61.2,148.7-60.2,148.7z"></path><path d="M-60.2,157.2h20.9c1,0,1.8,0.8,1.8,1.8l0,0c0,1-0.8,1.8-1.8,1.8h-20.9c-1,0-1.8-0.8-1.8-1.8l0,0 C-62,158-61.2,157.2-60.2,157.2z"></path></g></g></svg></button><a class="navigation__logo" href="/"><img class="logo" src="/e0b5805d423a4ec9473ee315250968b2.svg" alt="webpack logo"/></a><nav class="navigation__items"><a class="navigation__item  navigation__item--active" href="/concepts/">æ–‡æ¡£</a><a class="navigation__item  " href="/contribute/">å‚ä¸è´¡çŒ®</a><a class="navigation__item  " href="/vote/">æŠ•ç¥¨</a><a href="https://medium.com/webpack" target="_blank" rel="noopener" class="navigation__item  ">åšå®¢</a><a href="https://docschina.org" target="_blank" rel="noopener" class="navigation__item  ">å°è®°ä¸­æ–‡</a><a href="https://github.com/webpack/webpack" target="_blank" rel="noopener" title="GitHub Repository" class="navigation__item navigation__item--icon "><i aria-hidden="true" class="icon-github"></i></a><a href="https://twitter.com/webpack" target="_blank" rel="noopener" title="webpack on Twitter" class="navigation__item navigation__item--icon "><i aria-hidden="true" class="icon-twitter"></i></a><a href="https://stackoverflow.com/questions/tagged/webpack" target="_blank" rel="noopener" title="webpack on Stack Overflow" class="navigation__item navigation__item--icon "><i aria-hidden="true" class="icon-stack-overflow"></i></a><span class="navigation__item navigation__item--icon"><nav class="dropdown navigation__languages"><button aria-haspopup="true" aria-expanded="false" aria-label="Select language"><img class="dropdown__language" alt="select language" src="/57c717e75066b659cfe19dc2a643153c.svg"/><i aria-hidden="true" class="dropdown__arrow"></i></button><div class="dropdown__list "><ul><li><a href="https://webpack.js.org/"><span>English</span></a></li><li><a href="https://webpack.docschina.org/"><span lang="zh">ä¸­æ–‡</span></a></li></ul></div></nav></span></nav><div class="navigation-search "><input type="text" class="navigation-search__input" placeholder="Search this site..." value=""/><button aria-label="Hide search box" class="navigation-search__icon navigation-search__clear"><svg viewBox="-137 138 25 25"><g transform="translate(0,-952.36218)"><path d="M-131.3,1094.4c-0.4,0-0.9,0.1-1.2,0.5c-0.7,0.7-0.7,1.7,0,2.4l5.6,5.6l-5.6,5.6c-0.7,0.7-0.7,1.7,0,2.4 c0.7,0.7,1.7,0.7,2.4,0l5.6-5.6l5.6,5.6c0.7,0.7,1.7,0.7,2.4,0c0.7-0.7,0.7-1.7,0-2.4l-5.6-5.6l5.6-5.6c0.7-0.7,0.7-1.7,0-2.4 c-0.7-0.7-1.7-0.7-2.4,0l-5.6,5.6l-5.6-5.6C-130.5,1094.5-130.9,1094.4-131.3,1094.4L-131.3,1094.4z"></path></g></svg></button><button aria-label="Show search box" class="navigation-search__icon navigation-search__search"><svg viewBox="-137 138 25 25"><g><path d="M-114.6,162.6l-7.5-7.5c-0.6-0.6-0.6-1.6,0-2.1l0,0c0.6-0.6,1.6-0.6,2.1,0l7.5,7.5c0.6,0.6,0.6,1.6,0,2.1l0,0 C-113,163.1-114,163.1-114.6,162.6z"></path><path d="M-134.1,140.9c-3.9,3.9-3.9,10.2,0,14.1s10.2,3.9,14.1,0s3.9-10.2,0-14.1S-130.2,137-134.1,140.9z M-122.1,153 c-2.7,2.7-7.1,2.7-9.8,0s-2.7-7.1,0-9.8s7.1-2.7,9.8,0C-119.4,145.9-119.4,150.2-122.1,153z"></path></g></svg></button></div></section><div class="navigation-sub"><div class="navigation-sub__inner"><a class="navigation-sub__link " title="æŒ‡å—" content="æŒ‡å—" href="/guides/">æŒ‡å—</a><a class="navigation-sub__link " title="api" content="api" href="/api/">api</a><a class="navigation-sub__link " title="plugin" content="plugin" href="/plugins/">plugin</a><a class="navigation-sub__link " title="æ¦‚å¿µ" content="æ¦‚å¿µ" href="/concepts/">æ¦‚å¿µ</a><a class="navigation-sub__link navigation-sub__link--active" title="é…ç½®" content="é…ç½®" href="/configuration/">é…ç½®</a><a class="navigation-sub__link " title="è¿ç§»" content="è¿ç§»" href="/migrate/">è¿ç§»</a><a class="navigation-sub__link " title="loader" content="loader" href="/loaders/">loader</a></div></div></header></div><div class="container site__content"><div class="sponsors"><a href="https://www.ag-grid.com/?utm_source=webpack&amp;utm_medium=banner&amp;utm_campaign=sponsorship" target="_blank" rel="noopener" class="sponsors__content"><img src="/bf176a25b4f8227fea804854c98dc5e2.png"/><img src="/d19378a95ebe6b15d5ddea281138dcf4.svg" style="width:100px"/><div style="margin-top:1em;font-size:2em;text-align:center;color:#535353">ag-grid is proud to partner with webpack</div></a></div><nav class="sidebar site__sidebar"><div class="sidebar__inner"><div class="sidebar__shields"><a href="https://github.com/webpack/webpack/releases"><img alt="webpack shield" src="https://img.shields.io/github/package-json/v/webpack/webpack.svg?label=webpack&amp;style=flat-square&amp;maxAge=3600"/></a></div><div class="sidebar-item sidebar-item--disabled`"><i class="sidebar-item__toggle icon-vertical-bar"></i><a class="sidebar-item__title sidebar-link__print" href="/configuration/printable/" rel="nofollow" alt="Print" title="Print" target="_blank">Print Section<img src="/96ccbfac58b65e83657a220603e00abe.svg"/></a></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/">é…ç½®</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="ä½¿ç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶"><a href="/configuration/#use-different-configuration-file">ä½¿ç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶</a></li><li class="sidebar-item__anchor" title="é€‰é¡¹"><a href="/configuration/#options">é€‰é¡¹</a></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/configuration-languages/">Configuration Languages</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="TypeScript"><a href="/configuration/configuration-languages/#typescript">TypeScript</a></li><li class="sidebar-item__anchor" title="CoffeeScript"><a href="/configuration/configuration-languages/#coffeescript">CoffeeScript</a></li><li class="sidebar-item__anchor" title="Babel and JSX"><a href="/configuration/configuration-languages/#babel-and-jsx">Babel and JSX</a></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/configuration-types/">Configuration Types</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Exporting a Function"><a href="/configuration/configuration-types/#exporting-a-function">Exporting a Function</a></li><li class="sidebar-item__anchor" title="Exporting a Promise"><a href="/configuration/configuration-types/#exporting-a-promise">Exporting a Promise</a></li><li class="sidebar-item__anchor" title="Exporting multiple configurations"><a href="/configuration/configuration-types/#exporting-multiple-configurations">Exporting multiple configurations</a></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/entry-context/">å…¥å£å’Œä¸Šä¸‹æ–‡(entry and context)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="context"><a href="/configuration/entry-context/#context">context</a></li><li class="sidebar-item__anchor" title="entry"><a href="/configuration/entry-context/#entry">entry</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Naming"><a href="/configuration/entry-context/#naming">Naming</a></li><li class="sidebar-item__anchor" title="Entry descriptor"><a href="/configuration/entry-context/#entry-descriptor">Entry descriptor</a></li><li class="sidebar-item__anchor" title="Output filename"><a href="/configuration/entry-context/#output-filename">Output filename</a></li><li class="sidebar-item__anchor" title="Dependencies"><a href="/configuration/entry-context/#dependencies">Dependencies</a></li><li class="sidebar-item__anchor" title="Dynamic entry"><a href="/configuration/entry-context/#dynamic-entry">Dynamic entry</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/mode/">æ¨¡å¼ï¼ˆModeï¼‰</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="ç”¨æ³•"><a href="/configuration/mode/#usage">ç”¨æ³•</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Mode: development"><a href="/configuration/mode/#mode-development">Mode: development</a></li><li class="sidebar-item__anchor" title="Mode: production"><a href="/configuration/mode/#mode-production">Mode: production</a></li><li class="sidebar-item__anchor" title="Mode: none"><a href="/configuration/mode/#mode-none">Mode: none</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/output/">è¾“å‡º(output)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="output.auxiliaryComment"><a href="/configuration/output/#outputauxiliarycomment">output.auxiliaryComment</a></li><li class="sidebar-item__anchor" title="output.chunkFilename"><a href="/configuration/output/#outputchunkfilename">output.chunkFilename</a></li><li class="sidebar-item__anchor" title="output.chunkLoadTimeout"><a href="/configuration/output/#outputchunkloadtimeout">output.chunkLoadTimeout</a></li><li class="sidebar-item__anchor" title="output.chunkCallbackName"><a href="/configuration/output/#outputchunkcallbackname">output.chunkCallbackName</a></li><li class="sidebar-item__anchor" title="output.crossOriginLoading"><a href="/configuration/output/#outputcrossoriginloading">output.crossOriginLoading</a></li><li class="sidebar-item__anchor" title="output.devtoolFallbackModuleFilenameTemplate"><a href="/configuration/output/#outputdevtoolfallbackmodulefilenametemplate">output.devtoolFallbackModuleFilenameTemplate</a></li><li class="sidebar-item__anchor" title="output.devtoolModuleFilenameTemplate"><a href="/configuration/output/#outputdevtoolmodulefilenametemplate">output.devtoolModuleFilenameTemplate</a></li><li class="sidebar-item__anchor" title="output.devtoolNamespace"><a href="/configuration/output/#outputdevtoolnamespace">output.devtoolNamespace</a></li><li class="sidebar-item__anchor" title="output.filename"><a href="/configuration/output/#outputfilename">output.filename</a></li><li class="sidebar-item__anchor" title="Template strings"><a href="/configuration/output/#template-strings">Template strings</a></li><li class="sidebar-item__anchor" title="output.assetModuleFilename"><a href="/configuration/output/#outputassetmodulefilename">output.assetModuleFilename</a></li><li class="sidebar-item__anchor" title="output.globalObject"><a href="/configuration/output/#outputglobalobject">output.globalObject</a></li><li class="sidebar-item__anchor" title="output.uniqueName"><a href="/configuration/output/#outputuniquename">output.uniqueName</a></li><li class="sidebar-item__anchor" title="output.hashDigest"><a href="/configuration/output/#outputhashdigest">output.hashDigest</a></li><li class="sidebar-item__anchor" title="output.hashDigestLength"><a href="/configuration/output/#outputhashdigestlength">output.hashDigestLength</a></li><li class="sidebar-item__anchor" title="output.hashFunction"><a href="/configuration/output/#outputhashfunction">output.hashFunction</a></li><li class="sidebar-item__anchor" title="output.hashSalt"><a href="/configuration/output/#outputhashsalt">output.hashSalt</a></li><li class="sidebar-item__anchor" title="output.hotUpdateChunkFilename"><a href="/configuration/output/#outputhotupdatechunkfilename">output.hotUpdateChunkFilename</a></li><li class="sidebar-item__anchor" title="output.hotUpdateFunction"><a href="/configuration/output/#outputhotupdatefunction">output.hotUpdateFunction</a></li><li class="sidebar-item__anchor" title="output.hotUpdateMainFilename"><a href="/configuration/output/#outputhotupdatemainfilename">output.hotUpdateMainFilename</a></li><li class="sidebar-item__anchor" title="output.jsonpFunction"><a href="/configuration/output/#outputjsonpfunction">output.jsonpFunction</a></li><li class="sidebar-item__anchor" title="output.library"><a href="/configuration/output/#outputlibrary">output.library</a></li><li class="sidebar-item__anchor" title="ouput.scriptType"><a href="/configuration/output/#ouputscripttype">ouput.scriptType</a></li><li class="sidebar-item__anchor" title="output.libraryExport"><a href="/configuration/output/#outputlibraryexport">output.libraryExport</a></li><li class="sidebar-item__anchor" title="output.libraryTarget"><a href="/configuration/output/#outputlibrarytarget">output.libraryTarget</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="æš´éœ²ä¸ºä¸€ä¸ªå˜é‡"><a href="/configuration/output/#expose-a-variable">æš´éœ²ä¸ºä¸€ä¸ªå˜é‡</a></li><li class="sidebar-item__anchor" title="é€šè¿‡åœ¨å¯¹è±¡ä¸Šèµ‹å€¼æš´éœ²"><a href="/configuration/output/#expose-via-object-assignment">é€šè¿‡åœ¨å¯¹è±¡ä¸Šèµ‹å€¼æš´éœ²</a></li><li class="sidebar-item__anchor" title="æ¨¡å—å®šä¹‰ç³»ç»Ÿ"><a href="/configuration/output/#module-definition-systems">æ¨¡å—å®šä¹‰ç³»ç»Ÿ</a></li><li class="sidebar-item__anchor" title="å…¶ä»– Targets"><a href="/configuration/output/#other-targets">å…¶ä»– Targets</a></li></ul></li><li class="sidebar-item__anchor" title="output.importFunctionName"><a href="/configuration/output/#outputimportfunctionname">output.importFunctionName</a></li><li class="sidebar-item__anchor" title="output.path"><a href="/configuration/output/#outputpath">output.path</a></li><li class="sidebar-item__anchor" title="output.pathinfo"><a href="/configuration/output/#outputpathinfo">output.pathinfo</a></li><li class="sidebar-item__anchor" title="output.publicPath"><a href="/configuration/output/#outputpublicpath">output.publicPath</a></li><li class="sidebar-item__anchor" title="output.sourceMapFilename"><a href="/configuration/output/#outputsourcemapfilename">output.sourceMapFilename</a></li><li class="sidebar-item__anchor" title="output.sourcePrefix"><a href="/configuration/output/#outputsourceprefix">output.sourcePrefix</a></li><li class="sidebar-item__anchor" title="output.strictModuleExceptionHandling"><a href="/configuration/output/#outputstrictmoduleexceptionhandling">output.strictModuleExceptionHandling</a></li><li class="sidebar-item__anchor" title="output.umdNamedDefine"><a href="/configuration/output/#outputumdnameddefine">output.umdNamedDefine</a></li><li class="sidebar-item__anchor" title="output.enabledLibraryTypes"><a href="/configuration/output/#outputenabledlibrarytypes">output.enabledLibraryTypes</a></li><li class="sidebar-item__anchor" title="output.futureEmitAssets"><a href="/configuration/output/#outputfutureemitassets">output.futureEmitAssets</a></li><li class="sidebar-item__anchor" title="output.ecmaVersion"><a href="/configuration/output/#outputecmaversion">output.ecmaVersion</a></li><li class="sidebar-item__anchor" title="output.compareBeforeEmit"><a href="/configuration/output/#outputcomparebeforeemit">output.compareBeforeEmit</a></li><li class="sidebar-item__anchor" title="output.iife"><a href="/configuration/output/#outputiife">output.iife</a></li><li class="sidebar-item__anchor" title="output.module"><a href="/configuration/output/#outputmodule">output.module</a></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/module/">æ¨¡å—ï¼ˆModuleï¼‰</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="module.noParse"><a href="/configuration/module/#modulenoparse">module.noParse</a></li><li class="sidebar-item__anchor" title="module.unsafeCache"><a href="/configuration/module/#moduleunsafecache">module.unsafeCache</a></li><li class="sidebar-item__anchor" title="module.rules"><a href="/configuration/module/#modulerules">module.rules</a></li><li class="sidebar-item__anchor" title="Rule"><a href="/configuration/module/#rule">Rule</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Rule æ¡ä»¶"><a href="/configuration/module/#rule-conditions">Rule æ¡ä»¶</a></li><li class="sidebar-item__anchor" title="Rule ç»“æœ"><a href="/configuration/module/#rule-results">Rule ç»“æœ</a></li></ul></li><li class="sidebar-item__anchor" title="åµŒå¥—çš„ Rule"><a href="/configuration/module/#nested-rules">åµŒå¥—çš„ Rule</a></li><li class="sidebar-item__anchor" title="Rule.enforce"><a href="/configuration/module/#ruleenforce">Rule.enforce</a></li><li class="sidebar-item__anchor" title="Rule.exclude"><a href="/configuration/module/#ruleexclude">Rule.exclude</a></li><li class="sidebar-item__anchor" title="Rule.include"><a href="/configuration/module/#ruleinclude">Rule.include</a></li><li class="sidebar-item__anchor" title="Rule.issuer"><a href="/configuration/module/#ruleissuer">Rule.issuer</a></li><li class="sidebar-item__anchor" title="Rule.loader"><a href="/configuration/module/#ruleloader">Rule.loader</a></li><li class="sidebar-item__anchor" title="Rule.loaders"><a href="/configuration/module/#ruleloaders">Rule.loaders</a></li><li class="sidebar-item__anchor" title="Rule.oneOf"><a href="/configuration/module/#ruleoneof">Rule.oneOf</a></li><li class="sidebar-item__anchor" title="Rule.options / Rule.query"><a href="/configuration/module/#ruleoptions--rulequery">Rule.options / Rule.query</a></li><li class="sidebar-item__anchor" title="Rule.parser"><a href="/configuration/module/#ruleparser">Rule.parser</a></li><li class="sidebar-item__anchor" title="Rule.parser.dataUrlCondition"><a href="/configuration/module/#ruleparserdataurlcondition">Rule.parser.dataUrlCondition</a></li><li class="sidebar-item__anchor" title="Rule.generator.dataUrl"><a href="/configuration/module/#rulegeneratordataurl">Rule.generator.dataUrl</a></li><li class="sidebar-item__anchor" title="Rule.generator.filename"><a href="/configuration/module/#rulegeneratorfilename">Rule.generator.filename</a></li><li class="sidebar-item__anchor" title="Rule.resource"><a href="/configuration/module/#ruleresource">Rule.resource</a></li><li class="sidebar-item__anchor" title="Rule.resourceQuery"><a href="/configuration/module/#ruleresourcequery">Rule.resourceQuery</a></li><li class="sidebar-item__anchor" title="Rule.parser.parse"><a href="/configuration/module/#ruleparserparse">Rule.parser.parse</a></li><li class="sidebar-item__anchor" title="Rule.rules"><a href="/configuration/module/#rulerules">Rule.rules</a></li><li class="sidebar-item__anchor" title="Rule.sideEffects"><a href="/configuration/module/#rulesideeffects">Rule.sideEffects</a></li><li class="sidebar-item__anchor" title="Rule.test"><a href="/configuration/module/#ruletest">Rule.test</a></li><li class="sidebar-item__anchor" title="Rule.type"><a href="/configuration/module/#ruletype">Rule.type</a></li><li class="sidebar-item__anchor" title="Rule.use"><a href="/configuration/module/#ruleuse">Rule.use</a></li><li class="sidebar-item__anchor" title="Rule.resolve"><a href="/configuration/module/#ruleresolve">Rule.resolve</a></li><li class="sidebar-item__anchor" title="æ¡ä»¶"><a href="/configuration/module/#condition">æ¡ä»¶</a></li><li class="sidebar-item__anchor" title="UseEntry"><a href="/configuration/module/#useentry">UseEntry</a></li><li class="sidebar-item__anchor" title="æ¨¡å—ä¸Šä¸‹æ–‡(Module Contexts)"><a href="/configuration/module/#module-contexts">æ¨¡å—ä¸Šä¸‹æ–‡(Module Contexts)</a></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/resolve/">è§£æ(Resolve)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="resolve"><a href="/configuration/resolve/#resolve">resolve</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="resolve.alias"><a href="/configuration/resolve/#resolvealias">resolve.alias</a></li><li class="sidebar-item__anchor" title="resolve.aliasFields"><a href="/configuration/resolve/#resolvealiasfields">resolve.aliasFields</a></li><li class="sidebar-item__anchor" title="resolve.cacheWithContext"><a href="/configuration/resolve/#resolvecachewithcontext">resolve.cacheWithContext</a></li><li class="sidebar-item__anchor" title="resolve.descriptionFiles"><a href="/configuration/resolve/#resolvedescriptionfiles">resolve.descriptionFiles</a></li><li class="sidebar-item__anchor" title="resolve.enforceExtension"><a href="/configuration/resolve/#resolveenforceextension">resolve.enforceExtension</a></li><li class="sidebar-item__anchor" title="resolve.enforceModuleExtension"><a href="/configuration/resolve/#resolveenforcemoduleextension">resolve.enforceModuleExtension</a></li><li class="sidebar-item__anchor" title="resolve.extensions"><a href="/configuration/resolve/#resolveextensions">resolve.extensions</a></li><li class="sidebar-item__anchor" title="resolve.mainFields"><a href="/configuration/resolve/#resolvemainfields">resolve.mainFields</a></li><li class="sidebar-item__anchor" title="resolve.mainFiles"><a href="/configuration/resolve/#resolvemainfiles">resolve.mainFiles</a></li><li class="sidebar-item__anchor" title="resolve.modules"><a href="/configuration/resolve/#resolvemodules">resolve.modules</a></li><li class="sidebar-item__anchor" title="resolve.unsafeCache"><a href="/configuration/resolve/#resolveunsafecache">resolve.unsafeCache</a></li><li class="sidebar-item__anchor" title="resolve.plugins"><a href="/configuration/resolve/#resolveplugins">resolve.plugins</a></li><li class="sidebar-item__anchor" title="resolve.symlinks"><a href="/configuration/resolve/#resolvesymlinks">resolve.symlinks</a></li><li class="sidebar-item__anchor" title="resolve.cachePredicate"><a href="/configuration/resolve/#resolvecachepredicate">resolve.cachePredicate</a></li><li class="sidebar-item__anchor" title="resolve.restrictions"><a href="/configuration/resolve/#resolverestrictions">resolve.restrictions</a></li></ul></li><li class="sidebar-item__anchor" title="resolveLoader"><a href="/configuration/resolve/#resolveloader">resolveLoader</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="resolveLoader.moduleExtensions"><a href="/configuration/resolve/#resolveloadermoduleextensions">resolveLoader.moduleExtensions</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/optimization/">ä¼˜åŒ–(Optimization)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="optimization.minimize"><a href="/configuration/optimization/#optimizationminimize">optimization.minimize</a></li><li class="sidebar-item__anchor" title="optimization.minimizer"><a href="/configuration/optimization/#optimizationminimizer">optimization.minimizer</a></li><li class="sidebar-item__anchor" title="optimization.splitChunks"><a href="/configuration/optimization/#optimizationsplitchunks">optimization.splitChunks</a></li><li class="sidebar-item__anchor" title="optimization.runtimeChunk"><a href="/configuration/optimization/#optimizationruntimechunk">optimization.runtimeChunk</a></li><li class="sidebar-item__anchor" title="optimization.noEmitOnErrors"><a href="/configuration/optimization/#optimizationnoemitonerrors">optimization.noEmitOnErrors</a></li><li class="sidebar-item__anchor" title="optimization.namedModules"><a href="/configuration/optimization/#optimizationnamedmodules">optimization.namedModules</a></li><li class="sidebar-item__anchor" title="optimization.namedChunks"><a href="/configuration/optimization/#optimizationnamedchunks">optimization.namedChunks</a></li><li class="sidebar-item__anchor" title="optimization.moduleIds"><a href="/configuration/optimization/#optimizationmoduleids">optimization.moduleIds</a></li><li class="sidebar-item__anchor" title="optimization.chunkIds"><a href="/configuration/optimization/#optimizationchunkids">optimization.chunkIds</a></li><li class="sidebar-item__anchor" title="optimization.nodeEnv"><a href="/configuration/optimization/#optimizationnodeenv">optimization.nodeEnv</a></li><li class="sidebar-item__anchor" title="optimization.mangleWasmImports"><a href="/configuration/optimization/#optimizationmanglewasmimports">optimization.mangleWasmImports</a></li><li class="sidebar-item__anchor" title="optimization.removeAvailableModules"><a href="/configuration/optimization/#optimizationremoveavailablemodules">optimization.removeAvailableModules</a></li><li class="sidebar-item__anchor" title="optimization.removeEmptyChunks"><a href="/configuration/optimization/#optimizationremoveemptychunks">optimization.removeEmptyChunks</a></li><li class="sidebar-item__anchor" title="optimization.mergeDuplicateChunks"><a href="/configuration/optimization/#optimizationmergeduplicatechunks">optimization.mergeDuplicateChunks</a></li><li class="sidebar-item__anchor" title="optimization.flagIncludedChunks"><a href="/configuration/optimization/#optimizationflagincludedchunks">optimization.flagIncludedChunks</a></li><li class="sidebar-item__anchor" title="optimization.occurrenceOrder"><a href="/configuration/optimization/#optimizationoccurrenceorder">optimization.occurrenceOrder</a></li><li class="sidebar-item__anchor" title="optimization.providedExports"><a href="/configuration/optimization/#optimizationprovidedexports">optimization.providedExports</a></li><li class="sidebar-item__anchor" title="optimization.usedExports"><a href="/configuration/optimization/#optimizationusedexports">optimization.usedExports</a></li><li class="sidebar-item__anchor" title="optimization.concatenateModules"><a href="/configuration/optimization/#optimizationconcatenatemodules">optimization.concatenateModules</a></li><li class="sidebar-item__anchor" title="optimization.sideEffects"><a href="/configuration/optimization/#optimizationsideeffects">optimization.sideEffects</a></li><li class="sidebar-item__anchor" title="optimization.portableRecords"><a href="/configuration/optimization/#optimizationportablerecords">optimization.portableRecords</a></li><li class="sidebar-item__anchor" title="optimization.mangleExports"><a href="/configuration/optimization/#optimizationmangleexports">optimization.mangleExports</a></li><li class="sidebar-item__anchor" title="optimization.innerGraph"><a href="/configuration/optimization/#optimizationinnergraph">optimization.innerGraph</a></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/plugins/">æ’ä»¶(Plugins)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="plugins"><a href="/configuration/plugins/#plugins">plugins</a></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/dev-server/">å¼€å‘æœåŠ¡å™¨(DevServer)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="å¼€å‘æœåŠ¡å™¨(devServer)"><a href="/configuration/dev-server/#devserver">å¼€å‘æœåŠ¡å™¨(devServer)</a></li><li class="sidebar-item__anchor" title="devServer.after"><a href="/configuration/dev-server/#devserverafter">devServer.after</a></li><li class="sidebar-item__anchor" title="devServer.allowedHosts"><a href="/configuration/dev-server/#devserverallowedhosts">devServer.allowedHosts</a></li><li class="sidebar-item__anchor" title="devServer.before"><a href="/configuration/dev-server/#devserverbefore">devServer.before</a></li><li class="sidebar-item__anchor" title="devServer.bonjour"><a href="/configuration/dev-server/#devserverbonjour">devServer.bonjour</a></li><li class="sidebar-item__anchor" title="devServer.clientLogLevel"><a href="/configuration/dev-server/#devserverclientloglevel">devServer.clientLogLevel</a></li><li class="sidebar-item__anchor" title="devServer.color - CLI only"><a href="/configuration/dev-server/#devservercolor---cli-only">devServer.color - CLI only</a></li><li class="sidebar-item__anchor" title="devServer.compress"><a href="/configuration/dev-server/#devservercompress">devServer.compress</a></li><li class="sidebar-item__anchor" title="devServer.contentBase"><a href="/configuration/dev-server/#devservercontentbase">devServer.contentBase</a></li><li class="sidebar-item__anchor" title="devServer.contentBasePublicPath"><a href="/configuration/dev-server/#devservercontentbasepublicpath">devServer.contentBasePublicPath</a></li><li class="sidebar-item__anchor" title="devServer.disableHostCheck"><a href="/configuration/dev-server/#devserverdisablehostcheck">devServer.disableHostCheck</a></li><li class="sidebar-item__anchor" title="devServer.filename ğŸ”‘"><a href="/configuration/dev-server/#devserverfilename-">devServer.filename ğŸ”‘</a></li><li class="sidebar-item__anchor" title="devServer.headers ğŸ”‘"><a href="/configuration/dev-server/#devserverheaders-">devServer.headers ğŸ”‘</a></li><li class="sidebar-item__anchor" title="devServer.historyApiFallback"><a href="/configuration/dev-server/#devserverhistoryapifallback">devServer.historyApiFallback</a></li><li class="sidebar-item__anchor" title="devServer.host"><a href="/configuration/dev-server/#devserverhost">devServer.host</a></li><li class="sidebar-item__anchor" title="devServer.hot"><a href="/configuration/dev-server/#devserverhot">devServer.hot</a></li><li class="sidebar-item__anchor" title="devServer.hotOnly"><a href="/configuration/dev-server/#devserverhotonly">devServer.hotOnly</a></li><li class="sidebar-item__anchor" title="devServer.http2"><a href="/configuration/dev-server/#devserverhttp2">devServer.http2</a></li><li class="sidebar-item__anchor" title="devServer.https"><a href="/configuration/dev-server/#devserverhttps">devServer.https</a></li><li class="sidebar-item__anchor" title="devServer.index"><a href="/configuration/dev-server/#devserverindex">devServer.index</a></li><li class="sidebar-item__anchor" title="devServer.info - CLI only"><a href="/configuration/dev-server/#devserverinfo---cli-only">devServer.info - CLI only</a></li><li class="sidebar-item__anchor" title="devServer.injectClient"><a href="/configuration/dev-server/#devserverinjectclient">devServer.injectClient</a></li><li class="sidebar-item__anchor" title="devServer.injectHot"><a href="/configuration/dev-server/#devserverinjecthot">devServer.injectHot</a></li><li class="sidebar-item__anchor" title="devServer.inline"><a href="/configuration/dev-server/#devserverinline">devServer.inline</a></li><li class="sidebar-item__anchor" title="devServer.lazy ğŸ”‘"><a href="/configuration/dev-server/#devserverlazy-">devServer.lazy ğŸ”‘</a></li><li class="sidebar-item__anchor" title="devServer.liveReload"><a href="/configuration/dev-server/#devserverlivereload">devServer.liveReload</a></li><li class="sidebar-item__anchor" title="devServer.mimeTypes ğŸ”‘"><a href="/configuration/dev-server/#devservermimetypes-">devServer.mimeTypes ğŸ”‘</a></li><li class="sidebar-item__anchor" title="devServer.noInfo ğŸ”‘"><a href="/configuration/dev-server/#devservernoinfo-">devServer.noInfo ğŸ”‘</a></li><li class="sidebar-item__anchor" title="devServer.onListening"><a href="/configuration/dev-server/#devserveronlistening">devServer.onListening</a></li><li class="sidebar-item__anchor" title="devServer.open"><a href="/configuration/dev-server/#devserveropen">devServer.open</a></li><li class="sidebar-item__anchor" title="devServer.openPage"><a href="/configuration/dev-server/#devserveropenpage">devServer.openPage</a></li><li class="sidebar-item__anchor" title="devServer.overlay"><a href="/configuration/dev-server/#devserveroverlay">devServer.overlay</a></li><li class="sidebar-item__anchor" title="devServer.pfx"><a href="/configuration/dev-server/#devserverpfx">devServer.pfx</a></li><li class="sidebar-item__anchor" title="devServer.pfxPassphrase"><a href="/configuration/dev-server/#devserverpfxpassphrase">devServer.pfxPassphrase</a></li><li class="sidebar-item__anchor" title="devServer.port"><a href="/configuration/dev-server/#devserverport">devServer.port</a></li><li class="sidebar-item__anchor" title="devServer.proxy"><a href="/configuration/dev-server/#devserverproxy">devServer.proxy</a></li><li class="sidebar-item__anchor" title="devServer.progress - CLI only"><a href="/configuration/dev-server/#devserverprogress---cli-only">devServer.progress - CLI only</a></li><li class="sidebar-item__anchor" title="devServer.public"><a href="/configuration/dev-server/#devserverpublic">devServer.public</a></li><li class="sidebar-item__anchor" title="devServer.publicPath ğŸ”‘"><a href="/configuration/dev-server/#devserverpublicpath-">devServer.publicPath ğŸ”‘</a></li><li class="sidebar-item__anchor" title="devServer.quiet ğŸ”‘"><a href="/configuration/dev-server/#devserverquiet-">devServer.quiet ğŸ”‘</a></li><li class="sidebar-item__anchor" title="devServer.serveIndex"><a href="/configuration/dev-server/#devserverserveindex">devServer.serveIndex</a></li><li class="sidebar-item__anchor" title="devServer.setup"><a href="/configuration/dev-server/#devserversetup">devServer.setup</a></li><li class="sidebar-item__anchor" title="devServer.socket"><a href="/configuration/dev-server/#devserversocket">devServer.socket</a></li><li class="sidebar-item__anchor" title="devServer.sockHost"><a href="/configuration/dev-server/#devserversockhost">devServer.sockHost</a></li><li class="sidebar-item__anchor" title="devServer.sockPath"><a href="/configuration/dev-server/#devserversockpath">devServer.sockPath</a></li><li class="sidebar-item__anchor" title="devServer.sockPort"><a href="/configuration/dev-server/#devserversockport">devServer.sockPort</a></li><li class="sidebar-item__anchor" title="devServer.staticOptions"><a href="/configuration/dev-server/#devserverstaticoptions">devServer.staticOptions</a></li><li class="sidebar-item__anchor" title="devServer.stats ğŸ”‘"><a href="/configuration/dev-server/#devserverstats-">devServer.stats ğŸ”‘</a></li><li class="sidebar-item__anchor" title="devServer.stdin - CLI only"><a href="/configuration/dev-server/#devserverstdin---cli-only">devServer.stdin - CLI only</a></li><li class="sidebar-item__anchor" title="devServer.transportMode"><a href="/configuration/dev-server/#devservertransportmode">devServer.transportMode</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="devServer.transportMode.client"><a href="/configuration/dev-server/#devservertransportmodeclient">devServer.transportMode.client</a></li><li class="sidebar-item__anchor" title="devServer.transportMode.server"><a href="/configuration/dev-server/#devservertransportmodeserver">devServer.transportMode.server</a></li></ul></li><li class="sidebar-item__anchor" title="devServer.useLocalIp"><a href="/configuration/dev-server/#devserveruselocalip">devServer.useLocalIp</a></li><li class="sidebar-item__anchor" title="devServer.watchContentBase"><a href="/configuration/dev-server/#devserverwatchcontentbase">devServer.watchContentBase</a></li><li class="sidebar-item__anchor" title="devServer.watchOptions ğŸ”‘"><a href="/configuration/dev-server/#devserverwatchoptions-">devServer.watchOptions ğŸ”‘</a></li><li class="sidebar-item__anchor" title="devServer.writeToDisk ğŸ”‘"><a href="/configuration/dev-server/#devserverwritetodisk-">devServer.writeToDisk ğŸ”‘</a></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/devtool/">Devtool</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="devtool"><a href="/configuration/devtool/#devtool">devtool</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="å“è´¨è¯´æ˜(quality)"><a href="/configuration/devtool/#qualities">å“è´¨è¯´æ˜(quality)</a></li><li class="sidebar-item__anchor" title="å¯¹äºå¼€å‘ç¯å¢ƒ"><a href="/configuration/devtool/#development">å¯¹äºå¼€å‘ç¯å¢ƒ</a></li><li class="sidebar-item__anchor" title="ç‰¹å®šåœºæ™¯"><a href="/configuration/devtool/#special-cases">ç‰¹å®šåœºæ™¯</a></li><li class="sidebar-item__anchor" title="å¯¹äºç”Ÿäº§ç¯å¢ƒ"><a href="/configuration/devtool/#production">å¯¹äºç”Ÿäº§ç¯å¢ƒ</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/target/">æ„å»ºç›®æ ‡(Targets)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="target"><a href="/configuration/target/#target">target</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="string"><a href="/configuration/target/#string">string</a></li><li class="sidebar-item__anchor" title="function"><a href="/configuration/target/#function">function</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/watch/">watch å’Œ watchOptions</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="watch"><a href="/configuration/watch/#watch">watch</a></li><li class="sidebar-item__anchor" title="watchOptions"><a href="/configuration/watch/#watchoptions">watchOptions</a></li><li class="sidebar-item__anchor" title="watchOptions.aggregateTimeout"><a href="/configuration/watch/#watchoptionsaggregatetimeout">watchOptions.aggregateTimeout</a></li><li class="sidebar-item__anchor" title="watchOptions.ignored"><a href="/configuration/watch/#watchoptionsignored">watchOptions.ignored</a></li><li class="sidebar-item__anchor" title="watchOptions.poll"><a href="/configuration/watch/#watchoptionspoll">watchOptions.poll</a></li><li class="sidebar-item__anchor" title="info-verbosity"><a href="/configuration/watch/#info-verbosity">info-verbosity</a></li><li class="sidebar-item__anchor" title="æ•…éšœæ’é™¤"><a href="/configuration/watch/#troubleshooting">æ•…éšœæ’é™¤</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="å‘ç°ä¿®æ”¹ï¼Œä½†å¹¶æœªåšå¤„ç†"><a href="/configuration/watch/#changes-seen-but-not-processed">å‘ç°ä¿®æ”¹ï¼Œä½†å¹¶æœªåšå¤„ç†</a></li><li class="sidebar-item__anchor" title="æ²¡æœ‰è¶³å¤Ÿçš„æ–‡ä»¶è§‚å¯Ÿè€…"><a href="/configuration/watch/#not-enough-watchers">æ²¡æœ‰è¶³å¤Ÿçš„æ–‡ä»¶è§‚å¯Ÿè€…</a></li><li class="sidebar-item__anchor" title="macOS fsevents Bug"><a href="/configuration/watch/#macos-fsevents-bug">macOS fsevents Bug</a></li><li class="sidebar-item__anchor" title="Windows Paths"><a href="/configuration/watch/#windows-paths">Windows Paths</a></li><li class="sidebar-item__anchor" title="Vim"><a href="/configuration/watch/#vim">Vim</a></li><li class="sidebar-item__anchor" title="åœ¨ WebStorm ä¸­ä¿å­˜"><a href="/configuration/watch/#saving-in-webstorm">åœ¨ WebStorm ä¸­ä¿å­˜</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/externals/">å¤–éƒ¨æ‰©å±•(externals)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="externals"><a href="/configuration/externals/#externals">externals</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="å­—ç¬¦ä¸²"><a href="/configuration/externals/#string">å­—ç¬¦ä¸²</a></li><li class="sidebar-item__anchor" title="å­—ç¬¦ä¸²æ•°ç»„"><a href="/configuration/externals/#string">å­—ç¬¦ä¸²æ•°ç»„</a></li><li class="sidebar-item__anchor" title="å¯¹è±¡"><a href="/configuration/externals/#object">å¯¹è±¡</a></li><li class="sidebar-item__anchor" title="å‡½æ•°"><a href="/configuration/externals/#function">å‡½æ•°</a></li><li class="sidebar-item__anchor" title="RegExp"><a href="/configuration/externals/#regexp">RegExp</a></li><li class="sidebar-item__anchor" title="æ··ç”¨è¯­æ³•"><a href="/configuration/externals/#combining-syntaxes">æ··ç”¨è¯­æ³•</a></li></ul></li><li class="sidebar-item__anchor" title="externalsType"><a href="/configuration/externals/#externalstype">externalsType</a></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/performance/">æ€§èƒ½(performance)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="performance"><a href="/configuration/performance/#performance">performance</a></li><li class="sidebar-item__anchor" title="performance.hints"><a href="/configuration/performance/#performancehints">performance.hints</a></li><li class="sidebar-item__anchor" title="performance.maxEntrypointSize"><a href="/configuration/performance/#performancemaxentrypointsize">performance.maxEntrypointSize</a></li><li class="sidebar-item__anchor" title="performance.maxAssetSize"><a href="/configuration/performance/#performancemaxassetsize">performance.maxAssetSize</a></li><li class="sidebar-item__anchor" title="performance.assetFilter"><a href="/configuration/performance/#performanceassetfilter">performance.assetFilter</a></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/node/">Node</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="node"><a href="/configuration/node/#node">node</a></li><li class="sidebar-item__anchor" title="node.global"><a href="/configuration/node/#nodeglobal">node.global</a></li><li class="sidebar-item__anchor" title="node.__filename"><a href="/configuration/node/#node__filename">node.__filename</a></li><li class="sidebar-item__anchor" title="node.__dirname"><a href="/configuration/node/#node__dirname">node.__dirname</a></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/stats/">stats å¯¹è±¡</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Stats Presets"><a href="/configuration/stats/#stats-presets">Stats Presets</a></li><li class="sidebar-item__anchor" title="Stats é€‰é¡¹"><a href="/configuration/stats/#stats-options">Stats é€‰é¡¹</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="stats.all"><a href="/configuration/stats/#statsall">stats.all</a></li><li class="sidebar-item__anchor" title="stats.assets"><a href="/configuration/stats/#statsassets">stats.assets</a></li><li class="sidebar-item__anchor" title="stats.assetsSort"><a href="/configuration/stats/#statsassetssort">stats.assetsSort</a></li><li class="sidebar-item__anchor" title="stats.builtAt"><a href="/configuration/stats/#statsbuiltat">stats.builtAt</a></li><li class="sidebar-item__anchor" title="stats.moduleAssets"><a href="/configuration/stats/#statsmoduleassets">stats.moduleAssets</a></li><li class="sidebar-item__anchor" title="stats.cached"><a href="/configuration/stats/#statscached">stats.cached</a></li><li class="sidebar-item__anchor" title="stats.cachedAssets"><a href="/configuration/stats/#statscachedassets">stats.cachedAssets</a></li><li class="sidebar-item__anchor" title="stats.children"><a href="/configuration/stats/#statschildren">stats.children</a></li><li class="sidebar-item__anchor" title="stats.chunks"><a href="/configuration/stats/#statschunks">stats.chunks</a></li><li class="sidebar-item__anchor" title="stats.chunkGroups"><a href="/configuration/stats/#statschunkgroups">stats.chunkGroups</a></li><li class="sidebar-item__anchor" title="stats.chunkModules"><a href="/configuration/stats/#statschunkmodules">stats.chunkModules</a></li><li class="sidebar-item__anchor" title="stats.chunkRootModules"><a href="/configuration/stats/#statschunkrootmodules">stats.chunkRootModules</a></li><li class="sidebar-item__anchor" title="stats.chunkOrigins"><a href="/configuration/stats/#statschunkorigins">stats.chunkOrigins</a></li><li class="sidebar-item__anchor" title="stats.chunksSort"><a href="/configuration/stats/#statschunkssort">stats.chunksSort</a></li><li class="sidebar-item__anchor" title="stats.context"><a href="/configuration/stats/#statscontext">stats.context</a></li><li class="sidebar-item__anchor" title="stats.colors"><a href="/configuration/stats/#statscolors">stats.colors</a></li><li class="sidebar-item__anchor" title="stats.depth"><a href="/configuration/stats/#statsdepth">stats.depth</a></li><li class="sidebar-item__anchor" title="stats.entrypoints"><a href="/configuration/stats/#statsentrypoints">stats.entrypoints</a></li><li class="sidebar-item__anchor" title="stats.env"><a href="/configuration/stats/#statsenv">stats.env</a></li><li class="sidebar-item__anchor" title="stats.orphanModules"><a href="/configuration/stats/#statsorphanmodules">stats.orphanModules</a></li><li class="sidebar-item__anchor" title="stats.errors"><a href="/configuration/stats/#statserrors">stats.errors</a></li><li class="sidebar-item__anchor" title="stats.errorDetails"><a href="/configuration/stats/#statserrordetails">stats.errorDetails</a></li><li class="sidebar-item__anchor" title="stats.errorStack"><a href="/configuration/stats/#statserrorstack">stats.errorStack</a></li><li class="sidebar-item__anchor" title="stats.excludeAssets"><a href="/configuration/stats/#statsexcludeassets">stats.excludeAssets</a></li><li class="sidebar-item__anchor" title="stats.excludeModules"><a href="/configuration/stats/#statsexcludemodules">stats.excludeModules</a></li><li class="sidebar-item__anchor" title="stats.exclude"><a href="/configuration/stats/#statsexclude">stats.exclude</a></li><li class="sidebar-item__anchor" title="stats.hash"><a href="/configuration/stats/#statshash">stats.hash</a></li><li class="sidebar-item__anchor" title="stats.logging"><a href="/configuration/stats/#statslogging">stats.logging</a></li><li class="sidebar-item__anchor" title="stats.loggingDebug"><a href="/configuration/stats/#statsloggingdebug">stats.loggingDebug</a></li><li class="sidebar-item__anchor" title="stats.loggingTrace"><a href="/configuration/stats/#statsloggingtrace">stats.loggingTrace</a></li><li class="sidebar-item__anchor" title="stats.maxModules"><a href="/configuration/stats/#statsmaxmodules">stats.maxModules</a></li><li class="sidebar-item__anchor" title="stats.modules"><a href="/configuration/stats/#statsmodules">stats.modules</a></li><li class="sidebar-item__anchor" title="stats.modulesSort"><a href="/configuration/stats/#statsmodulessort">stats.modulesSort</a></li><li class="sidebar-item__anchor" title="stats.moduleTrace"><a href="/configuration/stats/#statsmoduletrace">stats.moduleTrace</a></li><li class="sidebar-item__anchor" title="stats.outputPath"><a href="/configuration/stats/#statsoutputpath">stats.outputPath</a></li><li class="sidebar-item__anchor" title="stats.performance"><a href="/configuration/stats/#statsperformance">stats.performance</a></li><li class="sidebar-item__anchor" title="stats.preset"><a href="/configuration/stats/#statspreset">stats.preset</a></li><li class="sidebar-item__anchor" title="stats.providedExports"><a href="/configuration/stats/#statsprovidedexports">stats.providedExports</a></li><li class="sidebar-item__anchor" title="stats.publicPath"><a href="/configuration/stats/#statspublicpath">stats.publicPath</a></li><li class="sidebar-item__anchor" title="stats.reasons"><a href="/configuration/stats/#statsreasons">stats.reasons</a></li><li class="sidebar-item__anchor" title="stats.source"><a href="/configuration/stats/#statssource">stats.source</a></li><li class="sidebar-item__anchor" title="stats.timings"><a href="/configuration/stats/#statstimings">stats.timings</a></li><li class="sidebar-item__anchor" title="stats.usedExports"><a href="/configuration/stats/#statsusedexports">stats.usedExports</a></li><li class="sidebar-item__anchor" title="stats.version"><a href="/configuration/stats/#statsversion">stats.version</a></li><li class="sidebar-item__anchor" title="stats.warnings"><a href="/configuration/stats/#statswarnings">stats.warnings</a></li><li class="sidebar-item__anchor" title="stats.warningsFilter"><a href="/configuration/stats/#statswarningsfilter">stats.warningsFilter</a></li><li class="sidebar-item__anchor" title="stats.chunkRelations"><a href="/configuration/stats/#statschunkrelations">stats.chunkRelations</a></li><li class="sidebar-item__anchor" title="å­—æ®µæ’åº"><a href="/configuration/stats/#sorting-fields">å­—æ®µæ’åº</a></li><li class="sidebar-item__anchor" title="æ‰©å±•ç»Ÿè®¡ä¿¡æ¯è¡Œä¸º"><a href="/configuration/stats/#extending-stats-behaviours">æ‰©å±•ç»Ÿè®¡ä¿¡æ¯è¡Œä¸º</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/experiments/">å®éªŒç‰¹æ€§(experiments)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="experiments"><a href="/configuration/experiments/#experiments">experiments</a></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/other-options/">å…¶å®ƒé€‰é¡¹</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="amd"><a href="/configuration/other-options/#amd">amd</a></li><li class="sidebar-item__anchor" title="bail"><a href="/configuration/other-options/#bail">bail</a></li><li class="sidebar-item__anchor" title="cache"><a href="/configuration/other-options/#cache">cache</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="cache.type"><a href="/configuration/other-options/#cachetype">cache.type</a></li><li class="sidebar-item__anchor" title="cache.cacheDirectory"><a href="/configuration/other-options/#cachecachedirectory">cache.cacheDirectory</a></li><li class="sidebar-item__anchor" title="cache.cacheLocation"><a href="/configuration/other-options/#cachecachelocation">cache.cacheLocation</a></li><li class="sidebar-item__anchor" title="cache.buildDependencies"><a href="/configuration/other-options/#cachebuilddependencies">cache.buildDependencies</a></li><li class="sidebar-item__anchor" title="cache.managedPaths"><a href="/configuration/other-options/#cachemanagedpaths">cache.managedPaths</a></li><li class="sidebar-item__anchor" title="cache.hashAlgorithm"><a href="/configuration/other-options/#cachehashalgorithm">cache.hashAlgorithm</a></li><li class="sidebar-item__anchor" title="cache.name"><a href="/configuration/other-options/#cachename">cache.name</a></li><li class="sidebar-item__anchor" title="cache.store"><a href="/configuration/other-options/#cachestore">cache.store</a></li><li class="sidebar-item__anchor" title="cache.version"><a href="/configuration/other-options/#cacheversion">cache.version</a></li><li class="sidebar-item__anchor" title="cache.idleTimeout"><a href="/configuration/other-options/#cacheidletimeout">cache.idleTimeout</a></li><li class="sidebar-item__anchor" title="cache.idleTimeoutForInitialStore"><a href="/configuration/other-options/#cacheidletimeoutforinitialstore">cache.idleTimeoutForInitialStore</a></li></ul></li><li class="sidebar-item__anchor" title="loader"><a href="/configuration/other-options/#loader">loader</a></li><li class="sidebar-item__anchor" title="parallelism"><a href="/configuration/other-options/#parallelism">parallelism</a></li><li class="sidebar-item__anchor" title="profile"><a href="/configuration/other-options/#profile">profile</a></li><li class="sidebar-item__anchor" title="recordsPath"><a href="/configuration/other-options/#recordspath">recordsPath</a></li><li class="sidebar-item__anchor" title="recordsInputPath"><a href="/configuration/other-options/#recordsinputpath">recordsInputPath</a></li><li class="sidebar-item__anchor" title="recordsOutputPath"><a href="/configuration/other-options/#recordsoutputpath">recordsOutputPath</a></li><li class="sidebar-item__anchor" title="name"><a href="/configuration/other-options/#name">name</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="infrastructureLogging"><a href="/configuration/other-options/#infrastructurelogging">infrastructureLogging</a></li></ul></li></ul></div></div><div class="sidebar__docs-version">You are reading webpack <!-- -->5<!-- --> documentation. Change here to:<ul><li><a rel="nofollow" href="https://v4.webpack.docschina.org">webpack <!-- -->4<!-- --> documentation</a></li></ul></div></div></nav><section class="page"><div class="page-links"><a class="page-links__link" href="https://github.com/docschina/webpack.js.org/edit/cn/src/content/configuration/printable.md">ç¼–è¾‘æ­¤é¡µ<i class="page-links__icon icon-edit"></i></a><span class="page-links__gap">|</span><button class="page-links__link page-links__print as-link" title="Print this page">æ‰“å°æ–‡æ¡£<img src="/96ccbfac58b65e83657a220603e00abe.svg"/></button></div><div class="markdown"><h1>Printable</h1><div><h1 id="é…ç½®">é…ç½®<a href="#%E9%85%8D%E7%BD%AE" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>webpack å¼€ç®±å³ç”¨ï¼Œå¯ä»¥æ— éœ€ä½¿ç”¨ä»»ä½•é…ç½®æ–‡ä»¶ã€‚ç„¶è€Œï¼Œwebpack ä¼šå‡å®šé¡¹ç›®çš„å…¥å£èµ·ç‚¹ä¸º <code>src/index.js</code>ï¼Œç„¶åä¼šåœ¨ <code>dist/main.js</code> è¾“å‡ºç»“æœï¼Œå¹¶ä¸”åœ¨ç”Ÿäº§ç¯å¢ƒå¼€å¯å‹ç¼©å’Œä¼˜åŒ–ã€‚</p>
<p>é€šå¸¸ä½ çš„é¡¹ç›®è¿˜éœ€è¦ç»§ç»­æ‰©å±•æ­¤èƒ½åŠ›ï¼Œä¸ºæ­¤ä½ å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª <code>webpack.config.js</code> æ–‡ä»¶ï¼Œç„¶å webpack ä¼šè‡ªåŠ¨ä½¿ç”¨å®ƒã€‚</p>
<p>ä¸‹é¢æŒ‡å®šäº†æ‰€æœ‰å¯ç”¨çš„é…ç½®é€‰é¡¹ã€‚</p>
<blockquote class="tip">
<p>åˆšå¼€å§‹å­¦ä¹  webpackï¼Ÿè¯·æŸ¥çœ‹æˆ‘ä»¬æä¾›çš„æŒ‡å—ï¼Œä» webpack ä¸€äº› <a href="/concepts">æ ¸å¿ƒæ¦‚å¿µ</a> å¼€å§‹å­¦ä¹ å§ï¼</p>
</blockquote>
<h2 id="use-different-configuration-file">ä½¿ç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶ <a href="#use-different-configuration-file" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>å¦‚æœå‡ºäºæŸäº›åŸå› ï¼Œéœ€è¦æ ¹æ®ç‰¹å®šæƒ…å†µä½¿ç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶ï¼Œåˆ™å¯ä»¥é€šè¿‡åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ <code>--config</code> flag ä¿®æ”¹æ­¤é…ç½®æ–‡ä»¶åç§°ã€‚</p>
<p><strong>package.json</strong></p>
<pre><code class="hljs language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"webpack --config prod.config.js"</span>
<span class="token punctuation">}</span></code></pre>
<h2 id="options">é€‰é¡¹ <a href="#options" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>ç‚¹å‡»ä¸‹é¢é…ç½®ä»£ç ä¸­æ¯ä¸ªé€‰é¡¹çš„åç§°ï¼Œè·³è½¬åˆ°è¯¦ç»†çš„æ–‡æ¡£ã€‚è¿˜è¦æ³¨æ„ï¼Œå¸¦æœ‰ç®­å¤´çš„é¡¹ç›®å¯ä»¥å±•å¼€ï¼Œä»¥æ˜¾ç¤ºæ›´å¤šç¤ºä¾‹ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹å¯ä»¥çœ‹åˆ°é«˜çº§é…ç½®ã€‚</p>
<blockquote class="tip">
<p>æ³¨æ„æ•´ä¸ªé…ç½®ä¸­æˆ‘ä»¬ä½¿ç”¨ Node å†…ç½®çš„ <a href="https://nodejs.org/api/path.html">path æ¨¡å—</a>ï¼Œå¹¶åœ¨å®ƒå‰é¢åŠ ä¸Š <a href="https://nodejs.org/docs/latest/api/globals.html#globals_dirname">__dirname</a>è¿™ä¸ªå…¨å±€å˜é‡ã€‚å¯ä»¥é˜²æ­¢ä¸åŒæ“ä½œç³»ç»Ÿä¹‹é—´çš„æ–‡ä»¶è·¯å¾„é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç›¸å¯¹è·¯å¾„æŒ‰ç…§é¢„æœŸå·¥ä½œã€‚æ›´å¤šã€ŒPOSIX å’Œ Windowsã€çš„ç›¸å…³ä¿¡æ¯è¯·æŸ¥çœ‹ <a href="https://nodejs.org/api/path.html#path_windows_vs_posix">æ­¤ç« èŠ‚</a>ã€‚</p>
</blockquote>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js-with-links-details">const path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword" componentname="mode" url="/configuration/mode"><span class="token operator">&#x3C;</span>mode <span class="token string">"/configuration/mode"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      mode<span class="token punctuation">:</span> <span class="token string">"production"</span><span class="token punctuation">,</span> <span class="token comment">// "production" | "development" | "none"</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    mode<span class="token punctuation">:</span> <span class="token string">"production"</span><span class="token punctuation">,</span> <span class="token comment">// enable many optimizations for production builds</span>
    mode<span class="token punctuation">:</span> <span class="token string">"development"</span><span class="token punctuation">,</span> <span class="token comment">// enabled useful tools for development</span>
    mode<span class="token punctuation">:</span> <span class="token string">"none"</span><span class="token punctuation">,</span> <span class="token comment">// no defaults</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>mode<span class="token operator">></span></span>
  <span class="token comment">// Chosen mode tells webpack to use its built-in optimizations accordingly.</span>
  <span class="token keyword" componentname="entry" url="/configuration/entry-context/#entry"><span class="token operator">&#x3C;</span>entry <span class="token string">"/configuration/entry-context/#entry"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      entry<span class="token punctuation">:</span> <span class="token string">"./app/entry"</span><span class="token punctuation">,</span> <span class="token comment">// string | object | array</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    entry<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"./app/entry1"</span><span class="token punctuation">,</span> <span class="token string">"./app/entry2"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      a<span class="token punctuation">:</span> <span class="token string">"./app/entry-a"</span><span class="token punctuation">,</span>
      b<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"./app/entry-b1"</span><span class="token punctuation">,</span> <span class="token string">"./app/entry-b2"</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>entry<span class="token operator">></span></span>
  <span class="token comment">// é»˜è®¤ä¸º ./src</span>
  <span class="token comment">// è¿™é‡Œåº”ç”¨ç¨‹åºå¼€å§‹æ‰§è¡Œ</span>
  <span class="token comment">// webpack å¼€å§‹æ‰“åŒ…</span>
  <span class="token keyword" componentname="link" url="/configuration/output"><span class="token operator">&#x3C;</span>link <span class="token string">"/configuration/output"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>link<span class="token operator">></span></span>
    <span class="token comment">// webpack å¦‚ä½•è¾“å‡ºç»“æœçš„ç›¸å…³é€‰é¡¹</span>
    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
    <span class="token comment">// æ‰€æœ‰è¾“å‡ºæ–‡ä»¶çš„ç›®æ ‡è·¯å¾„</span>
    <span class="token comment">// å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„ï¼ˆä½¿ç”¨ Node.js çš„ path æ¨¡å—ï¼‰</span>
    <span class="token keyword" componentname="filename" url="/configuration/output/#outputfilename"><span class="token operator">&#x3C;</span>filename <span class="token string">"/configuration/output/#outputfilename"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        filename<span class="token punctuation">:</span> <span class="token string">"bundle.js"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      filename<span class="token punctuation">:</span> <span class="token string">"[name].js"</span><span class="token punctuation">,</span> <span class="token comment">// ç”¨äºå¤šä¸ªå…¥å£èµ·ç‚¹(entry point)</span>
      filename<span class="token punctuation">:</span> <span class="token string">"[chunkhash].js"</span><span class="token punctuation">,</span> <span class="token comment">// ç”¨äºé•¿æ•ˆç¼“å­˜</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>filename<span class="token operator">></span></span>
    <span class="token comment">// entry chunk çš„æ–‡ä»¶åæ¨¡æ¿</span>
    <span class="token keyword" componentname="publicPath" url="/configuration/output/#outputpublicpath"><span class="token operator">&#x3C;</span>publicPath <span class="token string">"/configuration/output/#outputpublicpath"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        publicPath<span class="token punctuation">:</span> <span class="token string">"/assets/"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      publicPath<span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
      publicPath<span class="token punctuation">:</span> <span class="token string">"https://cdn.example.com/"</span><span class="token punctuation">,</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>publicPath<span class="token operator">></span></span>
    <span class="token comment">// è¾“å‡ºè§£ææ–‡ä»¶çš„ç›®å½•ï¼Œurl ç›¸å¯¹äº HTML é¡µé¢</span>
    library<span class="token punctuation">:</span> <span class="token string">"MyLibrary"</span><span class="token punctuation">,</span> <span class="token comment">// string,</span>
    <span class="token comment">// å¯¼å‡ºåº“(export library)çš„åç§°</span>
    <span class="token keyword" componentname="libraryTarget" url="/configuration/output/#outputlibrarytarget"><span class="token operator">&#x3C;</span>libraryTarget <span class="token string">"/configuration/output/#outputlibrarytarget"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        libraryTarget<span class="token punctuation">:</span> <span class="token string">"umd"</span><span class="token punctuation">,</span> <span class="token comment">// é€šç”¨æ¨¡å—å®šä¹‰</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      libraryTarget<span class="token punctuation">:</span> <span class="token string">"umd2"</span><span class="token punctuation">,</span> <span class="token comment">// é€šç”¨æ¨¡å—å®šä¹‰</span>
      libraryTarget<span class="token punctuation">:</span> <span class="token string">"commonjs2"</span><span class="token punctuation">,</span> <span class="token comment">// ä½¿ç”¨ module.exports å¯¼å‡º</span>
      libraryTarget<span class="token punctuation">:</span> <span class="token string">"commonjs"</span><span class="token punctuation">,</span> <span class="token comment">// ä½œä¸º exports çš„å±æ€§å¯¼å‡º</span>
      libraryTarget<span class="token punctuation">:</span> <span class="token string">"amd"</span><span class="token punctuation">,</span> <span class="token comment">// ä½¿ç”¨ AMD å®šä¹‰æ–¹æ³•æ¥å®šä¹‰</span>
      libraryTarget<span class="token punctuation">:</span> <span class="token string">"this"</span><span class="token punctuation">,</span> <span class="token comment">// åœ¨ this ä¸Šè®¾ç½®å±æ€§</span>
      libraryTarget<span class="token punctuation">:</span> <span class="token string">"var"</span><span class="token punctuation">,</span> <span class="token comment">// å˜é‡å®šä¹‰äºæ ¹ä½œç”¨åŸŸä¸‹</span>
      libraryTarget<span class="token punctuation">:</span> <span class="token string">"assign"</span><span class="token punctuation">,</span> <span class="token comment">// ç›²åˆ†é…(blind assignment)</span>
      libraryTarget<span class="token punctuation">:</span> <span class="token string">"window"</span><span class="token punctuation">,</span> <span class="token comment">// åœ¨ window å¯¹è±¡ä¸Šè®¾ç½®å±æ€§</span>
      libraryTarget<span class="token punctuation">:</span> <span class="token string">"global"</span><span class="token punctuation">,</span> <span class="token comment">// åœ¨ global å¯¹è±¡ä¸Šè®¾ç½®å±æ€§</span>
      libraryTarget<span class="token punctuation">:</span> <span class="token string">"jsonp"</span><span class="token punctuation">,</span> <span class="token comment">// jsonp åŒ…è£¹</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>libraryTarget<span class="token operator">></span></span>
    <span class="token comment">// å¯¼å‡ºåº“(export library)çš„ç±»å‹</span>
    <span class="token keyword" componentname="advancedOutput" url="#"><span class="token operator">&#x3C;</span>advancedOutput <span class="token string">"#"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* é«˜çº§è¾“å‡ºé…ç½®ï¼ˆç‚¹å‡»æ˜¾ç¤ºï¼‰ */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      pathinfo<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
      <span class="token comment">// åŒ…æ‹¬ä¸€äº›æœ‰å¸®åŠ©çš„è·¯å¾„ä¿¡æ¯ï¼Œä¾‹å¦‚åœ¨ç”Ÿæˆä»£ç æ—¶çš„ module(æ¨¡å—), export(å¯¼å‡º), request ç­‰è·¯å¾„ä¿¡æ¯ã€‚</span>
      chunkFilename<span class="token punctuation">:</span> <span class="token string">"[id].js"</span><span class="token punctuation">,</span>
      chunkFilename<span class="token punctuation">:</span> <span class="token string">"[chunkhash].js"</span><span class="token punctuation">,</span> <span class="token comment">// é•¿æ•ˆç¼“å­˜</span>
      <span class="token comment">// é™„åŠ  chunk(additional chunk) çš„æ–‡ä»¶åæ¨¡æ¿</span>
      jsonpFunction<span class="token punctuation">:</span> <span class="token string">"myWebpackJsonp"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// ç”¨äºåŠ è½½ chunk çš„ JSONP å‡½æ•°å</span>
      sourceMapFilename<span class="token punctuation">:</span> <span class="token string">"[file].map"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      sourceMapFilename<span class="token punctuation">:</span> <span class="token string">"sourcemaps/[file].map"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// source map location çš„æ–‡ä»¶åæ¨¡æ¿</span>
      devtoolModuleFilenameTemplate<span class="token punctuation">:</span> <span class="token string">"webpack:///[resource-path]"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// devtool æ¨¡å—çš„æ–‡ä»¶åæ¨¡æ¿</span>
      devtoolFallbackModuleFilenameTemplate<span class="token punctuation">:</span> <span class="token string">"webpack:///[resource-path]?[hash]"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// devtool æ¨¡å—çš„æ–‡ä»¶åæ¨¡æ¿ï¼ˆç”¨äºå†²çªï¼‰</span>
      umdNamedDefine<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
      <span class="token comment">// åœ¨ UMD åº“ä¸­ä½¿ç”¨å‘½åçš„ AMD æ¨¡å—</span>
      crossOriginLoading<span class="token punctuation">:</span> <span class="token string">"use-credentials"</span><span class="token punctuation">,</span> <span class="token comment">// æšä¸¾</span>
      crossOriginLoading<span class="token punctuation">:</span> <span class="token string">"anonymous"</span><span class="token punctuation">,</span>
      crossOriginLoading<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// æŒ‡å®š runtime å¦‚ä½•å¤„ç†è·¨åŸŸè¯·æ±‚é—®é¢˜</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>advancedOutput<span class="token operator">></span></span>
    <span class="token keyword" componentname="expert" url="#"><span class="token operator">&#x3C;</span>expert <span class="token string">"#"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* ä¸“å®¶çº§è¾“å‡ºé…ç½®ï¼ˆè‡ªè¡Œæ‰¿æ‹…é£é™©ï¼‰ */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      devtoolLineToLine<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\\.jsx$/</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// ä¸ºè¿™äº›æ¨¡å—ä½¿ç”¨ 1:1 æ˜ å°„ SourceMapsï¼ˆå¿«é€Ÿï¼‰</span>
      hotUpdateMainFilename<span class="token punctuation">:</span> <span class="token string">"[hash].hot-update.json"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// HMR manifest çš„æ–‡ä»¶åæ¨¡æ¿</span>
      hotUpdateChunkFilename<span class="token punctuation">:</span> <span class="token string">"[id].[hash].hot-update.js"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// HMR chunk çš„æ–‡ä»¶åæ¨¡æ¿</span>
      sourcePrefix<span class="token punctuation">:</span> <span class="token string">"\\t"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// ä½¿ bundle å†…å‰ç½®å¼æ¨¡å—èµ„æºå…·æœ‰æ›´å¥½å¯è¯»æ€§</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>expert<span class="token operator">></span></span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// configuration regarding modules</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// rules for modules (configure loaders, parser options, etc.)</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\\.jsx?$/</span><span class="token punctuation">,</span>
        include<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"app"</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        exclude<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"app/demo-files"</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token comment">// these are matching conditions, each accepting a regular expression or string</span>
        <span class="token comment">// test and include have the same behavior, both must be matched</span>
        <span class="token comment">// exclude must not be matched (takes preferrence over test and include)</span>
        <span class="token comment">// Best practices:</span>
        <span class="token comment">// - Use RegExp only in test and for filename matching</span>
        <span class="token comment">// - Use arrays of absolute paths in include and exclude</span>
        <span class="token comment">// - Try to avoid exclude and prefer include</span>
        issuer<span class="token punctuation">:</span> <span class="token punctuation">{</span> test<span class="token punctuation">,</span> include<span class="token punctuation">,</span> exclude <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// conditions for the issuer (the origin of the import)</span>
        enforce<span class="token punctuation">:</span> <span class="token string">"pre"</span><span class="token punctuation">,</span>
        enforce<span class="token punctuation">:</span> <span class="token string">"post"</span><span class="token punctuation">,</span>
        <span class="token comment">// flags to apply these rules, even if they are overridden (advanced option)</span>
        loader<span class="token punctuation">:</span> <span class="token string">"babel-loader"</span><span class="token punctuation">,</span>
        <span class="token comment">// the loader which should be applied, it'll be resolved relative to the context</span>
        options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          presets<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"es2015"</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// options for the loader</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\\.html$/</span><span class="token punctuation">,</span>
        use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token comment">// apply multiple loaders and options</span>
          <span class="token string">"htmllint-loader"</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token punctuation">:</span> <span class="token string">"html-loader"</span><span class="token punctuation">,</span>
            options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
              <span class="token comment">/* ... */</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> oneOf<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token comment">/* rules */</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// only use one of these nested rules</span>
      <span class="token punctuation">{</span> rules<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token comment">/* rules */</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// use all of these nested rules (combine with conditions to be useful)</span>
      <span class="token punctuation">{</span> resource<span class="token punctuation">:</span> <span class="token punctuation">{</span> and<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token comment">/* conditions */</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// matches only if all conditions are matched</span>
      <span class="token punctuation">{</span> resource<span class="token punctuation">:</span> <span class="token punctuation">{</span> or<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token comment">/* conditions */</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> resource<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token comment">/* conditions */</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// matches if any condition is matched (default for arrays)</span>
      <span class="token punctuation">{</span> resource<span class="token punctuation">:</span> <span class="token punctuation">{</span> not<span class="token punctuation">:</span> <span class="token comment">/* condition */</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
      <span class="token comment">// matches if the condition is not matched</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token keyword" componentname="advancedModule" url="#"><span class="token operator">&#x3C;</span>advancedModule <span class="token string">"#"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* Advanced module configuration (click to show) */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      noParse<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token regex">/special-library\\.js$/</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// do not parse this module</span>
      unknownContextRequest<span class="token punctuation">:</span> <span class="token string">"."</span><span class="token punctuation">,</span>
      unknownContextRecursive<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      unknownContextRegExp<span class="token punctuation">:</span> <span class="token regex">/^\\.\\/</span><span class="token punctuation">.</span><span class="token operator">*</span>$<span class="token operator">/</span><span class="token punctuation">,</span>
      unknownContextCritical<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      exprContextRequest<span class="token punctuation">:</span> <span class="token string">"."</span><span class="token punctuation">,</span>
      exprContextRegExp<span class="token punctuation">:</span> <span class="token regex">/^\\.\\/</span><span class="token punctuation">.</span><span class="token operator">*</span>$<span class="token operator">/</span><span class="token punctuation">,</span>
      exprContextRecursive<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      exprContextCritical<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      wrappedContextRegExp<span class="token punctuation">:</span> <span class="token regex">/.*/</span><span class="token punctuation">,</span>
      wrappedContextRecursive<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      wrappedContextCritical<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// specifies default behavior for dynamic requests</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>advancedModule<span class="token operator">></span></span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// options for resolving module requests</span>
    <span class="token comment">// (does not apply to resolving to loaders)</span>
    modules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">"node_modules"</span><span class="token punctuation">,</span>
      path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"app"</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// directories where to look for modules</span>
    extensions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">".js"</span><span class="token punctuation">,</span> <span class="token string">".json"</span><span class="token punctuation">,</span> <span class="token string">".jsx"</span><span class="token punctuation">,</span> <span class="token string">".css"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// extensions that are used</span>
    alias<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// a list of module name aliases</span>
      <span class="token string">"module"</span><span class="token punctuation">:</span> <span class="token string">"new-module"</span><span class="token punctuation">,</span>
      <span class="token comment">// alias "module" -> "new-module" and "module/path/file" -> "new-module/path/file"</span>
      <span class="token string">"only-module$"</span><span class="token punctuation">:</span> <span class="token string">"new-module"</span><span class="token punctuation">,</span>
      <span class="token comment">// alias "only-module" -> "new-module", but not "only-module/path/file" -> "new-module/path/file"</span>
      <span class="token string">"module"</span><span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"app/third/module.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">// alias "module" -> "./app/third/module.js" and "module/file" results in error</span>
      <span class="token comment">// modules aliases are imported relative to the current context</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword" componentname="alias" url="/configuration/resolve/#resolvealias"><span class="token operator">&#x3C;</span>alias <span class="token string">"/configuration/resolve/#resolvealias"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* Alternative alias syntax (click to show) */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      alias<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          name<span class="token punctuation">:</span> <span class="token string">"module"</span><span class="token punctuation">,</span>
          <span class="token comment">// the old request</span>
          alias<span class="token punctuation">:</span> <span class="token string">"new-module"</span><span class="token punctuation">,</span>
          <span class="token comment">// the new request</span>
          onlyModule<span class="token punctuation">:</span> <span class="token boolean">true</span>
          <span class="token comment">// if true only "module" is aliased</span>
          <span class="token comment">// if false "module/inner/path" is also aliased</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>alias<span class="token operator">></span></span>
    <span class="token keyword" componentname="advancedResolve" url="#"><span class="token operator">&#x3C;</span>advancedResolve <span class="token string">"#"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* Advanced resolve configuration (click to show) */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      symlinks<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// follow symlinks to new location</span>
      descriptionFiles<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"package.json"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// files that are read for package description</span>
      mainFields<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"main"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// properties that are read from description file</span>
      <span class="token comment">// when a folder is requested</span>
      aliasFields<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"browser"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// properties that are read from description file</span>
      <span class="token comment">// to alias requests in this package</span>
      enforceExtension<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// if true request must not include an extension</span>
      <span class="token comment">// if false request may already include an extension</span>
      moduleExtensions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"-module"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      enforceModuleExtension<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// like extensions/enforceExtension but for module names instead of files</span>
      unsafeCache<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      unsafeCache<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// enables caching for resolved requests</span>
      <span class="token comment">// this is unsafe as folder structure may change</span>
      <span class="token comment">// but performance improvement is really big</span>
      cachePredicate<span class="token punctuation">:</span> <span class="token punctuation">(</span>path<span class="token punctuation">,</span> request<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// predicate function which selects requests for caching</span>
      plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">]</span>
      <span class="token comment">// additional plugins applied to the resolver</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>advancedResolve<span class="token operator">></span></span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  performance<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token keyword" componentname="hints" url="/configuration/performance/#performance-hints"><span class="token operator">&#x3C;</span>hints <span class="token string">"/configuration/performance/#performance-hints"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        hints<span class="token punctuation">:</span> <span class="token string">"warning"</span><span class="token punctuation">,</span> <span class="token comment">// enum</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      hints<span class="token punctuation">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span> <span class="token comment">// emit errors for perf hints</span>
      hints<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// turn off perf hints</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>hints<span class="token operator">></span></span>
    maxAssetSize<span class="token punctuation">:</span> <span class="token number">200000</span><span class="token punctuation">,</span> <span class="token comment">// int (in bytes),</span>
    maxEntrypointSize<span class="token punctuation">:</span> <span class="token number">400000</span><span class="token punctuation">,</span> <span class="token comment">// int (in bytes)</span>
    assetFilter<span class="token punctuation">:</span> <span class="token function">function</span><span class="token punctuation">(</span>assetFilename<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Function predicate that provides asset filenames</span>
      return assetFilename<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'.css'</span><span class="token punctuation">)</span> <span class="token operator">||</span> assetFilename<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword" componentname="devtool" url="/configuration/devtool"><span class="token operator">&#x3C;</span>devtool <span class="token string">"/configuration/devtool"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      devtool<span class="token punctuation">:</span> <span class="token string">"source-map"</span><span class="token punctuation">,</span> <span class="token comment">// enum</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    devtool<span class="token punctuation">:</span> <span class="token string">"inline-source-map"</span><span class="token punctuation">,</span> <span class="token comment">// inlines SourceMap into original file</span>
    devtool<span class="token punctuation">:</span> <span class="token string">"eval-source-map"</span><span class="token punctuation">,</span> <span class="token comment">// inlines SourceMap per module</span>
    devtool<span class="token punctuation">:</span> <span class="token string">"hidden-source-map"</span><span class="token punctuation">,</span> <span class="token comment">// SourceMap without reference in original file</span>
    devtool<span class="token punctuation">:</span> <span class="token string">"cheap-source-map"</span><span class="token punctuation">,</span> <span class="token comment">// cheap-variant of SourceMap without module mappings</span>
    devtool<span class="token punctuation">:</span> <span class="token string">"cheap-module-source-map"</span><span class="token punctuation">,</span> <span class="token comment">// cheap-variant of SourceMap with module mappings</span>
    devtool<span class="token punctuation">:</span> <span class="token string">"eval"</span><span class="token punctuation">,</span> <span class="token comment">// no SourceMap, but named modules. Fastest at the expense of detail.</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>devtool<span class="token operator">></span></span>
  <span class="token comment">// enhance debugging by adding meta info for the browser devtools</span>
  <span class="token comment">// source-map most detailed at the expense of build speed.</span>
  context<span class="token punctuation">:</span> __dirname<span class="token punctuation">,</span> <span class="token comment">// string (absolute path!)</span>
  <span class="token comment">// the home directory for webpack</span>
  <span class="token comment">// the entry and module.rules.loader option</span>
  <span class="token comment">//   is resolved relative to this directory</span>
  <span class="token keyword" componentname="target" url="/configuration/target"><span class="token operator">&#x3C;</span>target <span class="token string">"/configuration/target"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      target<span class="token punctuation">:</span> <span class="token string">"web"</span><span class="token punctuation">,</span> <span class="token comment">// enum</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    target<span class="token punctuation">:</span> <span class="token string">"webworker"</span><span class="token punctuation">,</span> <span class="token comment">// WebWorker</span>
    target<span class="token punctuation">:</span> <span class="token string">"node"</span><span class="token punctuation">,</span> <span class="token comment">// Node.js via require</span>
    target<span class="token punctuation">:</span> <span class="token string">"async-node"</span><span class="token punctuation">,</span> <span class="token comment">// Node.js via fs and vm</span>
    target<span class="token punctuation">:</span> <span class="token string">"node-webkit"</span><span class="token punctuation">,</span> <span class="token comment">// nw.js</span>
    target<span class="token punctuation">:</span> <span class="token string">"electron-main"</span><span class="token punctuation">,</span> <span class="token comment">// electron, main process</span>
    target<span class="token punctuation">:</span> <span class="token string">"electron-renderer"</span><span class="token punctuation">,</span> <span class="token comment">// electron, renderer process</span>
    target<span class="token punctuation">:</span> <span class="token punctuation">(</span>compiler<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// custom</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>target<span class="token operator">></span></span>
  <span class="token comment">// the environment in which the bundle should run</span>
  <span class="token comment">// changes chunk loading behavior and available modules</span>
  <span class="token keyword" componentname="externals" url="/configuration/externals"><span class="token operator">&#x3C;</span>externals <span class="token string">"/configuration/externals"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      externals<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"react"</span><span class="token punctuation">,</span> <span class="token operator">/</span><span class="token operator">^</span>@angular<span class="token operator">/</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    externals<span class="token punctuation">:</span> <span class="token string">"react"</span><span class="token punctuation">,</span> <span class="token comment">// string (exact match)</span>
    externals<span class="token punctuation">:</span> <span class="token regex">/^[a-z\\-]+($|\\/</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">,</span> <span class="token comment">// Regex</span>
    externals<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// object</span>
      angular<span class="token punctuation">:</span> <span class="token string">"this angular"</span><span class="token punctuation">,</span> <span class="token comment">// this["angular"]</span>
      react<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// UMD</span>
        commonjs<span class="token punctuation">:</span> <span class="token string">"react"</span><span class="token punctuation">,</span>
        commonjs2<span class="token punctuation">:</span> <span class="token string">"react"</span><span class="token punctuation">,</span>
        amd<span class="token punctuation">:</span> <span class="token string">"react"</span><span class="token punctuation">,</span>
        root<span class="token punctuation">:</span> <span class="token string">"React"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    externals<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>request<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token keyword">return</span> <span class="token string">"commonjs "</span> <span class="token operator">+</span> request <span class="token punctuation">}</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>externals<span class="token operator">></span></span>
  <span class="token comment">// Don't follow/bundle these modules, but request them at runtime from the environment</span>
  <span class="token keyword" componentname="stats" url="/configuration/stats"><span class="token operator">&#x3C;</span>stats <span class="token string">"/configuration/stats"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      stats<span class="token punctuation">:</span> <span class="token string">"errors-only"</span><span class="token punctuation">,</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    stats<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">//object</span>
      assets<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      colors<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      errors<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      errorDetails<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      hash<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>stats<span class="token operator">></span></span>
  <span class="token comment">// lets you precisely control what bundle information gets displayed</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    proxy<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// proxy URLs to backend development server</span>
      <span class="token string">'/api'</span><span class="token punctuation">:</span> <span class="token string">'http://localhost:3000'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    contentBase<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'public'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// boolean | string | array, static file location</span>
    compress<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// enable gzip compression</span>
    historyApiFallback<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// true for index.html upon 404, object for multiple paths</span>
    hot<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// hot module replacement. Depends on HotModuleReplacementPlugin</span>
    https<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// true for self-signed, object for cert authority</span>
    noInfo<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// only errors &#x26; warns on hot reload</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// list of additional plugins</span>
  <span class="token keyword" componentname="advanced" url="#"><span class="token operator">&#x3C;</span>advanced <span class="token string">"#"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      <span class="token comment">/* Advanced configuration (click to show) */</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    resolveLoader<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">/* same as resolve */</span> <span class="token punctuation">}</span>
    <span class="token comment">// separate resolve options for loaders</span>
    parallelism<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// number</span>
    <span class="token comment">// limit the number of parallel processed modules</span>
    profile<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
    <span class="token comment">// capture timing information</span>
    bail<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//boolean</span>
    <span class="token comment">// fail out on the first error instead of tolerating it.</span>
    cache<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
    <span class="token comment">// disable/enable caching</span>
    watch<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
    <span class="token comment">// enables watching</span>
    watchOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      aggregateTimeout<span class="token punctuation">:</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token comment">// in ms</span>
      <span class="token comment">// aggregates multiple changes to a single rebuild</span>
      poll<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      poll<span class="token punctuation">:</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token comment">// intervall in ms</span>
      <span class="token comment">// enables polling mode for watching</span>
      <span class="token comment">// must be used on filesystems that doesn't notify on change</span>
      <span class="token comment">// i. e. nfs shares</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    node<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// Polyfills and mocks to run Node.js-</span>
      <span class="token comment">// environment code in non-Node environments.</span>
      console<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// boolean | "mock"</span>
      global<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean | "mock"</span>
      process<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
      __filename<span class="token punctuation">:</span> <span class="token string">"mock"</span><span class="token punctuation">,</span> <span class="token comment">// boolean | "mock"</span>
      __dirname<span class="token punctuation">:</span> <span class="token string">"mock"</span><span class="token punctuation">,</span> <span class="token comment">// boolean | "mock"</span>
      Buffer<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean | "mock"</span>
      setImmediate<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token comment">// boolean | "mock" | "empty"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    recordsPath<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"build/records.json"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    recordsInputPath<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"build/records.json"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    recordsOutputPath<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"build/records.json"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// TODO</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>advanced<span class="token operator">></span></span></code></pre>
<blockquote class="warning">
<p>webpack applies configuration defaults after <a href="/contribute/writing-a-plugin/#configuration-defaults">plugins defaults</a> are applied.</p>
</blockquote>
<blockquote class="tip">
<p>Want to rapidly generate webpack configuration file for your project requirements with few clicks away.</p>
</blockquote>
<p><a href="https://generatewebpackconfig.netlify.com/">Generate Custom Webpack Configuration</a> is an interactive portal you can play around by selecting custom webpack configuration options tailored for your frontend project. It automatically generates
a minimal webpack configuration based on your selection of loaders/plugins, etc.</p>
<p>Or use <a href="https://github.com/webpack/webpack-cli/tree/master/packages/init#cli-via-webpack-cli">webpack-cli's <code>init</code> command</a> that will ask you a couple of questions before creating a configuration file.</p>
<pre><code class="hljs language-bash">npx webpack-cli init</code></pre>
<blockquote class="warning">
<p>You might be prompted to install <code>@webpack-cli/init</code> if it is not yet installed in the project or globally.</p>
</blockquote>
<blockquote class="tip">
<p>After running <code>npx webpack-cli init</code> you might get more packages installed to your project depending on the choices you've made during configuration generation.</p>
</blockquote>
<pre><code class="hljs language-bash">npx webpack-cli init

â„¹ INFO For <span class="token function">more</span> information and a detailed description of each question, have a <span class="token function">look</span> at https://github.com/webpack/webpack-cli/blob/master/INIT.md
â„¹ INFO Alternatively, run <span class="token variable"><span class="token variable">`</span>webpack<span class="token punctuation">(</span>-cli<span class="token punctuation">)</span> --help<span class="token variable">`</span></span> <span class="token keyword">for</span> usage info.

? Will your application have multiple bundles? No
? Which module will be the first to enter the application? <span class="token punctuation">[</span>default: ./src/index<span class="token punctuation">]</span>
? Which folder will your generated bundles be in? <span class="token punctuation">[</span>default: dist<span class="token punctuation">]</span>:
? Will you be using ES2015? Yes
? Will you use one of the below CSS solutions? No

+ babel-plugin-syntax-dynamic-import@6.18.0
+ uglifyjs-webpack-plugin@2.0.1
+ webpack-cli@3.2.3
+ @babel/core@7.2.2
+ babel-loader@8.0.4
+ @babel/preset-env@7.1.0
+ webpack@4.29.3
added 124 packages from 39 contributors, updated 4 packages and audited 25221 packages <span class="token keyword">in</span> 7.463s
found 0 vulnerabilities


Congratulations<span class="token operator">!</span> Your new webpack configuration <span class="token function">file</span> has been created<span class="token operator">!</span></code></pre>
<p><a href="https://createapp.dev/webpack">createapp.dev - create a webpack configuration in your browser</a> is an online tool for creating custom webpack configuration. It allows you to select various features that will be combined and added to resulting configuration file. Also, it generates an example project based on provided webpack configuration that you can review in your browser and download.</p>
<h1 id="Configuration-Languages">Configuration Languages<a href="#Configuration-Languages" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>webpack æ”¯æŒä½¿ç”¨å¤šç§ç¼–ç¨‹è¯­è¨€å’Œæ•°æ®æè¿°æ ¼å¼æ¥ç¼–å†™é…ç½®æ–‡ä»¶ã€‚åœ¨ <a href="https://github.com/gulpjs/interpret">node-interpret</a> ä¸­ä½ å¯ä»¥æ‰¾åˆ°å½“å‰æ‰€æ”¯æŒçš„æ–‡ä»¶ç±»å‹åˆ—è¡¨ï¼Œé€šè¿‡ <a href="https://github.com/gulpjs/interpret">node-interpret</a>ï¼Œwebpack èƒ½å¤Ÿå¤„ç†è¿™äº›ç±»å‹çš„é…ç½®æ–‡ä»¶ã€‚</p>
<h2 id="typescript">TypeScript <a href="#typescript" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>è¦ä½¿ç”¨ <a href="https://www.typescriptlang.org/">Typescript</a> æ¥ç¼–å†™ webpack é…ç½®ï¼Œä½ éœ€è¦å…ˆå®‰è£…å¿…è¦çš„ä¾èµ–ï¼Œæ¯”å¦‚ Typescript ä»¥åŠå…¶ç›¸åº”çš„ç±»å‹å£°æ˜ï¼Œç±»å‹å£°æ˜å¯ä»¥ä» <a href="https://definitelytyped.org/">DefinitelyTyped</a> é¡¹ç›®ä¸­è·å–ï¼Œä¾èµ–å®‰è£…å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev typescript ts-node @types/node @types/webpack
<span class="token comment"># å¦‚æœä½¿ç”¨ webpack-dev-serverï¼Œè¿˜éœ€è¦å®‰è£…ä»¥ä¸‹ä¾èµ–</span>
<span class="token function">npm</span> <span class="token function">install</span> --save-dev @types/webpack-dev-server</code></pre>
<p>å®Œæˆä¾èµ–å®‰è£…åä¾¿å¯ä»¥å¼€å§‹ç¼–å†™é…ç½®æ–‡ä»¶ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<p><strong>webpack.config.ts</strong></p>
<pre><code class="hljs language-typescript"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> path <span class="token keyword">from</span> <span class="token string">'path'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> webpack <span class="token keyword">from</span> <span class="token string">'webpack'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> config<span class="token punctuation">:</span> webpack<span class="token punctuation">.</span>Configuration <span class="token operator">=</span> <span class="token punctuation">{</span>
  mode<span class="token punctuation">:</span> <span class="token string">'production'</span><span class="token punctuation">,</span>
  entry<span class="token punctuation">:</span> <span class="token string">'./foo.js'</span><span class="token punctuation">,</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token punctuation">:</span> <span class="token string">'foo.bundle.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> config<span class="token punctuation">;</span></code></pre>
<p>è¯¥ç¤ºä¾‹éœ€è¦ typescript ç‰ˆæœ¬åœ¨ 2.7 åŠä»¥ä¸Šï¼Œå¹¶åœ¨ <code>tsconfig.json</code> æ–‡ä»¶çš„ compilerOptions ä¸­æ·»åŠ  <code>esModuleInterop</code> å’Œ <code>allowSyntheticDefaultImports</code> ä¸¤ä¸ªé…ç½®é¡¹ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ä½ éœ€è¦ç¡®ä¿ <code>tsconfig.json</code> çš„ <code>compilerOptions</code> ä¸­ module é€‰é¡¹çš„å€¼ä¸º <code>commonjs</code>,å¦åˆ™ webpack çš„è¿è¡Œä¼šå¤±è´¥æŠ¥é”™ï¼Œå› ä¸º <code>ts-node</code> ä¸æ”¯æŒ <code>commonjs</code> ä»¥å¤–çš„å…¶ä»–æ¨¡å—è§„èŒƒã€‚</p>
<p>ä½ å¯ä»¥é€šè¿‡ä¸¤ä¸ªé€”å¾„æ¥å®Œæˆ module çš„è®¾ç½®:</p>
<ul>
<li>ç›´æ¥ä¿®æ”¹ <code>tsconfig.json</code> æ–‡ä»¶</li>
<li>ä½¿ç”¨ <code>tsconfig-paths</code></li>
</ul>
<p>ç¬¬ä¸€ç§æ–¹æ³•å°±æ˜¯æ‰“å¼€ä½ çš„ <code>tsconfig.json</code> æ–‡ä»¶ï¼Œæ‰¾åˆ° <code>compilerOptions</code> çš„é…ç½®ï¼Œç„¶åè®¾ç½® <code>target</code> å’Œ <code>module</code> çš„é€‰é¡¹åˆ†åˆ«ä¸º <code>"ES5"</code> å’Œ <code>"CommonJs"</code> (åœ¨ <code>target</code> è®¾ç½®ä¸º <code>es5</code> æ—¶ä½ ä¹Ÿå¯ä»¥ä¸æ˜¾ç¤ºç¼–å†™ <code>module</code> é…ç½®)ã€‚</p>
<p>ç¬¬äºŒç§æ–¹æ³•éœ€è¦å…ˆå®‰è£… <code>tsconfig-paths</code> è¿™ä¸ª npm åŒ…ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev tsconfig-paths</code></pre>
<p>å®‰è£…åä½ å¯ä»¥ä¸º webpack é…ç½®åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„ TypeScript é…ç½®æ–‡ä»¶ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<p><strong>tsconfig-for-webpack-config.json</strong></p>
<pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"compilerOptions"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"module"</span><span class="token operator">:</span> <span class="token string">"commonjs"</span><span class="token punctuation">,</span>
    <span class="token property">"target"</span><span class="token operator">:</span> <span class="token string">"es5"</span><span class="token punctuation">,</span>
    <span class="token property">"esModuleInterop"</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<blockquote class="tip">
<p>ts-node å¯ä»¥æ ¹æ® <code>tsconfig-paths</code> æä¾›çš„ç¯å¢ƒå˜é‡ <code>process.env.TS_NODE_PROJECT</code> æ¥æ‰¾åˆ° <code>tsconfig.json</code> æ–‡ä»¶è·¯å¾„ã€‚</p>
</blockquote>
<p><code>process.env.TS_NODE_PROJECT</code> å˜é‡çš„è®¾ç½®å¦‚ä¸‹æ‰€ç¤º:</p>
<p><strong>package.json</strong></p>
<pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"cross-env TS_NODE_PROJECT=\"tsconfig-for-webpack-config.json\" webpack"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>ä¹‹æ‰€ä»¥è¦æ·»åŠ  <code>cross-env</code>ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬åœ¨ç›´æ¥ä½¿ç”¨ <code>TS_NODE_PROJECT</code> æ—¶é‡åˆ°è¿‡ <code>"TS_NODE_PROJECT" unrecognized command</code> æŠ¥é”™çš„åé¦ˆï¼Œæ·»åŠ  <code>cross-env</code> ä¹‹åè¯¥é—®é¢˜ä¹Ÿä¼¼ä¹å¾—åˆ°äº†è§£å†³ï¼Œä½ å¯ä»¥æŸ¥çœ‹<a href="https://github.com/webpack/webpack.js.org/issues/2733">è¿™ä¸ª issue</a>è·å–åˆ°å…³äºè¯¥é—®é¢˜çš„æ›´å¤šä¿¡æ¯ã€‚</p>
<h2 id="coffeescript">CoffeeScript <a href="#coffeescript" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>ä¸ <code>Typescript</code> ç±»ä¼¼ï¼Œåœ¨ä½¿ç”¨ CoffeeScript å‰éœ€è¦å…ˆå®‰è£…å…¶ä¾èµ–ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev coffee-script</code></pre>
<p>å®Œæˆå®‰è£…ä¹‹åä¾¿å¯ä»¥å¼€å§‹ç¼–å†™ webpack é…ç½®ï¼Œç¤ºä¾‹å¦‚ä¸‹:</p>
<p><strong>webpack.config.coffee</strong></p>
<!-- eslint-skip -->
<pre><code class="hljs language-js">HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>
webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span>
path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>

config <span class="token operator">=</span>
  mode<span class="token punctuation">:</span> <span class="token string">'production'</span>
  entry<span class="token punctuation">:</span> <span class="token string">'./path/to/my/entry/file.js'</span>
  output<span class="token punctuation">:</span>
    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span>
    filename<span class="token punctuation">:</span> <span class="token string">'my-first-webpack.bundle.js'</span>
  module<span class="token punctuation">:</span> rules<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span>
    test<span class="token punctuation">:</span> <span class="token regex">/\.(js|jsx)$/</span>
    use<span class="token punctuation">:</span> <span class="token string">'babel-loader'</span>
  <span class="token punctuation">}</span> <span class="token punctuation">]</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span>template<span class="token punctuation">:</span> <span class="token string">'./src/index.html'</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> config</code></pre>
<h2 id="babel-and-jsx">Babel and JSX <a href="#babel-and-jsx" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>ä¸‹è¿°çš„ç¤ºä¾‹ä¸­ä½¿ç”¨äº† JSXï¼ˆç”¨äº React çš„ JavaScript æ ‡è®°è¯­è¨€ï¼‰å’Œ babel æ¥åˆ›å»ºæ ¼å¼ä¸º json çš„ webpack é…ç½®æ–‡ä»¶ã€‚</p>
<blockquote>
<p>æ„Ÿè°¢ <a href="https://twitter.com/_developit">Jason Miller</a> æä¾›ç¤ºä¾‹ä»£ç </p>
</blockquote>
<p>é¦–å…ˆéœ€è¦å®‰è£…ä¸€äº›å¿…è¦ä¾èµ–ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev babel-register jsxobj babel-preset-es2015</code></pre>
<p><strong>.babelrc</strong></p>
<pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"presets"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">"es2015"</span> <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre>
<p><strong>webpack.config.babel.js</strong></p>
<pre><code class="hljs language-js"><span class="token keyword">import</span> jsxobj <span class="token keyword">from</span> <span class="token string">'jsxobj'</span><span class="token punctuation">;</span>

<span class="token comment">// æ’ä»¶å¼•å…¥ç¤ºä¾‹</span>
<span class="token keyword">const</span> <span class="token function-variable function">CustomPlugin</span> <span class="token operator">=</span> config <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token operator">...</span>config<span class="token punctuation">,</span>
  name<span class="token punctuation">:</span> <span class="token string">'custom-plugin'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span>
  <span class="token operator">&#x3C;</span>webpack target<span class="token operator">=</span><span class="token string">"web"</span> watch mode<span class="token operator">=</span><span class="token string">"production"</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span>entry path<span class="token operator">=</span><span class="token string">"src/index.js"</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span>resolve<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>alias <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">{</span>
        react<span class="token punctuation">:</span> <span class="token string">'preact-compat'</span><span class="token punctuation">,</span>
        <span class="token string">'react-dom'</span><span class="token punctuation">:</span> <span class="token string">'preact-compat'</span>
      <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>resolve<span class="token operator">></span>
    <span class="token operator">&#x3C;</span>plugins<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>CustomPlugin foo<span class="token operator">=</span><span class="token string">"bar"</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>plugins<span class="token operator">></span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>webpack<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>å¦‚æœä½ åœ¨å…¶ä»–åœ°æ–¹ä¹Ÿä½¿ç”¨äº† Babel å¹¶ä¸” <code>modules</code> çš„å€¼è®¾ç½®ä¸º <code>false</code>ï¼Œåˆ™å¿…é¡»ç»´æŠ¤ä¸¤ä»½ <code>.babelrc</code> çš„æ–‡ä»¶ï¼Œæˆ–è€…ä½ ä¹Ÿå¯ä»¥å°†ä¸Šè¿°ç¤ºä¾‹ä¸­çš„ <code>import jsxobj from 'jsxobj';</code> æ›¿æ¢ä¸º <code>const jsxobj = require('jsxobj');</code> å¹¶å°†æ–°çš„ <code>export</code> è¯­æ³•æ›¿æ¢ä¸º <code>module.exports</code>ï¼Œå› ä¸ºå°½ç®¡ Node ç›®å‰å·²ç»æ”¯æŒäº† ES6 çš„è®¸å¤šæ–°ç‰¹æ€§ï¼Œä½†æ˜¯ä»ç„¶æ²¡æœ‰æ”¯æŒ ES6 çš„æ¨¡å—è¯­æ³•ã€‚</p>
<h1 id="Configuration-Types">Configuration Types<a href="#Configuration-Types" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>Besides exporting a single configuration object, there are a few more ways that cover other needs as well.</p>
<h2 id="exporting-a-function">Exporting a Function <a href="#exporting-a-function" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>Eventually you will find the need to disambiguate in your <code>webpack.config.js</code> between <a href="/guides/development">development</a> and <a href="/guides/production">production builds</a>. You have (at least) two options:</p>
<p>One option is to export a function from your webpack configuration instead of exporting an object. The function will be invoked with two arguments:</p>
<ul>
<li>An environment as the first parameter. See the <a href="/api/cli/#environment-options">environment options CLI documentation</a> for syntax examples.</li>
<li>An options map (<code>argv</code>) as the second parameter. This describes the options passed to webpack, with keys such as <a href="/api/cli/#output-options"><code>output-filename</code></a> and <a href="/api/cli/#optimize-options"><code>optimize-minimize</code></a>.</li>
</ul>
<pre><code class="hljs language-diff"><span class="token deleted">-module.exports = {</span>
<span class="token inserted">+module.exports = function(env, argv) {</span>
<span class="token inserted">+  return {</span>
<span class="token inserted">+    mode: env.production ? 'production' : 'development',</span>
<span class="token inserted">+    devtool: env.production ? 'source-map' : 'eval',</span>
     plugins: [
       new TerserPlugin({
         terserOptions: {
<span class="token inserted">+          compress: argv['optimize-minimize'] // only if -p or --optimize-minimize were passed</span>
         }
       })
     ]
<span class="token inserted">+  };</span>
};</code></pre>
<h2 id="exporting-a-promise">Exporting a Promise <a href="#exporting-a-promise" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>webpack will run the function exported by the configuration file and wait for a Promise to be returned. Handy when you need to asynchronously load configuration variables.</p>
<blockquote class="tip">
<p>It is possible to export multiple promises by wrapping them into <code>Promise.all([/* Your promises */]).</code></p>
</blockquote>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        entry<span class="token punctuation">:</span> <span class="token string">'./app.js'</span><span class="token punctuation">,</span>
        <span class="token comment">/* ... */</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p>Returning a <code>Promise</code> only works when using webpack via CLI. <a href="/api/node/#webpack"><code>webpack()</code></a> expects an object.</p>
</blockquote>
<h2 id="exporting-multiple-configurations">Exporting multiple configurations <a href="#exporting-multiple-configurations" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>Instead of exporting a single configuration object/function, you may export multiple configurations (multiple functions are supported since webpack 3.1.0). When running webpack, all configurations are built. For instance, this is useful for <a href="/guides/author-libraries">bundling a library</a> for multiple <a href="/configuration/output/#outputlibrarytarget">targets</a> such as AMD and CommonJS:</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'./dist-amd.js'</span><span class="token punctuation">,</span>
    libraryTarget<span class="token punctuation">:</span> <span class="token string">'amd'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  name<span class="token punctuation">:</span> <span class="token string">'amd'</span><span class="token punctuation">,</span>
  entry<span class="token punctuation">:</span> <span class="token string">'./app.js'</span><span class="token punctuation">,</span>
  mode<span class="token punctuation">:</span> <span class="token string">'production'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'./dist-commonjs.js'</span><span class="token punctuation">,</span>
    libraryTarget<span class="token punctuation">:</span> <span class="token string">'commonjs'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  name<span class="token punctuation">:</span> <span class="token string">'commonjs'</span><span class="token punctuation">,</span>
  entry<span class="token punctuation">:</span> <span class="token string">'./app.js'</span><span class="token punctuation">,</span>
  mode<span class="token punctuation">:</span> <span class="token string">'production'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>If you pass a name to <a href="/api/cli/#configuration-options"><code>--config-name</code></a> flag, webpack will only build that specific configuration.</p>
</blockquote>
<h1 id="å…¥å£å’Œä¸Šä¸‹æ–‡entry-and-context">å…¥å£å’Œä¸Šä¸‹æ–‡(entry and context)<a href="#%E5%85%A5%E5%8F%A3%E5%92%8C%E4%B8%8A%E4%B8%8B%E6%96%87entry-and-context" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>å…¥å£å¯¹è±¡æ˜¯ç”¨äº webpack æŸ¥æ‰¾å¼€å§‹æ„å»º bundle çš„åœ°æ–¹ã€‚ä¸Šä¸‹æ–‡æ˜¯å…¥å£æ–‡ä»¶æ‰€å¤„çš„ç›®å½•çš„ç»å¯¹è·¯å¾„çš„å­—ç¬¦ä¸²ã€‚</p>
<h2 id="context"><code>context</code> <a href="#context" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>åŸºç¡€ç›®å½•ï¼Œ<strong>ç»å¯¹è·¯å¾„</strong>ï¼Œç”¨äºä»é…ç½®ä¸­è§£æå…¥å£ç‚¹(entry point)å’Œ åŠ è½½å™¨(loader)ã€‚</p>
<pre><code class="hljs language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  context<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'app'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é»˜è®¤ä½¿ç”¨å½“å‰ç›®å½•ï¼Œä½†æ˜¯æ¨èåœ¨é…ç½®ä¸­ä¼ å…¥ä¸€ä¸ªå€¼ã€‚è¿™ä½¿å¾—ä½ çš„é…ç½®ç‹¬ç«‹äº CWD(current working directory, å½“å‰å·¥ä½œç›®å½•)ã€‚</p>
<hr>
<h2 id="entry"><code>entry</code> <a href="#entry" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code> <code>[string]</code> <code>object = { &#x3C;key> string | [string] | object = { import string | [string], dependOn string | [string], filename string }}</code> <code>(function() => string | [string] | object = { &#x3C;key> string | [string] } | object = { import string | [string], dependOn string | [string], filename string })</code></p>
<p>å¼€å§‹åº”ç”¨ç¨‹åºæ‰“åŒ…è¿‡ç¨‹çš„ä¸€ä¸ªæˆ–å¤šä¸ªèµ·ç‚¹ã€‚å¦‚æœä¼ å…¥æ•°ç»„ï¼Œåˆ™ä¼šå¤„ç†æ‰€æœ‰æ¡ç›®ã€‚</p>
<p>åŠ¨æ€åŠ è½½çš„æ¨¡å— <strong>ä¸æ˜¯</strong> å…¥å£èµ·ç‚¹ã€‚</p>
<p>ç®€å•è§„åˆ™ï¼šæ¯ä¸ª HTML é¡µé¢éƒ½æœ‰ä¸€ä¸ªå…¥å£èµ·ç‚¹ã€‚å•é¡µåº”ç”¨(SPA)ï¼šä¸€ä¸ªå…¥å£èµ·ç‚¹ï¼Œå¤šé¡µåº”ç”¨(MPA)ï¼šå¤šä¸ªå…¥å£èµ·ç‚¹ã€‚</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    home<span class="token punctuation">:</span> <span class="token string">'./home.js'</span><span class="token punctuation">,</span>
    about<span class="token punctuation">:</span> <span class="token string">'./about.js'</span><span class="token punctuation">,</span>
    contact<span class="token punctuation">:</span> <span class="token string">'./contact.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="naming">Naming <a href="#naming" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>å¦‚æœä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–å­—ç¬¦ä¸²æ•°ç»„ï¼Œchunk ä¼šè¢«å‘½åä¸º <code>main</code>ã€‚å¦‚æœä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™æ¯ä¸ªå±æ€§çš„é”®(key)ä¼šæ˜¯ chunk çš„åç§°ï¼Œè¯¥å±æ€§çš„å€¼æè¿°äº† chunk çš„å…¥å£ç‚¹ã€‚</p>
<h3 id="entry-descriptor">Entry descriptor <a href="#entry-descriptor" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>å¦‚æœä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„å±æ€§çš„å€¼å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€å­—ç¬¦ä¸²æ•°ç»„æˆ–è€…ä¸€ä¸ªæè¿°ç¬¦(descriptor):</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    home<span class="token punctuation">:</span> <span class="token string">'./home.js'</span><span class="token punctuation">,</span>
    shared<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'react'</span><span class="token punctuation">,</span> <span class="token string">'react-dom'</span><span class="token punctuation">,</span> <span class="token string">'redux'</span><span class="token punctuation">,</span> <span class="token string">'react-redux'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    catalog<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token keyword">import</span><span class="token punctuation">:</span> <span class="token string">'./catalog.js'</span><span class="token punctuation">,</span>
      filename<span class="token punctuation">:</span> <span class="token string">'pages/catalog.js'</span><span class="token punctuation">,</span>
      dependOn<span class="token punctuation">:</span><span class="token string">'shared'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    personal<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token keyword">import</span><span class="token punctuation">:</span> <span class="token string">'./personal.js'</span><span class="token punctuation">,</span>
      filename<span class="token punctuation">:</span> <span class="token string">'pages/personal.js'</span><span class="token punctuation">,</span>
      dependOn<span class="token punctuation">:</span><span class="token string">'shared'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>æè¿°ç¬¦è¯­æ³•å¯ä»¥ç”¨æ¥ä¼ å…¥é¢å¤–çš„é€‰é¡¹ç»™å…¥å£ã€‚</p>
<h3 id="output-filename">Output filename <a href="#output-filename" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå…¥å£ chunk çš„è¾“å‡ºæ–‡ä»¶åæ˜¯ä» <a href="/configuration/output/#outputfilename"><code>output.filename</code></a> ä¸­æå–å‡ºæ¥çš„ï¼Œä½†ä½ å¯ä»¥ä¸ºç‰¹å®šçš„å…¥å£æŒ‡å®šä¸€ä¸ªè‡ªå®šä¹‰çš„è¾“å‡ºæ–‡ä»¶åã€‚</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">:</span> <span class="token string">'./app.js'</span><span class="token punctuation">,</span>
    home<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token keyword">import</span><span class="token punctuation">:</span> <span class="token string">'./contact.js'</span><span class="token punctuation">,</span> filename<span class="token punctuation">:</span> <span class="token string">'pages/[name][ext]'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    about<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token keyword">import</span><span class="token punctuation">:</span> <span class="token string">'./about.js'</span><span class="token punctuation">,</span> filename<span class="token punctuation">:</span> <span class="token string">'pages/[name][ext]'</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>æè¿°ç¬¦è¯­æ³•åœ¨è¿™é‡Œè¢«ç”¨æ¥å°† <code>filename</code>â€”é€‰é¡¹ä¼ é€’ç»™æŒ‡å®šçš„å…¥å£ç‚¹ã€‚</p>
<h3 id="dependencies">Dependencies <a href="#dependencies" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸ªå…¥å£ chunk ä¿å­˜äº†å…¨éƒ¨å…¶ç”¨çš„æ¨¡å—(modules)ã€‚ä½¿ç”¨ <code>dependOn</code>â€”é€‰é¡¹ä½ å¯ä»¥ä¸å¦ä¸€ä¸ªå…¥å£ chunk å…±äº«æ¨¡å—:</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token keyword">import</span><span class="token punctuation">:</span> <span class="token string">'./app.js'</span><span class="token punctuation">,</span> dependOn<span class="token punctuation">:</span> <span class="token string">'react-vendors'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'react-vendors'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'react'</span><span class="token punctuation">,</span> <span class="token string">'react-dom'</span><span class="token punctuation">,</span> <span class="token string">'prop-types'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p><code>app</code> è¿™ä¸ª chunk å°±ä¸ä¼šåŒ…å« <code>react-vendors</code> æ‹¥æœ‰çš„æ¨¡å—äº†.</p>
<p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„ä¸ºä¸€ä¸ªå…¥å£æŒ‡å®šå¤šä¸ªæ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token keyword">import</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'./app.js'</span><span class="token punctuation">,</span> <span class="token string">'./app2.js'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dependOn<span class="token punctuation">:</span> <span class="token string">'react-vendors'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'react-vendors'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'react'</span><span class="token punctuation">,</span> <span class="token string">'react-dom'</span><span class="token punctuation">,</span> <span class="token string">'prop-types'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="dynamic-entry">Dynamic entry <a href="#dynamic-entry" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>å¦‚æœä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆå®ƒå°†ä¼šåœ¨æ¯æ¬¡ <a href="/api/compiler-hooks/#make">make</a> äº‹ä»¶ä¸­è¢«è°ƒç”¨ã€‚</p>
<blockquote>
<p>è¦æ³¨æ„çš„æ˜¯ï¼Œmake äº‹ä»¶åœ¨ webpack å¯åŠ¨å’Œæ¯å½“ <a href="/configuration/watch/">ç›‘å¬æ–‡ä»¶å˜åŒ–</a> æ—¶éƒ½ä¼šè§¦å‘ã€‚</p>
</blockquote>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token string">'./demo'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>æˆ–è€…</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'./demo'</span><span class="token punctuation">,</span> <span class="token string">'./demo2'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨åŠ¨æ€å…¥å£æ¥ä»å¤–éƒ¨æ¥æºï¼ˆè¿œç¨‹æœåŠ¡å™¨ï¼Œæ–‡ä»¶ç³»ç»Ÿå†…å®¹æˆ–è€…æ•°æ®åº“ï¼‰è·å–çœŸæ­£çš„å…¥å£ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">entry</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">fetchPathsFromSomeExternalSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å›ä¸€ä¸ªä¼šè¢«ç”¨åƒ ['src/main-layout.js', 'src/admin-layout.js'] çš„ä¸œè¥¿ resolve çš„ promise</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å½“å’Œ <a href="/configuration/output/#outputlibrary"><code>output.library</code></a> é€‰é¡¹ç»“åˆï¼šå¦‚æœä¼ å…¥çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œåªæœ‰æ•°ç»„çš„æœ€åä¸€ä¸ªæ¡ç›®ä¼šè¢«å¯¼å‡ºã€‚</p>
<h1 id="æ¨¡å¼ï¼ˆModeï¼‰">æ¨¡å¼ï¼ˆModeï¼‰<a href="#%E6%A8%A1%E5%BC%8F%EF%BC%88Mode%EF%BC%89" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>æä¾› <code>mode</code> é…ç½®é€‰é¡¹ï¼Œå‘ŠçŸ¥ webpack ä½¿ç”¨ç›¸åº”æ¨¡å¼çš„å†…ç½®ä¼˜åŒ–ã€‚</p>
<p><code>string = 'production': 'none' | 'development' | 'production'</code></p>
<h2 id="usage">ç”¨æ³• <a href="#usage" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>åªéœ€åœ¨é…ç½®å¯¹è±¡ä¸­æä¾› <code>mode</code> é€‰é¡¹ï¼š</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  mode<span class="token punctuation">:</span> <span class="token string">'development'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>æˆ–è€…ä» <a href="/api/cli/">CLI</a> å‚æ•°ä¸­ä¼ é€’ï¼š</p>
<pre><code class="hljs language-bash">webpack --mode<span class="token operator">=</span>development</code></pre>
<p>æ”¯æŒä»¥ä¸‹å­—ç¬¦ä¸²å€¼ï¼š</p>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td><div class="title"><p>é€‰é¡¹</p><p>æè¿°</p></div>
<div class="content"><p><code>development</code><p class="description mobile">ä¼šå°† <code>DefinePlugin</code> ä¸­ <code>process.env.NODE_ENV</code> çš„å€¼è®¾ç½®ä¸º <code>development</code>. å¯ç”¨ <code>NamedChunksPlugin</code> å’Œ <code>NamedModulesPlugin</code> ã€‚</p></p></div></td>
<td class="description desktop">ä¼šå°† 
<code>DefinePlugin</code>
 ä¸­ 
<code>process.env.NODE_ENV</code>
 çš„å€¼è®¾ç½®ä¸º 
<code>development</code>
. å¯ç”¨ 
<code>NamedChunksPlugin</code>
 å’Œ 
<code>NamedModulesPlugin</code>
 ã€‚</td>
</tr>
<tr>
<td><div class="title"><p>é€‰é¡¹</p><p>æè¿°</p></div>
<div class="content"><p><code>production</code><p class="description mobile">ä¼šå°† <code>DefinePlugin</code> ä¸­ <code>process.env.NODE_ENV</code> çš„å€¼è®¾ç½®ä¸º <code>production</code>. å¯ç”¨ <code>FlagDependencyUsagePlugin</code>, <code>FlagIncludedChunksPlugin</code>, <code>ModuleConcatenationPlugin</code>, <code>NoEmitOnErrorsPlugin</code>, <code>OccurrenceOrderPlugin</code>, <code>SideEffectsFlagPlugin</code> å’Œ <code>TerserPlugin</code> ã€‚</p></p></div></td>
<td class="description desktop">ä¼šå°† 
<code>DefinePlugin</code>
 ä¸­ 
<code>process.env.NODE_ENV</code>
 çš„å€¼è®¾ç½®ä¸º 
<code>production</code>
. å¯ç”¨ 
<code>FlagDependencyUsagePlugin</code>
, 
<code>FlagIncludedChunksPlugin</code>
, 
<code>ModuleConcatenationPlugin</code>
, 
<code>NoEmitOnErrorsPlugin</code>
, 
<code>OccurrenceOrderPlugin</code>
, 
<code>SideEffectsFlagPlugin</code>
 å’Œ 
<code>TerserPlugin</code>
 ã€‚</td>
</tr>
<tr>
<td><div class="title"><p>é€‰é¡¹</p><p>æè¿°</p></div>
<div class="content"><p><code>none</code><p class="description mobile">ä¸ä½¿ç”¨ä»»ä½•é»˜è®¤ä¼˜åŒ–é€‰é¡¹</p></p></div></td>
<td class="description desktop">ä¸ä½¿ç”¨ä»»ä½•é»˜è®¤ä¼˜åŒ–é€‰é¡¹</td>
</tr>
</tbody>
</table>
<p>å¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œwebpack ä¼šç»™ <code>mode</code> çš„é»˜è®¤å€¼è®¾ç½®ä¸º <code>production</code>ã€‚</p>
<blockquote class="tip">
<p>è¯·æ³¨æ„ï¼Œè®¾ç½® <code>NODE_ENV</code> å¹¶ä¸ä¼šè‡ªåŠ¨åœ°è®¾ç½® <code>mode</code>ã€‚</p>
</blockquote>
<h3 id="mode-development">Mode: development <a href="#mode-development" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<pre><code class="hljs language-diff">// webpack.development.config.js
module.exports = {
<span class="token inserted">+ mode: 'development'</span>
<span class="token deleted">- devtool: 'eval',</span>
<span class="token deleted">- cache: true,</span>
<span class="token deleted">- performance: {</span>
<span class="token deleted">-   hints: false</span>
<span class="token deleted">- },</span>
<span class="token deleted">- output: {</span>
<span class="token deleted">-   pathinfo: true</span>
<span class="token deleted">- },</span>
<span class="token deleted">- optimization: {</span>
<span class="token deleted">-   namedModules: true,</span>
<span class="token deleted">-   namedChunks: true,</span>
<span class="token deleted">-   nodeEnv: 'development',</span>
<span class="token deleted">-   flagIncludedChunks: false,</span>
<span class="token deleted">-   occurrenceOrder: false,</span>
<span class="token deleted">-   concatenateModules: false,</span>
<span class="token deleted">-   splitChunks: {</span>
<span class="token deleted">-     hidePathInfo: false,</span>
<span class="token deleted">-     minSize: 10000,</span>
<span class="token deleted">-     maxAsyncRequests: Infinity,</span>
<span class="token deleted">-     maxInitialRequests: Infinity,</span>
<span class="token deleted">-   },</span>
<span class="token deleted">-   noEmitOnErrors: false,</span>
<span class="token deleted">-   checkWasmTypes: false,</span>
<span class="token deleted">-   minimize: false,</span>
<span class="token deleted">-   removeAvailableModules: false</span>
<span class="token deleted">- },</span>
<span class="token deleted">- plugins: [</span>
<span class="token deleted">-   new webpack.NamedModulesPlugin(),</span>
<span class="token deleted">-   new webpack.NamedChunksPlugin(),</span>
<span class="token deleted">-   new webpack.DefinePlugin({ "process.env.NODE_ENV": JSON.stringify("development") }),</span>
<span class="token deleted">- ]</span>
}</code></pre>
<h3 id="mode-production">Mode: production <a href="#mode-production" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<pre><code class="hljs language-diff">// webpack.production.config.js
module.exports = {
<span class="token inserted">+  mode: 'production',</span>
<span class="token deleted">- performance: {</span>
<span class="token deleted">-   hints: 'warning'</span>
<span class="token deleted">- },</span>
<span class="token deleted">- output: {</span>
<span class="token deleted">-   pathinfo: false</span>
<span class="token deleted">- },</span>
<span class="token deleted">- optimization: {</span>
<span class="token deleted">-   namedModules: false,</span>
<span class="token deleted">-   namedChunks: false,</span>
<span class="token deleted">-   nodeEnv: 'production',</span>
<span class="token deleted">-   flagIncludedChunks: true,</span>
<span class="token deleted">-   occurrenceOrder: true,</span>
<span class="token deleted">-   concatenateModules: true,</span>
<span class="token deleted">-   splitChunks: {</span>
<span class="token deleted">-     hidePathInfo: true,</span>
<span class="token deleted">-     minSize: 30000,</span>
<span class="token deleted">-     maxAsyncRequests: 5,</span>
<span class="token deleted">-     maxInitialRequests: 3,</span>
<span class="token deleted">-   },</span>
<span class="token deleted">-   noEmitOnErrors: true,</span>
<span class="token deleted">-   checkWasmTypes: true,</span>
<span class="token deleted">-   minimize: true,</span>
<span class="token deleted">- },</span>
<span class="token deleted">- plugins: [</span>
<span class="token deleted">-   new TerserPlugin(/* ... */),</span>
<span class="token deleted">-   new webpack.DefinePlugin({ "process.env.NODE_ENV": JSON.stringify("production") }),</span>
<span class="token deleted">-   new webpack.optimize.ModuleConcatenationPlugin(),</span>
<span class="token deleted">-   new webpack.NoEmitOnErrorsPlugin()</span>
<span class="token deleted">- ]</span>
}</code></pre>
<h3 id="mode-none">Mode: none <a href="#mode-none" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<pre><code class="hljs language-diff">// webpack.custom.config.js
module.exports = {
<span class="token inserted">+ mode: 'none',</span>
<span class="token deleted">- performance: {</span>
<span class="token deleted">-  hints: false</span>
<span class="token deleted">- },</span>
<span class="token deleted">- optimization: {</span>
<span class="token deleted">-   flagIncludedChunks: false,</span>
<span class="token deleted">-   occurrenceOrder: false,</span>
<span class="token deleted">-   concatenateModules: false,</span>
<span class="token deleted">-   splitChunks: {</span>
<span class="token deleted">-     hidePathInfo: false,</span>
<span class="token deleted">-     minSize: 10000,</span>
<span class="token deleted">-     maxAsyncRequests: Infinity,</span>
<span class="token deleted">-     maxInitialRequests: Infinity,</span>
<span class="token deleted">-   },</span>
<span class="token deleted">-   noEmitOnErrors: false,</span>
<span class="token deleted">-   checkWasmTypes: false,</span>
<span class="token deleted">-   minimize: false,</span>
<span class="token deleted">- },</span>
<span class="token deleted">- plugins: []</span>
}</code></pre>
<p>å¦‚æœè¦æ ¹æ® <em>webpack.config.js</em> ä¸­çš„ <strong>mode</strong> å˜é‡æ›´æ”¹æ‰“åŒ…è¡Œä¸ºï¼Œåˆ™å¿…é¡»å°†é…ç½®å¯¼å‡ºä¸ºå‡½æ•°ï¼Œè€Œä¸æ˜¯å¯¼å‡ºå¯¹è±¡ï¼š</p>
<pre><code class="hljs language-javascript"><span class="token keyword">var</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token punctuation">:</span> <span class="token string">'./app.js'</span>
  <span class="token comment">//...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span>env<span class="token punctuation">,</span> argv<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>argv<span class="token punctuation">.</span>mode <span class="token operator">===</span> <span class="token string">'development'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    config<span class="token punctuation">.</span>devtool <span class="token operator">=</span> <span class="token string">'source-map'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>argv<span class="token punctuation">.</span>mode <span class="token operator">===</span> <span class="token string">'production'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> config<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h1 id="è¾“å‡ºoutput">è¾“å‡º(output)<a href="#%E8%BE%93%E5%87%BAoutput" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p><code>output</code> ä½äºå¯¹è±¡æœ€é¡¶çº§é”®(key)ï¼ŒåŒ…æ‹¬äº†ä¸€ç»„é€‰é¡¹ï¼ŒæŒ‡ç¤º webpack å¦‚ä½•å»è¾“å‡ºã€ä»¥åŠåœ¨å“ªé‡Œè¾“å‡ºä½ çš„ã€Œbundleã€asset å’Œå…¶ä»–ä½ æ‰€æ‰“åŒ…æˆ–ä½¿ç”¨ webpack è½½å…¥çš„ä»»ä½•å†…å®¹ã€ã€‚</p>
<h2 id="outputauxiliarycomment"><code>output.auxiliaryComment</code> <a href="#outputauxiliarycomment" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code> <code>object</code></p>
<p>åœ¨å’Œ <a href="#outputlibrary"><code>output.library</code></a> å’Œ <a href="#outputlibrarytarget"><code>output.libraryTarget</code></a> ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œæ­¤é€‰é¡¹å…è®¸ç”¨æˆ·å‘å¯¼å‡ºå®¹å™¨(export wrapper)ä¸­æ’å…¥æ³¨é‡Šã€‚è¦ä¸º <code>libraryTarget</code> æ¯ç§ç±»å‹éƒ½æ’å…¥ç›¸åŒçš„æ³¨é‡Šï¼Œå°† <code>auxiliaryComment</code> è®¾ç½®ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    library<span class="token punctuation">:</span> <span class="token string">'someLibName'</span><span class="token punctuation">,</span>
    libraryTarget<span class="token punctuation">:</span> <span class="token string">'umd'</span><span class="token punctuation">,</span>
    filename<span class="token punctuation">:</span> <span class="token string">'someLibName.js'</span><span class="token punctuation">,</span>
    auxiliaryComment<span class="token punctuation">:</span> <span class="token string">'Test Comment'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å°†ä¼šç”Ÿæˆå¦‚ä¸‹ï¼š</p>
<p><strong>someLibName.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">webpackUniversalModuleDefinition</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> factory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Test Comment</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&#x26;&#x26;</span> <span class="token keyword">typeof</span> module <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span>
    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lodash'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Test Comment</span>
  <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> define <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">&#x26;&#x26;</span> define<span class="token punctuation">.</span>amd<span class="token punctuation">)</span>
    <span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'lodash'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> factory<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Test Comment</span>
  <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span>
    exports<span class="token punctuation">[</span><span class="token string">'someLibName'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lodash'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Test Comment</span>
  <span class="token keyword">else</span>
    root<span class="token punctuation">[</span><span class="token string">'someLibName'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span>root<span class="token punctuation">[</span><span class="token string">'_'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>__WEBPACK_EXTERNAL_MODULE_1__<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>å¯¹äº <code>libraryTarget</code> æ¯ç§ç±»å‹çš„æ³¨é‡Šè¿›è¡Œæ›´ç»†ç²’åº¦åœ°æ§åˆ¶ï¼Œè¯·ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    auxiliaryComment<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      root<span class="token punctuation">:</span> <span class="token string">'Root Comment'</span><span class="token punctuation">,</span>
      commonjs<span class="token punctuation">:</span> <span class="token string">'CommonJS Comment'</span><span class="token punctuation">,</span>
      commonjs2<span class="token punctuation">:</span> <span class="token string">'CommonJS2 Comment'</span><span class="token punctuation">,</span>
      amd<span class="token punctuation">:</span> <span class="token string">'AMD Comment'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputchunkfilename"><code>output.chunkFilename</code> <a href="#outputchunkfilename" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = '[id].js'</code></p>
<p>æ­¤é€‰é¡¹å†³å®šäº†éå…¥å£(non-entry) chunk æ–‡ä»¶çš„åç§°ã€‚æœ‰å…³å¯å–çš„å€¼çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ <a href="#outputfilename"><code>output.filename</code></a> é€‰é¡¹ã€‚</p>
<p>æ³¨æ„ï¼Œè¿™äº›æ–‡ä»¶åéœ€è¦åœ¨è¿è¡Œæ—¶æ ¹æ® chunk å‘é€çš„è¯·æ±‚å»ç”Ÿæˆã€‚å› æ­¤ï¼Œéœ€è¦åœ¨ webpack runtime è¾“å‡º bundle å€¼æ—¶ï¼Œå°† chunk id çš„å€¼å¯¹åº”æ˜ å°„åˆ°å ä½ç¬¦(å¦‚ <code>[name]</code> å’Œ <code>[chunkhash]</code>)ã€‚è¿™ä¼šå¢åŠ æ–‡ä»¶å¤§å°ï¼Œå¹¶ä¸”åœ¨ä»»ä½• chunk çš„å ä½ç¬¦å€¼ä¿®æ”¹åï¼Œéƒ½ä¼šä½¿ bundle å¤±æ•ˆã€‚</p>
<p>é»˜è®¤ä½¿ç”¨ <code>[id].js</code> æˆ–ä» <a href="#outputfilename"><code>output.filename</code></a> ä¸­æ¨æ–­å‡ºçš„å€¼ï¼ˆ<code>[name]</code> ä¼šè¢«é¢„å…ˆæ›¿æ¢ä¸º <code>[id]</code> æˆ– <code>[id].</code>ï¼‰ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    chunkFilename<span class="token punctuation">:</span> <span class="token string">'[id].js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputchunkloadtimeout"><code>output.chunkLoadTimeout</code> <a href="#outputchunkloadtimeout" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>number = 120000</code></p>
<p>chunk è¯·æ±‚åˆ°æœŸä¹‹å‰çš„æ¯«ç§’æ•°ï¼Œé»˜è®¤ä¸º 120000ã€‚ä» webpack 2.6.0 å¼€å§‹æ”¯æŒæ­¤é€‰é¡¹ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    chunkLoadTimeout<span class="token punctuation">:</span> <span class="token number">30000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputchunkcallbackname"><code>output.chunkCallbackName</code> <a href="#outputchunkcallbackname" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'webpackChunkwebpack'</code></p>
<p>å›è°ƒå‡½æ•°çš„åç§°åœ¨ Web Workers ç¯å¢ƒä¸­ webpack åŠ è½½ chunks æ—¶ä½¿ç”¨ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    chunkCallbackName<span class="token punctuation">:</span> <span class="token string">'myCustomFunc'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputcrossoriginloading"><code>output.crossOriginLoading</code> <a href="#outputcrossoriginloading" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code> <code>string: 'anonymous' | 'use-credentials'</code></p>
<p>å‘Šè¯‰ webpack å¯ç”¨ <a href="https://developer.mozilla.org/en/docs/Web/HTML/Element/script#attr-crossorigin">cross-origin å±æ€§</a> åŠ è½½ chunkã€‚ä»…åœ¨ <a href="/configuration/target/"><code>target</code></a> è®¾ç½®ä¸º <code>'web'</code> æ—¶ç”Ÿæ•ˆï¼Œé€šè¿‡ä½¿ç”¨ JSONP æ¥æ·»åŠ è„šæœ¬æ ‡ç­¾ï¼Œå®ç°æŒ‰éœ€åŠ è½½æ¨¡å—ã€‚</p>
<ul>
<li><code>'anonymous'</code> - <strong>ä¸å¸¦å‡­æ®(credential)</strong> å¯ç”¨è·¨åŸŸåŠ è½½</li>
<li><code>'use-credentials'</code> - <strong>æºå¸¦å‡­æ®(credential)</strong> å¯ç”¨è·¨åŸŸåŠ è½½</li>
</ul>
<h2 id="outputdevtoolfallbackmodulefilenametemplate"><code>output.devtoolFallbackModuleFilenameTemplate</code> <a href="#outputdevtoolfallbackmodulefilenametemplate" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code> <code>function (info)</code></p>
<p>å½“ä¸Šé¢çš„æ¨¡æ¿å­—ç¬¦ä¸²æˆ–å‡½æ•°äº§ç”Ÿé‡å¤æ—¶ä½¿ç”¨çš„å¤‡ç”¨å†…å®¹ã€‚</p>
<p>æŸ¥çœ‹ <a href="#outputdevtoolmodulefilenametemplate"><code>output.devtoolModuleFilenameTemplate</code></a>ã€‚</p>
<h2 id="outputdevtoolmodulefilenametemplate"><code>output.devtoolModuleFilenameTemplate</code> <a href="#outputdevtoolmodulefilenametemplate" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'webpack://[namespace]/[resource-path]?[loaders]'</code> <code>function (info) => string</code></p>
<p>æ­¤é€‰é¡¹ä»…åœ¨ ã€Œ<a href="/configuration/devtool"><code>devtool</code></a> ä½¿ç”¨äº†éœ€è¦æ¨¡å—åç§°çš„é€‰é¡¹ã€æ—¶ä½¿ç”¨ã€‚</p>
<p>è‡ªå®šä¹‰æ¯ä¸ª source map çš„ <code>sources</code> æ•°ç»„ä¸­ä½¿ç”¨çš„åç§°ã€‚å¯ä»¥é€šè¿‡ä¼ é€’æ¨¡æ¿å­—ç¬¦ä¸²(template string)æˆ–è€…å‡½æ•°æ¥å®Œæˆã€‚ä¾‹å¦‚ï¼Œå½“ä½¿ç”¨ <code>devtool: 'eval'</code>ï¼Œé»˜è®¤å€¼æ˜¯ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    devtoolModuleFilenameTemplate<span class="token punctuation">:</span> <span class="token string">'webpack://[namespace]/[resource-path]?[loaders]'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>æ¨¡æ¿å­—ç¬¦ä¸²(template string)ä¸­åšä»¥ä¸‹æ›¿æ¢ï¼ˆé€šè¿‡ webpack å†…éƒ¨çš„ <a href="https://github.com/webpack/webpack/blob/master/lib/ModuleFilenameHelpers.js"><code>ModuleFilenameHelpers</code></a>ï¼‰ï¼š</p>
<table>
<thead>
<tr>
<th>Template</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><div class="title"><p>Template</p><p>Description</p></div>
<div class="content"><p>[absolute-resource-path]<p class="description mobile">ç»å¯¹è·¯å¾„æ–‡ä»¶å</p></p></div></td>
<td class="description desktop">ç»å¯¹è·¯å¾„æ–‡ä»¶å</td>
</tr>
<tr>
<td><div class="title"><p>Template</p><p>Description</p></div>
<div class="content"><p>[all-loaders]<p class="description mobile">è‡ªåŠ¨å’Œæ˜¾å¼çš„ loaderï¼Œå¹¶ä¸”å‚æ•°å–å†³äºç¬¬ä¸€ä¸ª loader åç§°</p></p></div></td>
<td class="description desktop">è‡ªåŠ¨å’Œæ˜¾å¼çš„ loaderï¼Œå¹¶ä¸”å‚æ•°å–å†³äºç¬¬ä¸€ä¸ª loader åç§°</td>
</tr>
<tr>
<td><div class="title"><p>Template</p><p>Description</p></div>
<div class="content"><p>[hash]<p class="description mobile">æ¨¡å—æ ‡è¯†ç¬¦çš„ hash</p></p></div></td>
<td class="description desktop">æ¨¡å—æ ‡è¯†ç¬¦çš„ hash</td>
</tr>
<tr>
<td><div class="title"><p>Template</p><p>Description</p></div>
<div class="content"><p>[id]<p class="description mobile">æ¨¡å—æ ‡è¯†ç¬¦</p></p></div></td>
<td class="description desktop">æ¨¡å—æ ‡è¯†ç¬¦</td>
</tr>
<tr>
<td><div class="title"><p>Template</p><p>Description</p></div>
<div class="content"><p>[loaders]<p class="description mobile">æ˜¾å¼çš„ loaderï¼Œå¹¶ä¸”å‚æ•°å–å†³äºç¬¬ä¸€ä¸ª loader åç§°</p></p></div></td>
<td class="description desktop">æ˜¾å¼çš„ loaderï¼Œå¹¶ä¸”å‚æ•°å–å†³äºç¬¬ä¸€ä¸ª loader åç§°</td>
</tr>
<tr>
<td><div class="title"><p>Template</p><p>Description</p></div>
<div class="content"><p>[resource]<p class="description mobile">ç”¨äºè§£ææ–‡ä»¶çš„è·¯å¾„å’Œç”¨äºç¬¬ä¸€ä¸ª loader çš„ä»»æ„æŸ¥è¯¢å‚æ•°</p></p></div></td>
<td class="description desktop">ç”¨äºè§£ææ–‡ä»¶çš„è·¯å¾„å’Œç”¨äºç¬¬ä¸€ä¸ª loader çš„ä»»æ„æŸ¥è¯¢å‚æ•°</td>
</tr>
<tr>
<td><div class="title"><p>Template</p><p>Description</p></div>
<div class="content"><p>[resource-path]<p class="description mobile">ä¸å¸¦ä»»ä½•æŸ¥è¯¢å‚æ•°ï¼Œç”¨äºè§£ææ–‡ä»¶çš„è·¯å¾„</p></p></div></td>
<td class="description desktop">ä¸å¸¦ä»»ä½•æŸ¥è¯¢å‚æ•°ï¼Œç”¨äºè§£ææ–‡ä»¶çš„è·¯å¾„</td>
</tr>
<tr>
<td><div class="title"><p>Template</p><p>Description</p></div>
<div class="content"><p>[namespace]<p class="description mobile">æ¨¡å—å‘½åç©ºé—´ã€‚åœ¨æ„å»ºæˆä¸ºä¸€ä¸ª library ä¹‹åï¼Œé€šå¸¸ä¹Ÿæ˜¯ library åç§°ï¼Œå¦åˆ™ä¸ºç©º</p></p></div></td>
<td class="description desktop">æ¨¡å—å‘½åç©ºé—´ã€‚åœ¨æ„å»ºæˆä¸ºä¸€ä¸ª library ä¹‹åï¼Œé€šå¸¸ä¹Ÿæ˜¯ library åç§°ï¼Œå¦åˆ™ä¸ºç©º</td>
</tr>
</tbody>
</table>
<p>å½“ä½¿ç”¨ä¸€ä¸ªå‡½æ•°ï¼ŒåŒæ ·çš„é€‰é¡¹è¦é€šè¿‡ <code>info</code> å‚æ•°å¹¶ä½¿ç”¨é©¼å³°å¼(camel-cased)ï¼š</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    devtoolModuleFilenameTemplate<span class="token punctuation">:</span> info <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`webpack:///</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>info<span class="token punctuation">.</span>resourcePath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">?</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>info<span class="token punctuation">.</span>loaders<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å¦‚æœå¤šä¸ªæ¨¡å—äº§ç”Ÿç›¸åŒçš„åç§°ï¼Œä½¿ç”¨ <a href="#outputdevtoolfallbackmodulefilenametemplate"><code>output.devtoolFallbackModuleFilenameTemplate</code></a> æ¥ä»£æ›¿è¿™äº›æ¨¡å—ã€‚</p>
<h2 id="outputdevtoolnamespace"><code>output.devtoolNamespace</code> <a href="#outputdevtoolnamespace" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>æ­¤é€‰é¡¹ç¡®å®š <a href="#outputdevtoolmodulefilenametemplate"><code>output.devtoolModuleFilenameTemplate</code></a> ä½¿ç”¨çš„æ¨¡å—åç§°ç©ºé—´ã€‚æœªæŒ‡å®šæ—¶çš„é»˜è®¤å€¼ä¸ºï¼š<a href="#outputlibrary"><code>output.library</code></a>ã€‚åœ¨åŠ è½½å¤šä¸ªé€šè¿‡ webpack æ„å»ºçš„ library æ—¶ï¼Œç”¨äºé˜²æ­¢ source map ä¸­æºæ–‡ä»¶è·¯å¾„å†²çªã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœä½ æœ‰ä¸¤ä¸ª libraryï¼Œåˆ†åˆ«ä½¿ç”¨å‘½åç©ºé—´ <code>library1</code> å’Œ <code>library2</code>ï¼Œå¹¶ä¸”éƒ½æœ‰ä¸€ä¸ªæ–‡ä»¶ <code>./src/index.js</code>ï¼ˆå¯èƒ½å…·æœ‰ä¸åŒå†…å®¹ï¼‰ï¼Œå®ƒä»¬ä¼šå°†è¿™äº›æ–‡ä»¶æš´éœ²ä¸º <code>webpack://library1/./src/index.js</code> å’Œ <code>webpack://library2/./src/index.js</code>ã€‚</p>
<h2 id="outputfilename"><code>output.filename</code> <a href="#outputfilename" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code> <code>function (pathData, assetInfo) => string</code></p>
<p>æ­¤é€‰é¡¹å†³å®šäº†æ¯ä¸ªè¾“å‡º bundle çš„åç§°ã€‚è¿™äº› bundle å°†å†™å…¥åˆ° <a href="#outputpath"><code>output.path</code></a> é€‰é¡¹æŒ‡å®šçš„ç›®å½•ä¸‹ã€‚</p>
<p>å¯¹äºå•ä¸ª<a href="/configuration/entry-context#entry"><code>å…¥å£</code></a>èµ·ç‚¹ï¼Œfilename ä¼šæ˜¯ä¸€ä¸ªé™æ€åç§°ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'bundle.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>ç„¶è€Œï¼Œå½“é€šè¿‡å¤šä¸ªå…¥å£èµ·ç‚¹(entry point)ã€ä»£ç æ‹†åˆ†(code splitting)æˆ–å„ç§æ’ä»¶(plugin)åˆ›å»ºå¤šä¸ª bundleï¼Œåº”è¯¥ä½¿ç”¨ä»¥ä¸‹ä¸€ç§æ›¿æ¢æ–¹å¼ï¼Œæ¥èµ‹äºˆæ¯ä¸ª bundle ä¸€ä¸ªå”¯ä¸€çš„åç§°â€¦â€¦</p>
<p>ä½¿ç”¨å…¥å£åç§°ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'[name].bundle.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>ä½¿ç”¨å†…éƒ¨ chunk id</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'[id].bundle.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>ä½¿ç”¨æ¯æ¬¡æ„å»ºè¿‡ç¨‹ä¸­ï¼Œå”¯ä¸€çš„ hash ç”Ÿæˆ</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'[name].[hash].bundle.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>ä½¿ç”¨åŸºäºæ¯ä¸ª chunk å†…å®¹çš„ hashï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'[chunkhash].bundle.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Using hashes generated for extracted content:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'[contenthash].bundle.css'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Using function to return the filename:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token punctuation">(</span>pathData<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> pathData<span class="token punctuation">.</span>chunk<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'main'</span> <span class="token operator">?</span> <span class="token string">'[name].js'</span><span class="token punctuation">:</span> <span class="token string">'[name]/[name].js'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>è¯·ç¡®ä¿å·²é˜…è¯»è¿‡ <a href="/guides/caching">æŒ‡å— - ç¼“å­˜</a> çš„è¯¦ç»†ä¿¡æ¯ã€‚è¿™é‡Œæ¶‰åŠæ›´å¤šæ­¥éª¤ï¼Œä¸ä»…ä»…æ˜¯è®¾ç½®æ­¤é€‰é¡¹ã€‚</p>
<p>æ³¨æ„æ­¤é€‰é¡¹è¢«ç§°ä¸ºæ–‡ä»¶åï¼Œä½†æ˜¯ä½ è¿˜æ˜¯å¯ä»¥ä½¿ç”¨åƒ <code>'js/[name]/bundle.js'</code> è¿™æ ·çš„æ–‡ä»¶å¤¹ç»“æ„ã€‚</p>
<p>æ³¨æ„ï¼Œæ­¤é€‰é¡¹ä¸ä¼šå½±å“é‚£äº›ã€ŒæŒ‰éœ€åŠ è½½ chunkã€çš„è¾“å‡ºæ–‡ä»¶ã€‚å¯¹äºè¿™äº›æ–‡ä»¶ï¼Œè¯·ä½¿ç”¨ <a href="#outputchunkfilename"><code>output.chunkFilename</code></a> é€‰é¡¹æ¥æ§åˆ¶è¾“å‡ºã€‚é€šè¿‡ loader åˆ›å»ºçš„æ–‡ä»¶ä¹Ÿä¸å—å½±å“ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¿…é¡»å°è¯• loader ç‰¹å®šçš„å¯ç”¨é€‰é¡¹ã€‚</p>
<h2 id="template-strings">Template strings <a href="#template-strings" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ›¿æ¢æ¨¡æ¿å­—ç¬¦ä¸²ï¼ˆé€šè¿‡ webpack å†…éƒ¨çš„<a href="https://github.com/webpack/webpack/blob/master/lib/TemplatedPathPlugin.js"><code>TemplatedPathPlugin</code></a>ï¼‰:</p>
<table>
<thead>
<tr>
<th>æ¨¡æ¿</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td><div class="title"><p>æ¨¡æ¿</p><p>æè¿°</p></div>
<div class="content"><p>[hash]<p class="description mobile">æ¨¡å—æ ‡è¯†ç¬¦(module identifier)çš„ hash</p></p></div></td>
<td class="description desktop">æ¨¡å—æ ‡è¯†ç¬¦(module identifier)çš„ hash</td>
</tr>
<tr>
<td><div class="title"><p>æ¨¡æ¿</p><p>æè¿°</p></div>
<div class="content"><p>[contenthash]<p class="description mobile">æ–‡ä»¶å†…å®¹ hashï¼Œæ¯ä¸ªèµ„æºç”Ÿæˆçš„ hash éƒ½æ˜¯ä¸åŒçš„</p></p></div></td>
<td class="description desktop">æ–‡ä»¶å†…å®¹ hashï¼Œæ¯ä¸ªèµ„æºç”Ÿæˆçš„ hash éƒ½æ˜¯ä¸åŒçš„</td>
</tr>
<tr>
<td><div class="title"><p>æ¨¡æ¿</p><p>æè¿°</p></div>
<div class="content"><p>[chunkhash]<p class="description mobile">chunk å†…å®¹çš„ hash</p></p></div></td>
<td class="description desktop">chunk å†…å®¹çš„ hash</td>
</tr>
<tr>
<td><div class="title"><p>æ¨¡æ¿</p><p>æè¿°</p></div>
<div class="content"><p>[name]<p class="description mobile">æ¨¡å—åç§°</p></p></div></td>
<td class="description desktop">æ¨¡å—åç§°</td>
</tr>
<tr>
<td><div class="title"><p>æ¨¡æ¿</p><p>æè¿°</p></div>
<div class="content"><p>[id]<p class="description mobile">æ¨¡å—æ ‡è¯†ç¬¦(module identifier)</p></p></div></td>
<td class="description desktop">æ¨¡å—æ ‡è¯†ç¬¦(module identifier)</td>
</tr>
<tr>
<td><div class="title"><p>æ¨¡æ¿</p><p>æè¿°</p></div>
<div class="content"><p>[query]<p class="description mobile">æ¨¡å—çš„ queryï¼Œä¾‹å¦‚ï¼Œæ–‡ä»¶å <code>?</code> åé¢çš„å­—ç¬¦ä¸²</p></p></div></td>
<td class="description desktop">æ¨¡å—çš„ queryï¼Œä¾‹å¦‚ï¼Œæ–‡ä»¶å 
<code>?</code>
 åé¢çš„å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td><div class="title"><p>æ¨¡æ¿</p><p>æè¿°</p></div>
<div class="content"><p>[function]<p class="description mobile">The function, which can return filename [string]</p></p></div></td>
<td class="description desktop">The function, which can return filename 
[
string
]</td>
</tr>
</tbody>
</table>
<p><code>[hash]</code> å’Œ <code>[chunkhash]</code> çš„é•¿åº¦å¯ä»¥ä½¿ç”¨ <code>[hash:16]</code>ï¼ˆé»˜è®¤ä¸º 20ï¼‰æ¥æŒ‡å®šã€‚æˆ–è€…ï¼Œé€šè¿‡æŒ‡å®š<a href="#outputhashdigestlength"><code>output.hashDigestLength</code></a> åœ¨å…¨å±€é…ç½®é•¿åº¦ã€‚</p>
<p>å½“ä½ è¦åœ¨å®é™…æ–‡ä»¶åä¸­ä½¿ç”¨å ä½ç¬¦æ—¶ï¼Œwebpack ä¼šè¿‡æ»¤å‡ºéœ€è¦æ›¿æ¢çš„å ä½ç¬¦ã€‚ä¾‹å¦‚ï¼Œè¾“å‡ºä¸€ä¸ªæ–‡ä»¶ <code>[name].js</code>ï¼Œ ä½ å¿…é¡»é€šè¿‡åœ¨æ‹¬å·ä¹‹é—´æ·»åŠ åæ–œæ æ¥è½¬ä¹‰<code>[name]</code>å ä½ç¬¦ã€‚ å› æ­¤ï¼Œ<code>[\name\]</code> ç”Ÿæˆ <code>[name]</code> è€Œä¸æ˜¯ <code>name</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼š<code>[\id\]</code> ç”Ÿæˆ <code>[id]</code> è€Œä¸æ˜¯ <code>id</code>ã€‚</p>
<p>å¦‚æœå°†è¿™ä¸ªé€‰é¡¹è®¾ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°å°†è¿”å›ä¸€ä¸ªåŒ…å«ä¸Šé¢è¡¨æ ¼ä¸­æ›¿æ¢ä¿¡æ¯çš„å¯¹è±¡ã€‚</p>
<blockquote class="tip">
<p>åœ¨ä½¿ç”¨ <a href="/plugins/extract-text-webpack-plugin"><code>ExtractTextWebpackPlugin</code></a> æ—¶ï¼Œå¯ä»¥ç”¨ <code>[contenthash]</code> æ¥è·å–æå–æ–‡ä»¶çš„ hashï¼ˆæ—¢ä¸æ˜¯ <code>[hash]</code> ä¹Ÿä¸æ˜¯ <code>[chunkhash]</code>ï¼‰ã€‚</p>
</blockquote>
<h2 id="outputassetmodulefilename"><code>output.assetModuleFilename</code> <a href="#outputassetmodulefilename" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>å‚è€ƒ <a href="#outputfilename"><code>output.filename</code></a> ä¸è¿‡åº”ç”¨äº <a href="/guides/asset-modules/">Asset Modules</a></p>
<h2 id="outputglobalobject"><code>output.globalObject</code> <a href="#outputglobalobject" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'window'</code></p>
<p>When targeting a library, especially when <code>libraryTarget</code> is <code>'umd'</code>, this option indicates what global object will be used to mount the library. To make UMD build available on both browsers and Node.js, set <code>output.globalObject</code> option to <code>'this'</code>.</p>
<p>For example:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    library<span class="token punctuation">:</span> <span class="token string">'myLib'</span><span class="token punctuation">,</span>
    libraryTarget<span class="token punctuation">:</span> <span class="token string">'umd'</span><span class="token punctuation">,</span>
    filename<span class="token punctuation">:</span> <span class="token string">'myLib.js'</span><span class="token punctuation">,</span>
    globalObject<span class="token punctuation">:</span> <span class="token string">'this'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputuniquename"><code>output.uniqueName</code> <a href="#outputuniquename" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>åœ¨å…¨å±€ç¯å¢ƒä¸‹ä¸ºé˜²æ­¢å¤šä¸ª webpack è¿è¡Œæ—¶ å†²çªæ‰€ä½¿ç”¨çš„å”¯ä¸€åç§°ã€‚é»˜è®¤ä½¿ç”¨ <a href="/configuration/output/#outputlibrary"><code>output.library</code></a> åç§°æˆ–è€…ä¸Šä¸‹æ–‡ä¸­çš„ <code>package.json</code> çš„ åŒ…åç§°(package name)ï¼Œ å¦‚æœä¸¤è€…éƒ½ä¸å­˜åœ¨ï¼Œå€¼ä¸º <code>''</code>ã€‚</p>
<p><code>output.uniqueName</code> å°†ç”¨äºç”Ÿæˆå”¯ä¸€å…¨å±€å˜é‡:</p>
<ul>
<li><a href="/configuration/output/#outputjsonpfunction"><code>output.jsonpFunction</code></a></li>
<li><a href="/configuration/output/#outputchunkcallbackname"><code>output.chunkCallbackName</code></a></li>
</ul>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    uniqueName<span class="token punctuation">:</span> <span class="token string">'my-package-xyz'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputhashdigest"><code>output.hashDigest</code> <a href="#outputhashdigest" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'hex'</code></p>
<p>åœ¨ç”Ÿæˆ hash æ—¶ä½¿ç”¨çš„ç¼–ç æ–¹å¼ã€‚æ”¯æŒ Node.js <a href="https://nodejs.org/api/crypto.html#crypto_hash_digest_encoding"><code>hash.digest</code></a> çš„æ‰€æœ‰ç¼–ç ã€‚å¯¹æ–‡ä»¶åä½¿ç”¨ <code>'base64'</code>ï¼Œå¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼Œå› ä¸º base64 å­—æ¯è¡¨ä¸­å…·æœ‰ <code>/</code> è¿™ä¸ªå­—ç¬¦(character)ã€‚åŒæ ·çš„ï¼Œ<code>'latin1'</code> è§„å®šå¯ä»¥å«æœ‰ä»»ä½•å­—ç¬¦(character)ã€‚</p>
<h2 id="outputhashdigestlength"><code>output.hashDigestLength</code> <a href="#outputhashdigestlength" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>number = 20</code></p>
<p>æ•£åˆ—æ‘˜è¦çš„å‰ç¼€é•¿åº¦ã€‚</p>
<h2 id="outputhashfunction"><code>output.hashFunction</code> <a href="#outputhashfunction" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'md4'</code> <code>function</code></p>
<p>æ•£åˆ—ç®—æ³•ã€‚æ”¯æŒ Node.JS <a href="https://nodejs.org/api/crypto.html#crypto_crypto_createhash_algorithm_options"><code>crypto.createHash</code></a> çš„æ‰€æœ‰åŠŸèƒ½ã€‚ä» <code>4.0.0-alpha2</code> å¼€å§‹ï¼Œ<code>hashFunction</code> ç°åœ¨å¯ä»¥æ˜¯ä¸€ä¸ªè¿”å›è‡ªå®šä¹‰ hash çš„æ„é€ å‡½æ•°ã€‚å‡ºäºæ€§èƒ½åŸå› ï¼Œä½ å¯ä»¥æä¾›ä¸€ä¸ªä¸åŠ å¯†çš„å“ˆå¸Œå‡½æ•°(non-crypto hash function)ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    hashFunction<span class="token punctuation">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'metrohash'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>MetroHash64
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>ç¡®ä¿ hash å‡½æ•°æœ‰å¯è®¿é—®çš„ <code>update</code> å’Œ <code>digest</code> æ–¹æ³•ã€‚</p>
<h2 id="outputhashsalt"><code>output.hashSalt</code> <a href="#outputhashsalt" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>ä¸€ä¸ªå¯é€‰çš„åŠ ç›å€¼ï¼Œé€šè¿‡ Node.JS <a href="https://nodejs.org/api/crypto.html#crypto_hash_update_data_inputencoding"><code>hash.update</code></a> æ¥æ›´æ–°å“ˆå¸Œã€‚</p>
<h2 id="outputhotupdatechunkfilename"><code>output.hotUpdateChunkFilename</code> <a href="#outputhotupdatechunkfilename" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = '[id].[hash].hot-update.js'</code></p>
<p>è‡ªå®šä¹‰çƒ­æ›´æ–° chunk çš„æ–‡ä»¶åã€‚å¯é€‰çš„å€¼çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ <a href="#outputfilename"><code>output.filename</code></a> é€‰é¡¹ã€‚</p>
<p>å ä½ç¬¦åªèƒ½æ˜¯ <code>[id]</code> å’Œ <code>[hash]</code>ï¼Œé»˜è®¤å€¼æ˜¯ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    hotUpdateChunkFilename<span class="token punctuation">:</span> <span class="token string">'[id].[hash].hot-update.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>é€šå¸¸ï¼Œä½ ä¸éœ€è¦ä¿®æ”¹ <code>output.hotUpdateChunkFilename</code>.</p>
</blockquote>
<h2 id="outputhotupdatefunction"><code>output.hotUpdateFunction</code> <a href="#outputhotupdatefunction" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>åªåœ¨ <a href="/configuration/target/"><code>target</code></a> è®¾ç½®ä¸º <code>'web'</code> æ—¶ä½¿ç”¨ï¼Œç”¨äºåŠ è½½çƒ­æ›´æ–°(hot update)çš„ JSONP å‡½æ•°ã€‚</p>
<p>JSONP å‡½æ•°ç”¨äºå¼‚æ­¥åŠ è½½(async load)çƒ­æ›´æ–°(hot-update) chunkã€‚</p>
<p>è¯¦ç»†è¯·æŸ¥çœ‹ <a href="#outputjsonpfunction"><code>output.jsonpFunction</code></a>ã€‚</p>
<h2 id="outputhotupdatemainfilename"><code>output.hotUpdateMainFilename</code> <a href="#outputhotupdatemainfilename" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = '[hash].hot-update.json'</code> <code>function</code></p>
<p>è‡ªå®šä¹‰çƒ­æ›´æ–°çš„ä¸»æ–‡ä»¶å(main filename)ã€‚<code>[hash]</code> æ˜¯å”¯ä¸€å¯ç”¨çš„å ä½ç¬¦ã€‚</p>
<blockquote class="tip">
<p>é€šå¸¸ï¼Œä½ ä¸éœ€è¦ä¿®æ”¹ <code>output.hotUpdateMainFilename</code>.</p>
</blockquote>
<h2 id="outputjsonpfunction"><code>output.jsonpFunction</code> <a href="#outputjsonpfunction" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'webpackJsonp'</code></p>
<p>ä»…åœ¨ <a href="/configuration/target/"><code>target</code></a> è®¾ç½®ä¸º <code>'web'</code> æ—¶ç”Ÿæ•ˆï¼Œé€šè¿‡ä½¿ç”¨ JSONP æ¥å®ç°æŒ‰éœ€åŠ è½½æ¨¡å—ã€‚</p>
<p>JSONP å‡½æ•°ç”¨äºå¼‚æ­¥åŠ è½½ chunkï¼Œæˆ–è€…æ‹¼æ¥å¤šä¸ªåˆå§‹ chunk(SplitChunksPlugin, AggressiveSplittingPlugin)ã€‚</p>
<p>å¦‚æœä½¿ç”¨äº† <a href="#outputlibrary"><code>output.library</code></a> é€‰é¡¹ï¼Œlibrary åç§°ä¼šè‡ªåŠ¨ä¸ <code>output.jsonpFunction</code> çš„å€¼æ‹¼æ¥åœ¨ä¸€èµ·ã€‚</p>
<blockquote class="warning">
<p>å¦‚æœåœ¨åŒä¸€ç½‘é¡µä¸­ä½¿ç”¨äº†å¤šä¸ªï¼ˆæ¥è‡ªä¸åŒ compilation çš„ï¼‰webpack runtimeï¼Œåœ¨å…¨å±€åç§°ç©ºé—´ä¸­å­˜åœ¨ on-demand chunk(æŒ‰éœ€ chunk) å†²çªçš„é£é™©ã€‚</p>
</blockquote>
<p>é»˜è®¤çš„ on-demand chunk çš„è¾“å‡ºä»¥å¦‚ä¸‹å¼€å§‹ï¼š</p>
<p><strong>example-on-demand-chunk.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token punctuation">(</span>window<span class="token punctuation">.</span>webpackJsonp <span class="token operator">=</span> window<span class="token punctuation">.</span>webpackJsonp <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>ä¿®æ”¹ <code>output.jsonpFunction</code> ä»¥å®‰å…¨ä½¿ç”¨åŒä¸€ç½‘é¡µä¸Šçš„å¤šä¸ª webpack runtimeï¼š</p>
<p><strong>webpack.config.flight-widget.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    jsonpFunction<span class="token punctuation">:</span> <span class="token string">'wpJsonpFlightsWidget'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>On-demand chunks content would now change to:</p>
<p><strong>example-on-demand-chunk.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token punctuation">(</span>window<span class="token punctuation">.</span>wpJsonpFlightsWidget <span class="token operator">=</span> window<span class="token punctuation">.</span>wpJsonpFlightsWidget <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputlibrary"><code>output.library</code> <a href="#outputlibrary" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code> <code>object</code></p>
<blockquote class="tip">
<p><code>object</code> ä» webpack 3.1.0 å¼€å§‹åº”ç”¨ã€‚ç”¨äº <code>libraryTarget: 'umd'</code>ã€‚</p>
</blockquote>
<p><code>output.library</code> çš„å€¼çš„ä½œç”¨ï¼Œå–å†³äº<a href="#outputlibrarytarget"><code>output.libraryTarget</code></a> é€‰é¡¹çš„å€¼ï¼›å®Œæ•´çš„è¯¦ç»†ä¿¡æ¯è¯·æŸ¥é˜…è¯¥ç« èŠ‚ã€‚æ³¨æ„ï¼Œ<code>output.libraryTarget</code> çš„é»˜è®¤é€‰é¡¹æ˜¯ <code>var</code>ï¼Œæ‰€ä»¥å¦‚æœä½¿ç”¨ä»¥ä¸‹é…ç½®é€‰é¡¹ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    library<span class="token punctuation">:</span> <span class="token string">'MyLibrary'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å¦‚æœç”Ÿæˆçš„è¾“å‡ºæ–‡ä»¶ï¼Œæ˜¯åœ¨ HTML é¡µé¢ä¸­ä½œä¸ºä¸€ä¸ª script æ ‡ç­¾å¼•å…¥ï¼Œåˆ™å˜é‡ <code>MyLibrary</code> å°†ä¸å…¥å£æ–‡ä»¶çš„è¿”å›å€¼ç»‘å®šã€‚</p>
<blockquote class="warning">
<p>æ³¨æ„ï¼Œå¦‚æœå°†<code>æ•°ç»„</code>ä½œä¸º <code>entry</code>ï¼Œé‚£ä¹ˆåªä¼šæš´éœ²æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªæ¨¡å—ã€‚å¦‚æœå°†<code>å¯¹è±¡</code>ä½œä¸º <code>entry</code>ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ <code>array</code> è¯­æ³•æš´éœ²ï¼ˆå…·ä½“æŸ¥çœ‹<a href="https://github.com/webpack/webpack/tree/master/examples/multi-part-library">è¿™ä¸ªç¤ºä¾‹</a> for details)ï¼‰ã€‚</p>
</blockquote>
<blockquote class="tip">
<p>æœ‰å…³ <code>output.library</code> ä»¥åŠ <code>output.libraryTarget</code> è¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹<a href="/guides/author-libraries/">åˆ›å»º library æŒ‡å—</a>ã€‚</p>
</blockquote>
<h2 id="ouputscripttype">ouput.scriptType <a href="#ouputscripttype" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string: 'module' | 'text/javascript'</code> <code>boolean = false</code></p>
<p>This option allows loading asynchronous chunks with a custom script type, such as <code>&#x3C;script type="module" ...></code>.</p>
<blockquote class="tip">
<p>If <a href="#outputmodule"><code>output.module</code></a> is set to <code>true</code>, <code>ouput.scriptType</code> will default to <code>'module'</code> instead of <code>false</code>.</p>
</blockquote>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    scriptType<span class="token punctuation">:</span> <span class="token string">'module'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputlibraryexport"><code>output.libraryExport</code> <a href="#outputlibraryexport" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code> <code>[string]</code></p>
<p>Configure which module or modules will be exposed via the <code>libraryTarget</code>. It is <code>undefined</code> by default, same behaviour will be applied if you set <code>libraryTarget</code> to an empty string e.g. <code>''</code> it will export the whole (namespace) object. The examples below demonstrate the effect of this configuration when using <code>libraryTarget: 'var'</code>.</p>
<p>The following configurations are supported:</p>
<p><code>libraryExport: 'default'</code> - The <strong>default export of your entry point</strong> will be assigned to the library target:</p>
<pre><code class="hljs language-javascript"><span class="token comment">// if your entry has a default export of `MyDefaultModule`</span>
<span class="token keyword">var</span> MyDefaultModule <span class="token operator">=</span> _entry_return_<span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">;</span></code></pre>
<p><code>libraryExport: 'MyModule'</code> - The <strong>specified module</strong> will be assigned to the library target:</p>
<pre><code class="hljs language-javascript"><span class="token keyword">var</span> MyModule <span class="token operator">=</span> _entry_return_<span class="token punctuation">.</span>MyModule<span class="token punctuation">;</span></code></pre>
<p><code>libraryExport: ['MyModule', 'MySubModule']</code> - The array is interpreted as a <strong>path to a module</strong> to be assigned to the library target:</p>
<pre><code class="hljs language-javascript"><span class="token keyword">var</span> MySubModule <span class="token operator">=</span> _entry_return_<span class="token punctuation">.</span>MyModule<span class="token punctuation">.</span>MySubModule<span class="token punctuation">;</span></code></pre>
<p>With the <code>libraryExport</code> configurations specified above, the resulting libraries could be utilized as such:</p>
<pre><code class="hljs language-javascript">MyDefaultModule<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
MyModule<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
MySubModule<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputlibrarytarget"><code>output.libraryTarget</code> <a href="#outputlibrarytarget" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'var'</code></p>
<p>é…ç½®å¦‚ä½•æš´éœ² libraryã€‚å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„é€‰é¡¹ä¸­çš„ä»»æ„ä¸€ä¸ªã€‚æ³¨æ„ï¼Œæ­¤é€‰é¡¹ä¸åˆ†é…ç»™ <a href="#outputlibrary"><code>output.library</code></a> çš„å€¼ä¸€åŒä½¿ç”¨ã€‚å¯¹äºä¸‹é¢çš„æ‰€æœ‰ç¤ºä¾‹ï¼Œéƒ½å‡å®šå°† <code>output.library</code> çš„å€¼é…ç½®ä¸º <code>MyLibrary</code>ã€‚</p>
<blockquote class="tip">
<p>æ³¨æ„ï¼Œä¸‹é¢çš„ç¤ºä¾‹ä»£ç ä¸­çš„ <code>_entry_return_</code> æ˜¯å…¥å£èµ·ç‚¹è¿”å›çš„å€¼ã€‚åœ¨ bundle æœ¬èº«ä¸­ï¼Œå®ƒæ˜¯ä»å…¥å£èµ·ç‚¹ã€ç”± webpack ç”Ÿæˆçš„å‡½æ•°çš„è¾“å‡ºç»“æœã€‚</p>
</blockquote>
<h3 id="expose-a-variable">æš´éœ²ä¸ºä¸€ä¸ªå˜é‡ <a href="#expose-a-variable" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>è¿™äº›é€‰é¡¹å°†å…¥å£èµ·ç‚¹çš„è¿”å›å€¼ï¼ˆä¾‹å¦‚ï¼Œå…¥å£èµ·ç‚¹çš„ä»»ä½•å¯¼å‡ºå€¼ï¼‰ï¼Œåœ¨ bundle åŒ…æ‰€å¼•å…¥çš„ä½ç½®ï¼Œèµ‹å€¼ç»™ output.library æä¾›çš„å˜é‡åã€‚</p>
<p><code>libraryTarget: 'var'</code> - ï¼ˆé»˜è®¤å€¼ï¼‰å½“ library åŠ è½½å®Œæˆï¼Œ<strong>å…¥å£èµ·ç‚¹çš„è¿”å›å€¼</strong>å°†åˆ†é…ç»™ä¸€ä¸ªå˜é‡ï¼š</p>
<pre><code class="hljs language-javascript"><span class="token keyword">var</span> MyLibrary <span class="token operator">=</span> _entry_return_<span class="token punctuation">;</span>

<span class="token comment">// åœ¨ä¸€ä¸ªå•ç‹¬çš„ script...</span>
MyLibrary<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p>å½“ä½¿ç”¨æ­¤é€‰é¡¹æ—¶ï¼Œå°† <code>output.library</code> è®¾ç½®ä¸ºç©ºï¼Œä¼šå› ä¸ºæ²¡æœ‰å˜é‡å¯¼è‡´æ— æ³•èµ‹å€¼ã€‚</p>
</blockquote>
<p><code>libraryTarget: 'assign'</code> - è¿™å°†äº§ç”Ÿä¸€ä¸ªéšå«çš„å…¨å±€å˜é‡ï¼Œå¯èƒ½ä¼šæ½œåœ¨åœ°é‡æ–°åˆ†é…åˆ°å…¨å±€ä¸­å·²å­˜åœ¨çš„å€¼ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰ã€‚.</p>
<pre><code class="hljs language-javascript">MyLibrary <span class="token operator">=</span> _entry_return_<span class="token punctuation">;</span></code></pre>
<p>æ³¨æ„ï¼Œå¦‚æœ <code>MyLibrary</code> åœ¨ä½œç”¨åŸŸä¸­æœªåœ¨å‰é¢ä»£ç è¿›è¡Œå®šä¹‰ï¼Œåˆ™ä½ çš„ library å°†è¢«è®¾ç½®åœ¨å…¨å±€ä½œç”¨åŸŸå†…ã€‚</p>
<blockquote class="warning">
<p>å½“ä½¿ç”¨æ­¤é€‰é¡¹æ—¶ï¼Œå°† <code>output.library</code> è®¾ç½®ä¸ºç©ºï¼Œå°†äº§ç”Ÿä¸€ä¸ªç ´æŸçš„è¾“å‡º bundleã€‚</p>
</blockquote>
<h3 id="expose-via-object-assignment">é€šè¿‡åœ¨å¯¹è±¡ä¸Šèµ‹å€¼æš´éœ² <a href="#expose-via-object-assignment" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>è¿™äº›é€‰é¡¹å°†å…¥å£èµ·ç‚¹çš„è¿”å›å€¼ï¼ˆä¾‹å¦‚ï¼Œå…¥å£èµ·ç‚¹çš„ä»»ä½•å¯¼å‡ºå€¼ï¼‰èµ‹å€¼ç»™ä¸€ä¸ªç‰¹å®šå¯¹è±¡çš„å±æ€§ï¼ˆæ­¤åç§°ç”± <code>output.library</code> å®šä¹‰ï¼‰ä¸‹ã€‚</p>
<p>å¦‚æœ <code>output.library</code> æœªèµ‹å€¼ä¸ºä¸€ä¸ªéç©ºå­—ç¬¦ä¸²ï¼Œåˆ™é»˜è®¤è¡Œä¸ºæ˜¯ï¼Œå°†å…¥å£èµ·ç‚¹è¿”å›çš„æ‰€æœ‰å±æ€§éƒ½èµ‹å€¼ç»™ä¸€ä¸ªå¯¹è±¡ï¼ˆæ­¤å¯¹è±¡ç”± <code>output.libraryTarget</code> ç‰¹å®šï¼‰ï¼Œé€šè¿‡å¦‚ä¸‹ä»£ç ç‰‡æ®µï¼š</p>
<pre><code class="hljs language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span> e<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">(</span>output<span class="token punctuation">.</span>libraryTarget<span class="token punctuation">,</span> _entry_return_<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p>æ³¨æ„ï¼Œä¸è®¾ç½® <code>output.library</code> å°†å¯¼è‡´ç”±å…¥å£èµ·ç‚¹è¿”å›çš„æ‰€æœ‰å±æ€§ï¼Œéƒ½ä¼šè¢«èµ‹å€¼ç»™ç»™å®šçš„å¯¹è±¡ï¼›è¿™é‡Œå¹¶ä¸ä¼šæ£€æŸ¥ç°æœ‰çš„å±æ€§åæ˜¯å¦å­˜åœ¨ã€‚</p>
</blockquote>
<p><code>libraryTarget: "this"</code> - <strong>å…¥å£èµ·ç‚¹çš„è¿”å›å€¼</strong>å°†åˆ†é…ç»™ this çš„ä¸€ä¸ªå±æ€§ï¼ˆæ­¤åç§°ç”± <code>output.library</code> å®šä¹‰ï¼‰ä¸‹ï¼Œ<code>this</code> çš„å«ä¹‰å–å†³äºä½ ï¼š</p>
<pre><code class="hljs language-javascript"><span class="token keyword">this</span><span class="token punctuation">[</span><span class="token string">'MyLibrary'</span><span class="token punctuation">]</span> <span class="token operator">=</span> _entry_return_<span class="token punctuation">;</span>

<span class="token comment">// åœ¨ä¸€ä¸ªå•ç‹¬çš„ script...</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>MyLibrary<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
MyLibrary<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¦‚æœ this æ˜¯ window</span></code></pre>
<p><code>libraryTarget: 'window'</code> - <strong>å…¥å£èµ·ç‚¹çš„è¿”å›å€¼</strong>å°†ä½¿ç”¨ <code>output.library</code> ä¸­å®šä¹‰çš„å€¼ï¼Œåˆ†é…ç»™ <code>window</code> å¯¹è±¡çš„è¿™ä¸ªå±æ€§ä¸‹ã€‚</p>
<pre><code class="hljs language-javascript">window<span class="token punctuation">[</span><span class="token string">'MyLibrary'</span><span class="token punctuation">]</span> <span class="token operator">=</span> _entry_return_<span class="token punctuation">;</span>

window<span class="token punctuation">.</span>MyLibrary<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><code>libraryTarget: 'global'</code> - <strong>å…¥å£èµ·ç‚¹çš„è¿”å›å€¼</strong>å°†ä½¿ç”¨ <code>output.library</code> ä¸­å®šä¹‰çš„å€¼ï¼Œåˆ†é…ç»™ <code>global</code> å¯¹è±¡çš„è¿™ä¸ªå±æ€§ä¸‹ã€‚</p>
<pre><code class="hljs language-javascript">global<span class="token punctuation">[</span><span class="token string">'MyLibrary'</span><span class="token punctuation">]</span> <span class="token operator">=</span> _entry_return_<span class="token punctuation">;</span>

global<span class="token punctuation">.</span>MyLibrary<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><code>libraryTarget: 'commonjs'</code> - <strong>å…¥å£èµ·ç‚¹çš„è¿”å›å€¼</strong>å°†ä½¿ç”¨ <code>output.library</code> ä¸­å®šä¹‰çš„å€¼ï¼Œåˆ†é…ç»™ exports å¯¹è±¡ã€‚è¿™ä¸ªåç§°ä¹Ÿæ„å‘³ç€ï¼Œæ¨¡å—ç”¨äº CommonJS ç¯å¢ƒï¼š</p>
<pre><code class="hljs language-javascript">exports<span class="token punctuation">[</span><span class="token string">'MyLibrary'</span><span class="token punctuation">]</span> <span class="token operator">=</span> _entry_return_<span class="token punctuation">;</span>

<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'MyLibrary'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h3 id="module-definition-systems">æ¨¡å—å®šä¹‰ç³»ç»Ÿ <a href="#module-definition-systems" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>è¿™äº›é€‰é¡¹å°†å¯¼è‡´ bundle å¸¦æœ‰æ›´å®Œæ•´çš„æ¨¡å—å¤´éƒ¨ï¼Œä»¥ç¡®ä¿ä¸å„ç§æ¨¡å—ç³»ç»Ÿçš„å…¼å®¹æ€§ã€‚æ ¹æ® <code>output.libraryTarget</code> é€‰é¡¹ä¸åŒï¼Œ<code>output.library</code> é€‰é¡¹å°†å…·æœ‰ä¸åŒçš„å«ä¹‰ã€‚</p>
<p><code>libraryTarget: 'commonjs2'</code> - <strong>å…¥å£èµ·ç‚¹çš„è¿”å›å€¼</strong>å°†åˆ†é…ç»™ <code>module.exports</code> å¯¹è±¡ã€‚è¿™ä¸ªåç§°ä¹Ÿæ„å‘³ç€æ¨¡å—ç”¨äº CommonJS ç¯å¢ƒï¼š</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> _entry_return_<span class="token punctuation">;</span>

<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'MyLibrary'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>æ³¨æ„ï¼Œ<code>output.library</code> ä¼šè¢«çœç•¥ï¼Œå› æ­¤å¯¹äºæ­¤ç‰¹å®šçš„ <code>output.libraryTarget</code>ï¼Œæ— éœ€å†è®¾ç½® <code>output.library</code> ã€‚</p>
<blockquote class="tip">
<p>æƒ³è¦å¼„æ¸…æ¥š CommonJS å’Œ CommonJS2 ä¹‹é—´çš„åŒºåˆ«ï¼Ÿè™½ç„¶å®ƒä»¬å¾ˆç›¸ä¼¼ï¼Œä½†äºŒè€…ä¹‹é—´å­˜åœ¨ä¸€äº›å¾®å¦™çš„å·®å¼‚ï¼Œè¿™é€šå¸¸ä¸ webpack ä¸Šä¸‹æ–‡æ²¡æœ‰å…³è”ã€‚ï¼ˆæ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·<a href="https://github.com/webpack/webpack/issues/1114">é˜…è¯»æ­¤ issue</a>ã€‚ï¼‰</p>
</blockquote>
<p><code>libraryTarget: 'amd'</code> - å°†ä½ çš„ library æš´éœ²ä¸º AMD æ¨¡å—ã€‚</p>
<p>AMD æ¨¡å—è¦æ±‚å…¥å£ chunkï¼ˆä¾‹å¦‚ä½¿ç”¨ <code>&#x3C;script></code> æ ‡ç­¾åŠ è½½çš„ç¬¬ä¸€ä¸ªè„šæœ¬ï¼‰é€šè¿‡ç‰¹å®šçš„å±æ€§å®šä¹‰ï¼Œä¾‹å¦‚ <code>define</code> å’Œ <code>require</code>ï¼Œå®ƒä»¬é€šå¸¸ç”± RequireJS æˆ–ä»»ä½•å…¼å®¹çš„æ¨¡å—åŠ è½½å™¨æä¾›ï¼ˆä¾‹å¦‚ almondï¼‰ã€‚å¦åˆ™ï¼Œç›´æ¥åŠ è½½ç”Ÿæˆçš„ AMD bundle å°†å¯¼è‡´æŠ¥é”™ï¼Œå¦‚ <code>define is not defined</code>ã€‚</p>
<p>æ‰€ä»¥ï¼Œä½¿ç”¨ä»¥ä¸‹é…ç½®...</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    library<span class="token punctuation">:</span> <span class="token string">'MyLibrary'</span><span class="token punctuation">,</span>
    libraryTarget<span class="token punctuation">:</span> <span class="token string">'amd'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>ç”Ÿæˆçš„ output å°†ä¼šä½¿ç”¨ "MyLibrary" ä½œä¸ºæ¨¡å—åå®šä¹‰ï¼Œå³</p>
<pre><code class="hljs language-javascript"><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'MyLibrary'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> _entry_return_<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>å¯ä»¥åœ¨ script æ ‡ç­¾ä¸­ï¼Œå°† bundle ä½œä¸ºä¸€ä¸ªæ¨¡å—æ•´ä½“å¼•å…¥ï¼Œå¹¶ä¸”å¯ä»¥åƒè¿™æ ·è°ƒç”¨ bundleï¼š</p>
<pre><code class="hljs language-javascript"><span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'MyLibrary'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>MyLibrary<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ä½¿ç”¨ library åšä¸€äº›äº‹â€¦â€¦</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>å¦‚æœ <code>output.library</code> æœªå®šä¹‰ï¼Œå°†ä¼šç”Ÿæˆä»¥ä¸‹å†…å®¹ã€‚</p>
<pre><code class="hljs language-javascript"><span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> _entry_return_<span class="token punctuation">;</span> <span class="token comment">// æ­¤æ¨¡å—è¿”å›å€¼ï¼Œæ˜¯å…¥å£ chunk è¿”å›çš„å€¼</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>å¦‚æœç›´æ¥åŠ è½½ <code>&#x3C;script></code> æ ‡ç­¾ï¼Œæ­¤ bundle æ— æ³•æŒ‰é¢„æœŸè¿è¡Œï¼Œæˆ–è€…æ ¹æœ¬æ— æ³•æ­£å¸¸è¿è¡Œï¼ˆåœ¨ almond loader ä¸­ï¼‰ã€‚åªèƒ½é€šè¿‡æ–‡ä»¶çš„å®é™…è·¯å¾„ï¼Œåœ¨ RequireJS å…¼å®¹çš„å¼‚æ­¥æ¨¡å—åŠ è½½å™¨ä¸­è¿è¡Œï¼Œå› æ­¤åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœè¿™äº›è®¾ç½®ç›´æ¥æš´éœ²åœ¨æœåŠ¡å™¨ä¸Šï¼Œé‚£ä¹ˆ <code>output.path</code> å’Œ <code>output.filename</code> å¯¹äºè¿™ä¸ªç‰¹å®šçš„è®¾ç½®å¯èƒ½å˜å¾—å¾ˆé‡è¦ã€‚</p>
<p><code>libraryTarget: 'amd-require'</code> - è¿™å°†ä½¿ç”¨ç«‹å³æ‰§è¡Œçš„AMD <code>require(dependencies, factory)</code> åŒ…è£…å™¨åŒ…è£…æ‚¨çš„è¾“å‡ºã€‚</p>
<p> <code>'amd-require'</code> ç›®æ ‡ï¼ˆtargetï¼‰å…è®¸ä½¿ç”¨AMDä¾èµ–é¡¹ï¼Œè€Œæ— éœ€å•ç‹¬çš„åç»­è°ƒç”¨ã€‚ä¸ <code>'amd'</code> ç›®æ ‡ï¼ˆtargetï¼‰ä¸€æ ·, è¿™å–å†³äºåœ¨åŠ è½½ webpack è¾“å‡ºçš„ç¯å¢ƒä¸­é€‚å½“å¯ç”¨çš„ <a href="https://github.com/amdjs/amdjs-api/blob/master/require.md"><code>require</code> function</a> ã€‚</p>
<p>å¯¹äºæ­¤ç›®æ ‡ï¼Œåº“åç§°å°†è¢«å¿½ç•¥ã€‚</p>
<p><code>libraryTarget: 'umd'</code> - å°†ä½ çš„ library æš´éœ²ä¸ºæ‰€æœ‰çš„æ¨¡å—å®šä¹‰ä¸‹éƒ½å¯è¿è¡Œçš„æ–¹å¼ã€‚å®ƒå°†åœ¨ CommonJS, AMD ç¯å¢ƒä¸‹è¿è¡Œï¼Œæˆ–å°†æ¨¡å—å¯¼å‡ºåˆ° global ä¸‹çš„å˜é‡ã€‚äº†è§£æ›´å¤šè¯·æŸ¥çœ‹ <a href="https://github.com/umdjs/umd">UMD ä»“åº“</a>ã€‚</p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä½ éœ€è¦ <code>library</code> å±æ€§æ¥å‘½åä½ çš„æ¨¡å—ï¼š</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    library<span class="token punctuation">:</span> <span class="token string">'MyLibrary'</span><span class="token punctuation">,</span>
    libraryTarget<span class="token punctuation">:</span> <span class="token string">'umd'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>æœ€ç»ˆè¾“å‡ºå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">webpackUniversalModuleDefinition</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> factory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&#x26;&#x26;</span> <span class="token keyword">typeof</span> module <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span>
    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> define <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">&#x26;&#x26;</span> define<span class="token punctuation">.</span>amd<span class="token punctuation">)</span>
    <span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> factory<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span>
    exports<span class="token punctuation">[</span><span class="token string">'MyLibrary'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">else</span>
    root<span class="token punctuation">[</span><span class="token string">'MyLibrary'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> self <span class="token operator">!==</span> <span class="token string">'undefined'</span> <span class="token operator">?</span> self <span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> _entry_return_<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>æ³¨æ„ï¼Œçœç•¥ <code>library</code> ä¼šå¯¼è‡´å°†å…¥å£èµ·ç‚¹è¿”å›çš„æ‰€æœ‰å±æ€§ï¼Œç›´æ¥èµ‹å€¼ç»™ root å¯¹è±¡ï¼Œå°±åƒ<a href="#expose-via-object-assignment">å¯¹è±¡åˆ†é…ç« èŠ‚</a>ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    libraryTarget<span class="token punctuation">:</span> <span class="token string">'umd'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">webpackUniversalModuleDefinition</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> factory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&#x26;&#x26;</span> <span class="token keyword">typeof</span> module <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span>
    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> define <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">&#x26;&#x26;</span> define<span class="token punctuation">.</span>amd<span class="token punctuation">)</span>
    <span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> factory<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> a<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">?</span> exports <span class="token punctuation">:</span> root<span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> self <span class="token operator">!==</span> <span class="token string">'undefined'</span> <span class="token operator">?</span> self <span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> _entry_return_<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>ä» webpack 3.1.0 å¼€å§‹ï¼Œä½ å¯ä»¥å°† <code>library</code> æŒ‡å®šä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œç”¨äºç»™æ¯ä¸ª target èµ·ä¸åŒçš„åç§°ï¼š</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    library<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      root<span class="token punctuation">:</span> <span class="token string">'MyLibrary'</span><span class="token punctuation">,</span>
      amd<span class="token punctuation">:</span> <span class="token string">'my-library'</span><span class="token punctuation">,</span>
      commonjs<span class="token punctuation">:</span> <span class="token string">'my-common-library'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    libraryTarget<span class="token punctuation">:</span> <span class="token string">'umd'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p><code>libraryTarget: 'system'</code> - This will expose your library as a <a href="https://github.com/systemjs/systemjs/blob/master/docs/system-register.md"><code>System.register</code></a>
module. This feature was first released in <a href="https://github.com/webpack/webpack/releases/tag/v4.30.0">webpack 4.30.0</a>.</p>
<p>System modules require that a global variable <code>System</code> is present in the browser when the webpack bundle is executed. Compiling to <code>System.register</code> format allows you to <code>System.import('/bundle.js')</code> without additional configuration and have your webpack bundle loaded into the System module registry.</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    libraryTarget<span class="token punctuation">:</span> <span class="token string">'system'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Output:</p>
<pre><code class="hljs language-javascript">System<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>_export<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    setters<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    execute<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>By adding <code>output.library</code> to configuration in addition to having <code>output.libraryTarget</code> set to <code>system</code>, the output bundle will have the library name as an argument to <code>System.register</code>:</p>
<pre><code class="hljs language-javascript">System<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'my-library'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>_export<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    setters<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    execute<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>ä½ å¯ä»¥é€šè¿‡ <a href="https://github.com/systemjs/systemjs/blob/master/docs/system-register.md#format-definition">SystemJS context</a> å‡­å€Ÿ <code>__system_context__</code>:</p>
<pre><code class="hljs language-javascript"><span class="token comment">// è®°å½•å½“å‰ç³»ç»Ÿæ¨¡å—çš„ URL</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>__system_context__<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¯¼å…¥ä¸€ä¸ªç³»ç»Ÿæ¨¡å—ï¼Œé€šè¿‡å°†å½“å‰çš„ç³»ç»Ÿæ¨¡å—çš„ url ä½œä¸º parentUrl</span>
__system_context__<span class="token punctuation">.</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./other-file.js'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>m <span class="token operator">=></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h3 id="other-targets">å…¶ä»– Targets <a href="#other-targets" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>libraryTarget: 'jsonp'</code> - è¿™å°†æŠŠå…¥å£èµ·ç‚¹çš„è¿”å›å€¼ï¼ŒåŒ…è£¹åˆ°ä¸€ä¸ª jsonp åŒ…è£…å®¹å™¨ä¸­</p>
<pre><code class="hljs language-javascript"><span class="token function">MyLibrary</span><span class="token punctuation">(</span>_entry_return_<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>ä½ çš„ library çš„ä¾èµ–å°†ç”± <a href="/configuration/externals/"><code>externals</code></a> é…ç½®å®šä¹‰ã€‚</p>
<h2 id="outputimportfunctionname"><code>output.importFunctionName</code> <a href="#outputimportfunctionname" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'import'</code></p>
<p>å†…éƒ¨ <code>import()</code> å‡½æ•°çš„åç§°. å¯ç”¨äº polyfilling, ä¾‹å¦‚ é€šè¿‡ <a href="https://github.com/GoogleChromeLabs/dynamic-import-polyfill"><code>dynamic-import-polyfill</code></a>.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    importFunctionName<span class="token punctuation">:</span> <span class="token string">'__import__'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputpath"><code>output.path</code> <a href="#outputpath" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = path.join(process.cwd(), 'dist')</code></p>
<p>output ç›®å½•å¯¹åº”ä¸€ä¸ª<strong>ç»å¯¹è·¯å¾„</strong>ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist/assets'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>æ³¨æ„ï¼Œ<code>[hash]</code> åœ¨å‚æ•°ä¸­è¢«æ›¿æ¢ä¸ºç¼–è¯‘è¿‡ç¨‹(compilation)çš„ hashã€‚è¯¦ç»†ä¿¡æ¯è¯·æŸ¥çœ‹<a href="/guides/caching/">æŒ‡å— - ç¼“å­˜</a>ã€‚</p>
<h2 id="outputpathinfo"><code>output.pathinfo</code> <a href="#outputpathinfo" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>å‘ŠçŸ¥ webpack åœ¨ bundle ä¸­å¼•å…¥ã€Œæ‰€åŒ…å«æ¨¡å—ä¿¡æ¯ã€çš„ç›¸å…³æ³¨é‡Šã€‚æ­¤é€‰é¡¹åœ¨ <code>development</code> <a href="/concepts/mode/">æ¨¡å¼</a>æ—¶çš„é»˜è®¤å€¼æ˜¯ <code>true</code>ï¼Œè€Œåœ¨ <code>production</code> <a href="/configuration/mode/">æ¨¡å¼</a>æ—¶çš„é»˜è®¤å€¼æ˜¯ <code>false</code>ã€‚</p>
<blockquote class="warning">
<p>å¯¹äºåœ¨å¼€å‘ç¯å¢ƒ(development)ä¸‹é˜…è¯»ç”Ÿæˆä»£ç æ—¶ï¼Œè™½ç„¶é€šè¿‡è¿™äº›æ³¨é‡Šå¯ä»¥æä¾›éå¸¸æœ‰ç”¨çš„æ•°æ®ä¿¡æ¯ï¼Œä½†åœ¨ç”Ÿäº§ç¯å¢ƒ(production)ä¸‹ï¼Œ<strong>ä¸åº”è¯¥</strong>ä½¿ç”¨ã€‚</p>
</blockquote>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    pathinfo<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>è¿™äº›æ³¨é‡Šä¹Ÿä¼šè¢«æ·»åŠ è‡³ç»è¿‡ tree shaking åç”Ÿæˆçš„ bundle ä¸­ã€‚</p>
</blockquote>
<h2 id="outputpublicpath"><code>output.publicPath</code> <a href="#outputpublicpath" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = ''</code> <code>function</code></p>
<p>å¯¹äºæŒ‰éœ€åŠ è½½(on-demand-load)æˆ–åŠ è½½å¤–éƒ¨èµ„æº(external resources)ï¼ˆå¦‚å›¾ç‰‡ã€æ–‡ä»¶ç­‰ï¼‰æ¥è¯´ï¼Œoutput.publicPath æ˜¯å¾ˆé‡è¦çš„é€‰é¡¹ã€‚å¦‚æœæŒ‡å®šäº†ä¸€ä¸ªé”™è¯¯çš„å€¼ï¼Œåˆ™åœ¨åŠ è½½è¿™äº›èµ„æºæ—¶ä¼šæ”¶åˆ° 404 é”™è¯¯ã€‚</p>
<p>æ­¤é€‰é¡¹æŒ‡å®šåœ¨æµè§ˆå™¨ä¸­æ‰€å¼•ç”¨çš„ã€Œæ­¤è¾“å‡ºç›®å½•å¯¹åº”çš„<strong>å…¬å¼€ URL</strong>ã€ã€‚ç›¸å¯¹ URL(relative URL) ä¼šè¢«ç›¸å¯¹äº HTML é¡µé¢ï¼ˆæˆ– <code>&#x3C;base></code> æ ‡ç­¾ï¼‰è§£æã€‚ç›¸å¯¹äºæœåŠ¡çš„ URL(Server-relative URL)ï¼Œç›¸å¯¹äºåè®®çš„ URL(protocol-relative URL) æˆ–ç»å¯¹ URL(absolute URL) ä¹Ÿå¯æ˜¯å¯èƒ½ç”¨åˆ°çš„ï¼Œæˆ–è€…æœ‰æ—¶å¿…é¡»ç”¨åˆ°ï¼Œä¾‹å¦‚ï¼šå½“å°†èµ„æºæ‰˜ç®¡åˆ° CDN æ—¶ã€‚</p>
<p>è¯¥é€‰é¡¹çš„å€¼æ˜¯ä»¥ runtime(è¿è¡Œæ—¶) æˆ– loader(è½½å…¥æ—¶) æ‰€åˆ›å»ºçš„æ¯ä¸ª URL ä¸ºå‰ç¼€ã€‚å› æ­¤ï¼Œåœ¨å¤šæ•°æƒ…å†µä¸‹ï¼Œ<strong>æ­¤é€‰é¡¹çš„å€¼éƒ½ä¼šä»¥ <code>/</code> ç»“æŸ</strong>ã€‚</p>
<p>ç®€å•è§„åˆ™å¦‚ä¸‹ï¼š<a href="#outputpath"><code>output.path</code></a> ä¸­çš„ URL ä»¥ HTML é¡µé¢ä¸ºåŸºå‡†ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'public/assets'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    publicPath<span class="token punctuation">:</span> <span class="token string">'https://cdn.example.com/assets/'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å¯¹äºè¿™ä¸ªé…ç½®ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    publicPath<span class="token punctuation">:</span> <span class="token string">'/assets/'</span><span class="token punctuation">,</span>
    chunkFilename<span class="token punctuation">:</span> <span class="token string">'[id].chunk.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å¯¹äºä¸€ä¸ª chunk è¯·æ±‚ï¼Œçœ‹èµ·æ¥åƒè¿™æ · <code>/assets/4.chunk.js</code>ã€‚</p>
<p>å¯¹äºä¸€ä¸ªè¾“å‡º HTML çš„ loader å¯èƒ½ä¼šåƒè¿™æ ·è¾“å‡ºï¼š</p>
<pre><code class="hljs language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/assets/spinner.gif<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre>
<p>æˆ–è€…åœ¨åŠ è½½ CSS çš„ä¸€ä¸ªå›¾ç‰‡æ—¶ï¼š</p>
<pre><code class="hljs language-css"><span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url">url(/assets/spinner.gif)</span><span class="token punctuation">;</span></code></pre>
<p>webpack-dev-server ä¹Ÿä¼šé»˜è®¤ä» <code>publicPath</code> ä¸ºåŸºå‡†ï¼Œä½¿ç”¨å®ƒæ¥å†³å®šåœ¨å“ªä¸ªç›®å½•ä¸‹å¯ç”¨æœåŠ¡ï¼Œæ¥è®¿é—® webpack è¾“å‡ºçš„æ–‡ä»¶ã€‚</p>
<p>æ³¨æ„ï¼Œå‚æ•°ä¸­çš„ <code>[hash]</code> å°†ä¼šè¢«æ›¿æ¢ä¸ºç¼–è¯‘è¿‡ç¨‹(compilation) çš„ hashã€‚è¯¦ç»†ä¿¡æ¯è¯·æŸ¥çœ‹<a href="/guides/caching">æŒ‡å— - ç¼“å­˜</a>ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// One of the below</span>
    publicPath<span class="token punctuation">:</span> <span class="token string">'https://cdn.example.com/assets/'</span><span class="token punctuation">,</span> <span class="token comment">// CDNï¼ˆæ€»æ˜¯ HTTPS åè®®ï¼‰</span>
    publicPath<span class="token punctuation">:</span> <span class="token string">'//cdn.example.com/assets/'</span><span class="token punctuation">,</span> <span class="token comment">// CDNï¼ˆåè®®ç›¸åŒï¼‰</span>
    publicPath<span class="token punctuation">:</span> <span class="token string">'/assets/'</span><span class="token punctuation">,</span> <span class="token comment">// ç›¸å¯¹äºæœåŠ¡(server-relative)</span>
    publicPath<span class="token punctuation">:</span> <span class="token string">'assets/'</span><span class="token punctuation">,</span> <span class="token comment">// ç›¸å¯¹äº HTML é¡µé¢</span>
    publicPath<span class="token punctuation">:</span> <span class="token string">'../assets/'</span><span class="token punctuation">,</span> <span class="token comment">// ç›¸å¯¹äº HTML é¡µé¢</span>
    publicPath<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// ç›¸å¯¹äº HTML é¡µé¢ï¼ˆç›®å½•ç›¸åŒï¼‰</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>åœ¨ç¼–è¯‘æ—¶(compile time)æ— æ³•çŸ¥é“è¾“å‡ºæ–‡ä»¶çš„ <code>publicPath</code> çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ç•™ç©ºï¼Œç„¶ååœ¨å…¥å£æ–‡ä»¶(entry file)å¤„ä½¿ç”¨<a href="https://stackoverflow.com/questions/12934929/what-are-free-variables">è‡ªç”±å˜é‡(free variable)</a> <code>__webpack_public_path__</code>ï¼Œä»¥ä¾¿åœ¨è¿è¡Œæ—¶(runtime)è¿›è¡ŒåŠ¨æ€è®¾ç½®ã€‚</p>
<pre><code class="hljs language-javascript">__webpack_public_path__ <span class="token operator">=</span> myRuntimePublicPath<span class="token punctuation">;</span>

<span class="token comment">// åº”ç”¨ç¨‹åºå…¥å£çš„å…¶ä»–éƒ¨åˆ†</span></code></pre>
<p>æœ‰å…³ <code>__webpack_public_path__</code> çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹<a href="https://github.com/webpack/webpack/issues/2776#issuecomment-233208623">æ­¤è®¨è®º</a>ã€‚</p>
<h2 id="outputsourcemapfilename"><code>output.sourceMapFilename</code> <a href="#outputsourcemapfilename" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = '[file].map[query]'</code></p>
<p>ä»…åœ¨ <a href="/configuration/devtool/"><code>devtool</code></a> è®¾ç½®ä¸º <code>'source-map'</code> æ—¶æœ‰æ•ˆï¼Œæ­¤é€‰é¡¹ä¼šå‘ç¡¬ç›˜å†™å…¥ä¸€ä¸ªè¾“å‡ºæ–‡ä»¶ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ <a href="#output-filename">#output-filename</a> ä¸­çš„ <code>[name]</code>, <code>[id]</code>, <code>[hash]</code> å’Œ <code>[chunkhash]</code> æ›¿æ¢ç¬¦å·ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ›¿æ¢ç¬¦å·ã€‚<code>[file]</code> å ä½ç¬¦ä¼šè¢«æ›¿æ¢ä¸ºåŸå§‹æ–‡ä»¶çš„æ–‡ä»¶åã€‚æˆ‘ä»¬å»ºè®®<strong>åªä½¿ç”¨ <code>[file]</code> å ä½ç¬¦</strong>ï¼Œå› ä¸ºå…¶ä»–å ä½ç¬¦åœ¨é chunk æ–‡ä»¶(non-chunk files)ç”Ÿæˆçš„ SourceMap æ—¶ä¸èµ·ä½œç”¨ã€‚</p>
<table>
<thead>
<tr>
<th>Template</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td><div class="title"><p>Template</p><p>æè¿°</p></div>
<div class="content"><p>[file]<p class="description mobile">æ¨¡å—æ–‡ä»¶åç§°</p></p></div></td>
<td class="description desktop">æ¨¡å—æ–‡ä»¶åç§°</td>
</tr>
<tr>
<td><div class="title"><p>Template</p><p>æè¿°</p></div>
<div class="content"><p>[filebase]<p class="description mobile">æ¨¡å— <a href="https://nodejs.org/api/path.html#path_path_basename_path_ext">basename</a></p></p></div></td>
<td class="description desktop">æ¨¡å— 
<a href="https://nodejs.org/api/path.html#path_path_basename_path_ext">basename</a></td>
</tr>
</tbody>
</table>
<h2 id="outputsourceprefix"><code>output.sourcePrefix</code> <a href="#outputsourceprefix" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = ''</code></p>
<p>ä¿®æ”¹è¾“å‡º bundle ä¸­æ¯è¡Œçš„å‰ç¼€ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    sourcePrefix<span class="token punctuation">:</span> <span class="token string">'\t'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>ä½¿ç”¨ä¸€äº›ç¼©è¿›ä¼šä½¿ bundle çœ‹èµ·æ¥æ›´ç¾è§‚ï¼Œä½†ä¼šå¯¼è‡´å¤šè¡Œå­—ç¬¦ä¸²çš„é—®é¢˜ã€‚</p>
</blockquote>
<blockquote class="tip">
<p>é€šå¸¸ï¼Œä½ ä¸éœ€è¦ä¿®æ”¹ <code>output.sourcePrefix</code>ã€‚</p>
</blockquote>
<h2 id="outputstrictmoduleexceptionhandling"><code>output.strictModuleExceptionHandling</code> <a href="#outputstrictmoduleexceptionhandling" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code></p>
<p>å¦‚æœä¸€ä¸ªæ¨¡å—æ˜¯åœ¨ <code>require</code> æ—¶æŠ›å‡ºå¼‚å¸¸ï¼Œå‘Šè¯‰ webpack ä»æ¨¡å—å®ä¾‹ç¼“å­˜(<code>require.cache</code>)ä¸­åˆ é™¤è¿™ä¸ªæ¨¡å—ã€‚</p>
<p>å‡ºäºæ€§èƒ½åŸå› ï¼Œé»˜è®¤ä¸º <code>false</code>ã€‚</p>
<p>å½“è®¾ç½®ä¸º <code>false</code> æ—¶ï¼Œè¯¥æ¨¡å—ä¸ä¼šä»ç¼“å­˜ä¸­åˆ é™¤ï¼Œè¿™å°†é€ æˆä»…åœ¨ç¬¬ä¸€æ¬¡ <code>require</code> è°ƒç”¨æ—¶æŠ›å‡ºå¼‚å¸¸ï¼ˆä¼šå¯¼è‡´ä¸ node.js ä¸å…¼å®¹ï¼‰ã€‚</p>
<p>ä¾‹å¦‚ï¼Œè®¾æƒ³ä¸€ä¸‹ <code>module.js</code>ï¼š</p>
<pre><code class="hljs language-javascript"><span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>å°† <code>strictModuleExceptionHandling</code> è®¾ç½®ä¸º <code>false</code>ï¼Œåªæœ‰ç¬¬ä¸€ä¸ª <code>require</code> æŠ›å‡ºå¼‚å¸¸ï¼š</p>
<pre><code class="hljs language-javascript"><span class="token comment">// with strictModuleExceptionHandling = false</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'module'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x3C;- æŠ›å‡º</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'module'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x3C;- ä¸æŠ›å‡º</span></code></pre>
<p>ç›¸åï¼Œå°† <code>strictModuleExceptionHandling</code> è®¾ç½®ä¸º <code>true</code>ï¼Œè¿™ä¸ªæ¨¡å—æ‰€æœ‰çš„ <code>require</code> éƒ½æŠ›å‡ºå¼‚å¸¸ï¼š</p>
<pre><code class="hljs language-javascript"><span class="token comment">// with strictModuleExceptionHandling = true</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'module'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x3C;- æŠ›å‡º</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'module'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x3C;- ä»ç„¶æŠ›å‡º</span></code></pre>
<h2 id="outputumdnameddefine"><code>output.umdNamedDefine</code> <a href="#outputumdnameddefine" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>When using <code>libraryTarget: "umd"</code>, setting <code>output.umdNamedDefine</code> to <code>true</code> will name the AMD module of the UMD build. Otherwise an anonymous <code>define</code> is used.</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    umdNamedDefine<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputenabledlibrarytypes"><code>output.enabledLibraryTypes</code> <a href="#outputenabledlibrarytypes" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>[string]</code></p>
<p>å…¥å£ç‚¹å¯ç”¨çš„ library ç±»å‹åˆ—è¡¨.</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    enabledLibraryTypes<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'module'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputfutureemitassets"><code>output.futureEmitAssets</code> <a href="#outputfutureemitassets" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code></p>
<p>Tells webpack to use the future version of asset emitting logic, which allows freeing memory of assets after emitting. It could break plugins which assume that assets are still readable after they were emitted.</p>
<blockquote class="warning">
<p><code>output.futureEmitAssets</code> option will be removed in webpack v5.0.0 and this behaviour will become the new default.</p>
</blockquote>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    futureEmitAssets<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputecmaversion"><code>output.ecmaVersion</code> <a href="#outputecmaversion" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>number = 6</code></p>
<p>å‘Šè¯‰ webpack åœ¨ç”Ÿæˆä»£ç æ—¶çš„æœ€å¤§é™åº¦ EcmaScript ç‰ˆæœ¬. å®ƒåº”è¯¥æ˜¯ä¸‹åˆ—ä¹‹ä¸€:</p>
<ul>
<li>åº”è¯¥ >= 5, åº”è¯¥ &#x3C;= 11</li>
<li>åº”è¯¥ >= 2009, åº”è¯¥ &#x3C;= 2020</li>
</ul>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    ecmaVersion<span class="token punctuation">:</span> <span class="token number">6</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>åœ¨ webpack 4 ä¸­  <code>output.ecmaVersion</code> çš„é»˜è®¤å€¼æ˜¯ <code>5</code>.</p>
</blockquote>
<h2 id="outputcomparebeforeemit"><code>output.compareBeforeEmit</code> <a href="#outputcomparebeforeemit" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = true</code></p>
<p>å‘Šè¯‰webpackåœ¨å†™å…¥è¾“å‡ºæ–‡ä»¶ç³»ç»Ÿ(output file system)ä¹‹å‰æ£€æŸ¥è¦å‘å‡ºçš„æ–‡ä»¶æ˜¯å¦å·²ç»å­˜åœ¨å¹¶ä¸”å…·æœ‰ç›¸åŒçš„å†…å®¹ã€‚</p>
<blockquote class="warning">
<p>å½“æ–‡ä»¶å­˜åœ¨å¹¶ä¸”å†…å®¹æ²¡æœ‰å˜æ›´æ—¶ï¼Œwebpack ä¸ä¼šè¾“å‡ºè¯¥æ–‡ä»¶ã€‚</p>
</blockquote>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    compareBeforeEmit<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputiife"><code>output.iife</code> <a href="#outputiife" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = true</code></p>
<p>å‘Šè¯‰ webpack æ·»åŠ  <a href="https://developer.mozilla.org/en-US/docs/Glossary/IIFE">IIFE</a> å¤–å±‚åŒ…è£¹ç”Ÿæˆçš„ä»£ç .</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    iife<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputmodule"><code>output.module</code> <a href="#outputmodule" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = true</code></p>
<p>å…è®¸è¾“å‡ºçš„ JavaScript æ–‡ä»¶ä½œä¸ºæ¨¡å—ç±»å‹ã€‚ è®¾ç½® <code>output.iife</code> ä¸º <code>false</code>, <code>output.libraryTarget</code> ä¸º <code>'module'</code>, <code>output.scriptType</code> ä¸º <code>'module'</code> å’Œ <code>terserOptions.module</code> ä¸º <code>true</code></p>
<blockquote class="warning">
<p><code>output.module</code> æ˜¯ä¸€ä¸ªå®éªŒæ€§çš„åŠŸèƒ½ï¼Œ æƒ³è¦ä½¿ç”¨çš„è¯ï¼Œé€šè¿‡è®¾ç½® <a href="/configuration/experiments/#experiments"><code>experiments.outputModule</code></a> ä¸º <code>true</code>.</p>
</blockquote>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    module<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h1 id="æ¨¡å—ï¼ˆModuleï¼‰">æ¨¡å—ï¼ˆModuleï¼‰<a href="#%E6%A8%A1%E5%9D%97%EF%BC%88Module%EF%BC%89" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>è¿™äº›é€‰é¡¹å†³å®šäº†å¦‚ä½•å¤„ç†é¡¹ç›®ä¸­çš„<a href="/concepts/modules">ä¸åŒç±»å‹çš„æ¨¡å—</a>ã€‚</p>
<h2 id="modulenoparse"><code>module.noParse</code> <a href="#modulenoparse" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>RegExp</code> <code>[RegExp]</code> <code>function(resource)</code> <code>string</code> <code>[string]</code></p>
<p>é˜²æ­¢ webpack è§£æé‚£äº›ä»»ä½•ä¸ç»™å®šæ­£åˆ™è¡¨è¾¾å¼ç›¸åŒ¹é…çš„æ–‡ä»¶ã€‚å¿½ç•¥çš„æ–‡ä»¶ä¸­ <strong>ä¸åº”è¯¥å«æœ‰</strong> <code>import</code>, <code>require</code>, <code>define</code> çš„è°ƒç”¨ï¼Œæˆ–ä»»ä½•å…¶ä»–å¯¼å…¥æœºåˆ¶ã€‚å¿½ç•¥å¤§å‹çš„ library å¯ä»¥æé«˜æ„å»ºæ€§èƒ½ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    noParse<span class="token punctuation">:</span> <span class="token regex">/jquery|lodash/</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    noParse<span class="token punctuation">:</span> <span class="token punctuation">(</span>content<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token regex">/jquery|lodash/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="moduleunsafecache"><code>module.unsafeCache</code> <a href="#moduleunsafecache" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code> <code>function (module)</code></p>
<p>Cache the resolution of module requests. There are couple of defaults for <code>module.unsafeCache</code>:</p>
<ul>
<li><code>false</code> if <a href="/configuration/other-options/#cache"><code>cache</code></a> is disabled.</li>
<li><code>true</code> if <a href="/configuration/other-options/#cache"><code>cache</code></a> is enabled and the module appears to come from node modules, <code>false</code> otherwise.</li>
</ul>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    unsafeCache<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p>The default value is <code>true</code> in webpack 4.</p>
</blockquote>
<h2 id="modulerules"><code>module.rules</code> <a href="#modulerules" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>[Rule]</code></p>
<p>åˆ›å»ºæ¨¡å—æ—¶ï¼ŒåŒ¹é…è¯·æ±‚çš„<a href="#rule">è§„åˆ™</a>æ•°ç»„ã€‚è¿™äº›è§„åˆ™èƒ½å¤Ÿä¿®æ”¹æ¨¡å—çš„åˆ›å»ºæ–¹å¼ã€‚
è¿™äº›è§„åˆ™èƒ½å¤Ÿå¯¹æ¨¡å—(module)åº”ç”¨ loaderï¼Œæˆ–è€…ä¿®æ”¹è§£æå™¨(parser)ã€‚</p>
<h2 id="rule">Rule <a href="#rule" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code></p>
<p>æ¯ä¸ªè§„åˆ™å¯ä»¥åˆ†ä¸ºä¸‰éƒ¨åˆ† - æ¡ä»¶(condition)ï¼Œç»“æœ(result)å’ŒåµŒå¥—è§„åˆ™(nested rule)ã€‚</p>
<h3 id="rule-conditions">Rule æ¡ä»¶ <a href="#rule-conditions" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>æ¡ä»¶æœ‰ä¸¤ç§è¾“å…¥å€¼ï¼š</p>
<ol>
<li>
<p>resourceï¼šèµ„æºæ–‡ä»¶çš„ç»å¯¹è·¯å¾„ã€‚å®ƒå·²ç»æ ¹æ® <a href="/configuration/resolve"><code>resolve</code> è§„åˆ™</a>è§£æã€‚</p>
</li>
<li>
<p>issuer: è¯·æ±‚è€…çš„æ–‡ä»¶ç»å¯¹è·¯å¾„ã€‚æ˜¯å¯¼å…¥æ—¶çš„ä½ç½®ã€‚</p>
</li>
</ol>
<p><strong>ä¾‹å¦‚:</strong> ä» <code>app.js</code> <code>å¯¼å…¥ './style.css'</code>ï¼Œresource æ˜¯ <code>/path/to/style.css</code>. issuer æ˜¯ <code>/path/to/app.js</code>ã€‚</p>
<p>åœ¨è§„åˆ™ä¸­ï¼Œå±æ€§ <a href="#rule-test"><code>test</code></a>, <a href="#rule-include"><code>include</code></a>, <a href="#rule-exclude"><code>exclude</code></a> å’Œ <a href="#rule-resource"><code>resource</code></a> å¯¹ resource åŒ¹é…ï¼Œå¹¶ä¸”å±æ€§ <a href="#rule-issuer"><code>issuer</code></a> å¯¹ issuer åŒ¹é…ã€‚</p>
<p>å½“ä½¿ç”¨å¤šä¸ªæ¡ä»¶æ—¶ï¼Œæ‰€æœ‰æ¡ä»¶éƒ½åŒ¹é…ã€‚</p>
<blockquote class="warning">
<p>å°å¿ƒï¼resource æ˜¯æ–‡ä»¶çš„ <em>è§£æ</em> è·¯å¾„ï¼Œè¿™æ„å‘³ç€ç¬¦å·é“¾æ¥çš„èµ„æºæ˜¯çœŸæ­£çš„è·¯å¾„ï¼Œ<em>è€Œä¸æ˜¯</em> ç¬¦å·é“¾æ¥ä½ç½®ã€‚
åœ¨ä½¿ç”¨å·¥å…·æ¥ç¬¦å·é“¾æ¥åŒ…çš„æ—¶å€™ï¼ˆå¦‚ <code>npm link</code>ï¼‰æ¯”è¾ƒå¥½è®°ï¼Œåƒ <code>/node_modules/</code> ç­‰å¸¸è§æ¡ä»¶å¯èƒ½ä¼šä¸å°å¿ƒé”™è¿‡ç¬¦å·é“¾æ¥çš„æ–‡ä»¶ã€‚
æ³¨æ„ï¼Œå¯ä»¥é€šè¿‡ <a href="/configuration/resolve#resolve-symlinks"><code>resolve.symlinks</code></a>
å…³é—­ç¬¦å·é“¾æ¥è§£æï¼ˆä»¥ä¾¿å°†èµ„æºè§£æä¸ºç¬¦å·é“¾æ¥è·¯å¾„ï¼‰ã€‚</p>
</blockquote>
<h3 id="rule-results">Rule ç»“æœ <a href="#rule-results" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>è§„åˆ™ç»“æœåªåœ¨è§„åˆ™æ¡ä»¶åŒ¹é…æ—¶ä½¿ç”¨ã€‚</p>
<p>è§„åˆ™æœ‰ä¸¤ç§è¾“å…¥å€¼ï¼š</p>
<ol>
<li>åº”ç”¨çš„ loaderï¼šåº”ç”¨åœ¨ resource ä¸Šçš„ loader æ•°ç»„ã€‚</li>
<li>Parser é€‰é¡¹ï¼šç”¨äºä¸ºæ¨¡å—åˆ›å»ºè§£æå™¨çš„é€‰é¡¹å¯¹è±¡ã€‚</li>
</ol>
<p>è¿™äº›å±æ€§ä¼šå½±å“ loaderï¼š<a href="#rule-loader"><code>loader</code></a>, <a href="#rule-options-rule-query"><code>options</code></a>, <a href="#rule-use"><code>use</code></a>ã€‚</p>
<p>ä¹Ÿå…¼å®¹è¿™äº›å±æ€§ï¼š<a href="#rule-options-rule-query"><code>query</code></a>, <a href="#rule-loaders"><code>loaders</code></a>ã€‚</p>
<p><a href="#rule-enforce"><code>enforce</code></a> å±æ€§ä¼šå½±å“ loader ç§ç±»ã€‚ä¸è®ºæ˜¯æ™®é€šçš„ï¼Œå‰ç½®çš„ï¼Œåç½®çš„ loaderã€‚</p>
<p><a href="#rule-parser"><code>parser</code></a> å±æ€§ä¼šå½±å“ parser é€‰é¡¹ã€‚</p>
<h2 id="nested-rules">åµŒå¥—çš„ Rule <a href="#nested-rules" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>å¯ä»¥ä½¿ç”¨å±æ€§ <a href="#rule-rules"><code>rules</code></a> å’Œ <a href="#rule-oneof"><code>oneOf</code></a> æŒ‡å®šåµŒå¥—è§„åˆ™ã€‚</p>
<p>è¿™äº›è§„åˆ™ç”¨äºåœ¨è§„åˆ™æ¡ä»¶(rule condition)åŒ¹é…æ—¶è¿›è¡Œå–å€¼ã€‚æ¯ä¸ªåµŒå¥—è§„åˆ™åŒ…å«å®ƒè‡ªå·±çš„æ¡ä»¶ã€‚</p>
<p>è¢«è§£æçš„é¡ºåºåŸºäºä»¥ä¸‹è§„åˆ™ï¼š</p>
<ol>
<li>çˆ¶è§„åˆ™</li>
<li><a href="#rulerules"><code>rules</code></a></li>
<li><a href="#ruleoneof"><code>oneOf</code></a></li>
</ol>
<h2 id="ruleenforce"><code>Rule.enforce</code> <a href="#ruleenforce" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>å¯èƒ½çš„å€¼æœ‰ï¼š<code>"pre" | "post"</code></p>
<p>æŒ‡å®š loader ç§ç±»ã€‚æ²¡æœ‰å€¼è¡¨ç¤ºæ˜¯æ™®é€š loaderã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªé¢å¤–çš„ç§ç±»"è¡Œå†… loader"ï¼Œloader è¢«åº”ç”¨åœ¨ import/require è¡Œå†…ã€‚</p>
<p>æ‰€æœ‰ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°è¿›å…¥çš„ loaderï¼Œéƒ½æœ‰ä¸¤ä¸ªé˜¶æ®µï¼š</p>
<ol>
<li><strong>Pitching</strong> é˜¶æ®µ: loader ä¸Šçš„ pitch æ–¹æ³•ï¼ŒæŒ‰ç…§ <code>åç½®(post)ã€è¡Œå†…(normal)ã€æ™®é€š(inline)ã€å‰ç½®(pre)</code> çš„é¡ºåºè°ƒç”¨ã€‚æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ <a href="/api/loaders/#pitching-loader">Pitching Loader</a>ã€‚</li>
<li><strong>Normal</strong> é˜¶æ®µ: loader ä¸Šçš„ å¸¸è§„æ–¹æ³•ï¼ŒæŒ‰ç…§ <code>å‰ç½®(pre)ã€è¡Œå†…(normal)ã€æ™®é€š(inline)ã€åç½®(post)</code> çš„é¡ºåºè°ƒç”¨ã€‚æ¨¡å—æºç çš„è½¬æ¢ï¼Œ
å‘ç”Ÿåœ¨è¿™ä¸ªé˜¶æ®µã€‚</li>
</ol>
<p>æ‰€æœ‰æ™®é€š loader å¯ä»¥é€šè¿‡åœ¨è¯·æ±‚ä¸­åŠ ä¸Š <code>!</code> å‰ç¼€æ¥å¿½ç•¥ï¼ˆè¦†ç›–ï¼‰ã€‚</p>
<p>æ‰€æœ‰æ™®é€šå’Œå‰ç½® loader å¯ä»¥é€šè¿‡åœ¨è¯·æ±‚ä¸­åŠ ä¸Š <code>-!</code> å‰ç¼€æ¥å¿½ç•¥ï¼ˆè¦†ç›–ï¼‰ã€‚</p>
<p>æ‰€æœ‰æ™®é€šï¼Œåç½®å’Œå‰ç½® loader å¯ä»¥é€šè¿‡åœ¨è¯·æ±‚ä¸­åŠ ä¸Š <code>!!</code> å‰ç¼€æ¥å¿½ç•¥ï¼ˆè¦†ç›–ï¼‰ã€‚</p>
<pre><code class="hljs language-javascript"><span class="token comment">// ç¦ç”¨æ™®é€š loaders</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> a <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'!./file1.js'</span><span class="token punctuation">;</span>

<span class="token comment">// ç¦ç”¨å‰ç½®å’Œæ™®é€š loaders</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> b <span class="token punctuation">}</span> <span class="token keyword">from</span>  <span class="token string">'-!./file2.js'</span><span class="token punctuation">;</span>

<span class="token comment">// ç¦ç”¨æ‰€æœ‰çš„ laoders</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> c <span class="token punctuation">}</span> <span class="token keyword">from</span>  <span class="token string">'!!./file3.js'</span><span class="token punctuation">;</span></code></pre>
<p>Inline loaders and <code>!</code> prefixes should not be used as they are non-standard. They may be use by loader generated code.</p>
<h2 id="ruleexclude"><code>Rule.exclude</code> <a href="#ruleexclude" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>æ’é™¤æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ¨¡å—ã€‚å¦‚æœä½ æä¾›äº† <code>Rule.exclude</code> é€‰é¡¹ï¼Œå°±ä¸èƒ½å†æä¾› <code>Rule.resource</code>ã€‚è¯¦ç»†è¯·æŸ¥çœ‹ <a href="#rule-resource"><code>Rule.resource</code></a> å’Œ <a href="#condition"><code>Condition.exclude</code></a>ã€‚</p>
<h2 id="ruleinclude"><code>Rule.include</code> <a href="#ruleinclude" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>å¼•å…¥ç¬¦åˆä»¥ä¸‹ä»»ä½•æ¡ä»¶çš„æ¨¡å—ã€‚å¦‚æœä½ æä¾›äº† <code>Rule.include</code> é€‰é¡¹ï¼Œå°±ä¸èƒ½å†æä¾› <code>Rule.resource</code>ã€‚è¯¦ç»†è¯·æŸ¥çœ‹ <a href="#rule-resource"><code>Rule.resource</code></a> å’Œ <a href="#condition"><code>Condition.include</code></a>ã€‚</p>
<h2 id="ruleissuer"><code>Rule.issuer</code> <a href="#ruleissuer" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>ä¸€ä¸ª<a href="#condition"><code>æ¡ä»¶</code></a>ï¼Œç”¨æ¥ä¸è¢«å‘å‡ºçš„ request å¯¹åº”çš„æ¨¡å—é¡¹åŒ¹é…ã€‚åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œ<code>a.js</code> request çš„<code>å‘å‡ºè€…(issuer)</code>
æ˜¯ index.js æ–‡ä»¶çš„è·¯å¾„ã€‚</p>
<p><strong>index.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">import</span> <span class="token constant">A</span> <span class="token keyword">from</span> <span class="token string">'./a.js'</span><span class="token punctuation">;</span></code></pre>
<p>è¿™ä¸ªé€‰é¡¹å¯ä»¥ç”¨æ¥å°† loader åº”ç”¨åˆ°ä¸€ä¸ªç‰¹å®šæ¨¡å—æˆ–ä¸€ç»„æ¨¡å—çš„ä¾èµ–ä¸­ã€‚</p>
<h2 id="ruleloader"><code>Rule.loader</code> <a href="#ruleloader" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>Rule.loader</code> æ˜¯ <code>Rule.use: [ { loader } ]</code> çš„ç®€å†™ã€‚è¯¦ç»†è¯·æŸ¥çœ‹ <a href="#rule-use"><code>Rule.use</code></a> å’Œ <a href="#useentry"><code>UseEntry.loader</code></a>ã€‚</p>
<h2 id="ruleloaders"><code>Rule.loaders</code> <a href="#ruleloaders" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<blockquote class="warning">
<p> ç”±äºéœ€è¦æ”¯æŒ <code>Rule.use</code>ï¼Œæ­¤é€‰é¡¹ <strong>å·²åºŸå¼ƒ</strong>ã€‚</p>
</blockquote>
<p><code>Rule.loaders</code> æ˜¯ <code>Rule.use</code> çš„åˆ«åã€‚è¯¦ç»†è¯·æŸ¥çœ‹ <a href="#rule-use"><code>Rule.use</code></a>ã€‚</p>
<h2 id="ruleoneof"><code>Rule.oneOf</code> <a href="#ruleoneof" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><a href="#rule"><code>è§„åˆ™</code></a>æ•°ç»„ï¼Œå½“è§„åˆ™åŒ¹é…æ—¶ï¼Œåªä½¿ç”¨ç¬¬ä¸€ä¸ªåŒ¹é…è§„åˆ™ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\\.css$/</span><span class="token punctuation">,</span>
        oneOf<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            resourceQuery<span class="token punctuation">:</span> <span class="token regex">/inline/</span><span class="token punctuation">,</span> <span class="token comment">// foo.css?inline</span>
            use<span class="token punctuation">:</span> <span class="token string">'url-loader'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            resourceQuery<span class="token punctuation">:</span> <span class="token regex">/external/</span><span class="token punctuation">,</span> <span class="token comment">// foo.css?external</span>
            use<span class="token punctuation">:</span> <span class="token string">'file-loader'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>è¯¦æƒ…è¯·å‚é˜… <a href="#nested-rules"><code>åµŒå¥—è§„åˆ™</code></a>ã€‚</p>
</blockquote>
<h2 id="ruleoptions--rulequery"><code>Rule.options</code> / <code>Rule.query</code> <a href="#ruleoptions--rulequery" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>Rule.options</code> å’Œ <code>Rule.query</code> æ˜¯ <code>Rule.use: [ { options } ]</code> çš„ç®€å†™ã€‚è¯¦ç»†è¯·æŸ¥çœ‹ <a href="#rule-use"><code>Rule.use</code></a>
å’Œ <a href="#useentry"><code>UseEntry.options</code></a>ã€‚</p>
<blockquote class="warning">
<p>ç”±äºéœ€è¦æ”¯æŒ <code>Rule.options</code> å’Œ <code>UseEntry.options</code>ï¼Œ<code>Rule.use</code>ï¼Œ<code>Rule.query</code> å·²åºŸå¼ƒã€‚</p>
</blockquote>
<h2 id="ruleparser"><code>Rule.parser</code> <a href="#ruleparser" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>è§£æé€‰é¡¹å¯¹è±¡ã€‚æ‰€æœ‰åº”ç”¨çš„è§£æé€‰é¡¹éƒ½å°†åˆå¹¶ã€‚</p>
<p>è§£æå™¨(parser)å¯ä»¥æŸ¥é˜…è¿™äº›é€‰é¡¹ï¼Œå¹¶ç›¸åº”åœ°ç¦ç”¨æˆ–é‡æ–°é…ç½®ã€‚å¤§å¤šæ•°é»˜è®¤æ’ä»¶ï¼Œ
ä¼šå¦‚ä¸‹è§£é‡Šå€¼ï¼š</p>
<ul>
<li>å°†é€‰é¡¹è®¾ç½®ä¸º <code>false</code>ï¼Œå°†ç¦ç”¨è§£æå™¨ã€‚</li>
<li>å°†é€‰é¡¹è®¾ç½®ä¸º <code>true</code>ï¼Œæˆ–ä¸ä¿®æ”¹å°†å…¶ä¿ç•™ä¸º <code>undefined</code>ï¼Œå¯ä»¥å¯ç”¨è§£æå™¨ã€‚</li>
</ul>
<p>ç„¶è€Œï¼Œä¸€äº›è§£æå™¨(parser)æ’ä»¶å¯èƒ½ä¸å…‰åªæ¥æ”¶ä¸€ä¸ªå¸ƒå°”å€¼ã€‚ä¾‹å¦‚ï¼Œå†…éƒ¨çš„ <code>NodeStuffPlugin</code> æ’ä»¶ï¼Œå¯ä»¥æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯ <code>true</code>ï¼Œ
æ¥ä¸ºç‰¹å®šçš„è§„åˆ™æ·»åŠ é¢å¤–çš„é€‰é¡¹ã€‚</p>
<p><strong>ç¤ºä¾‹</strong>ï¼ˆé»˜è®¤çš„æ’ä»¶è§£æå™¨é€‰é¡¹ï¼‰ï¼š</p>
<pre><code class="hljs language-js-with-links">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">//...</span>
        parser<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          amd<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// ç¦ç”¨ AMD</span>
          commonjs<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// ç¦ç”¨ CommonJS</span>
          system<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// ç¦ç”¨ SystemJS</span>
          harmony<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// ç¦ç”¨ ES2015 Harmony import/export</span>
          requireInclude<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// ç¦ç”¨ require.include</span>
          requireEnsure<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// ç¦ç”¨ require.ensure</span>
          requireContext<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// ç¦ç”¨ require.context</span>
          browserify<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// ç¦ç”¨ç‰¹æ®Šå¤„ç†çš„ browserify bundle</span>
          requireJs<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// ç¦ç”¨ requirejs.*</span>
          node<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// ç¦ç”¨ __dirname, __filename, module, require.extensions, require.main, ç­‰ã€‚</span>
          node<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span> <span class="token comment">// åœ¨æ¨¡å—çº§åˆ«(module level)ä¸Šé‡æ–°é…ç½® [node](/configuration/node) å±‚(layer)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>If <code>Rule.type</code> is an <code>asset</code> then <code>Rules.parser</code> option may be an object or a function that describes a condition whether to encode file contents to Base64 or emit it as a separate file into the output directory.</p>
<p>If <code>Rule.type</code> is an <code>asset</code> or <code>asset/inline</code> then <code>Rule.generator</code> option may be an object that describes the encoding of the module source or a function that encodes module's source by a custom algorithm.</p>
<p>See <a href="/guides/asset-modules/">Asset Modules guide</a> for additional information and use cases.</p>
<h2 id="ruleparserdataurlcondition"><code>Rule.parser.dataUrlCondition</code> <a href="#ruleparserdataurlcondition" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object = { maxSize number = 8096 }</code> <code>function (source, { filename, module }) => boolean</code></p>
<p>å¦‚æœä¸€ä¸ªæ¨¡å—æºç å¤§å°å°äº <code>maxSize</code>ï¼Œé‚£ä¹ˆæ¨¡å—ä¼šè¢«ä½œä¸ºä¸€ä¸ª Base64 ç¼–ç çš„å­—ç¬¦ä¸²æ³¨å…¥åˆ°åŒ…ä¸­ï¼Œ
å¦åˆ™æ¨¡å—æ–‡ä»¶ä¼šè¢«ç”Ÿæˆåˆ°è¾“å‡ºçš„ç›®æ ‡ç›®å½•ä¸­ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">//...</span>
        parser<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          dataUrlCondition<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            maxSize<span class="token punctuation">:</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token number">1024</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>å½“æä¾›å‡½æ•°æ—¶ï¼Œè¿”å› <code>true</code> å€¼æ—¶å‘ŠçŸ¥ webpack å°†æ¨¡å—ä½œä¸ºä¸€ä¸ª Base64 ç¼–ç çš„å­—ç¬¦ä¸²æ³¨å…¥åˆ°åŒ…ä¸­ï¼Œ
å¦åˆ™æ¨¡å—æ–‡ä»¶ä¼šè¢«ç”Ÿæˆåˆ°è¾“å‡ºçš„ç›®æ ‡ç›®å½•ä¸­ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">//...</span>
        parser<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          dataUrlCondition<span class="token punctuation">:</span> <span class="token punctuation">(</span>source<span class="token punctuation">,</span> <span class="token punctuation">{</span> filename<span class="token punctuation">,</span> module <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> content <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> content<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'some marker'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 id="rulegeneratordataurl"><code>Rule.generator.dataUrl</code> <a href="#rulegeneratordataurl" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object = { encoding string = 'base64' | false, mimetype string = undefined | false }</code> <code>function (content, { filename, module }) => string</code></p>
<p>å½“ <code>Rule.generator.dataUrl</code> è¢«ç”¨ä½œä¸€ä¸ªå¯¹è±¡ï¼Œä½ å¯ä»¥é…ç½®ä¸¤ä¸ªå±æ€§ï¼š</p>
<ul>
<li>encoding: å½“è¢«è®¾ç½®ä¸º<code>'base64'</code>ï¼Œæ¨¡å—æºç ä¼šç”¨ Baes64ç®—æ³• ç¼–ç ã€‚è®¾ç½® <code>encoding</code> ä¸º falseï¼Œä¼šç¦ç”¨ç¼–ç ã€‚</li>
<li>mimetype: ä¸ºæ•°æ®é“¾æ¥(data URI)è®¾ç½®çš„ä¸€ä¸ª mimetype å€¼ã€‚é»˜è®¤æ ¹æ®æ¨¡å—èµ„æºåç¼€è®¾ç½®ã€‚</li>
</ul>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">//...</span>
        generator<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          encoding<span class="token punctuation">:</span> <span class="token string">'base64'</span><span class="token punctuation">,</span>
          mimetype<span class="token punctuation">:</span> <span class="token string">'mimetype/png'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>å½“è¢«ä½œä¸ºä¸€ä¸ªå‡½æ•°ä½¿ç”¨ï¼Œå®ƒå¿…é¡»ä¸ºæ¯ä¸ªæ¨¡å—æ‰§è¡Œä¸”å¹¶é¡»è¿”å›ä¸€ä¸ªæ•°æ®é“¾æ¥(data URI)å­—ç¬¦ä¸²ã€‚</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">//...</span>
        generator<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          dataUrl<span class="token punctuation">:</span> content <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> svgToMiniDataURI <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-svg-data-uri'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> content <span class="token operator">!==</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              content <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token function">svgToMiniDataURI</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 id="rulegeneratorfilename"><code>Rule.generator.filename</code> <a href="#rulegeneratorfilename" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>å¯¹æŸäº›ç‰¹å®šçš„è§„åˆ™è€Œè¨€ä¸ <a href="/configuration/output/#outputassetmodulefilename"><code>output.assetModuleFilename</code></a> ç›¸åŒ. è¦†ç›–äº† <code>output.assetModuleFilename</code> é€‰é¡¹å¹¶ä¸”ä»…ä¸ <code>asset</code> å’Œ <code>asset/resource</code> æ¨¡å—ç±»å‹ä¸€åŒèµ·ä½œç”¨ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    assetModuleFilename<span class="token punctuation">:</span> <span class="token string">'images/[hash][ext]'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.png/</span><span class="token punctuation">,</span>
        type<span class="token punctuation">:</span> <span class="token string">'asset/resource'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.html/</span><span class="token punctuation">,</span>
        type<span class="token punctuation">:</span> <span class="token string">'asset/resource'</span><span class="token punctuation">,</span>
        generator<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          filename<span class="token punctuation">:</span> <span class="token string">'static/[hash][ext]'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 id="ruleresource"><code>Rule.resource</code> <a href="#ruleresource" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><a href="#%E6%9D%A1%E4%BB%B6"><code>æ¡ä»¶</code></a>ä¼šåŒ¹é… resourceã€‚åœ¨ <a href="#rule-conditions"><code>Rule</code> æ¡ä»¶</a> ä¸­æŸ¥é˜…è¯¦æƒ…ã€‚</p>
<h2 id="ruleresourcequery"><code>Rule.resourceQuery</code> <a href="#ruleresourcequery" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>A <a href="#condition"><code>Condition</code></a> matched with the resource query. This option is used to test against the query section of a request string (i.e. from the question mark onwards). If you were to <code>import Foo from './foo.css?inline'</code>, the following condition would match:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\\.css$/</span><span class="token punctuation">,</span>
        resourceQuery<span class="token punctuation">:</span> <span class="token regex">/inline/</span><span class="token punctuation">,</span>
        use<span class="token punctuation">:</span> <span class="token string">'url-loader'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="ruleparserparse"><code>Rule.parser.parse</code> <a href="#ruleparserparse" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>function(input) => string | object</code></p>
<p>å¦‚æœ <code>Rule.type</code> è¢«è®¾ç½®æˆ  <code>'json'</code>ï¼Œé‚£ä¹ˆ <code>Rules.parser.parse</code> é€‰æ‹©å¯èƒ½ä¼šæ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œè¯¥æ–¹æ³•å®ç°è‡ªå®šä¹‰çš„é€»è¾‘ï¼Œä»¥è§£ææ¨¡å—çš„æºå’Œå¹¶å°†å®ƒè½¬æ¢æˆ JavaScript <code>å¯¹è±¡</code>ã€‚
å®ƒå¯èƒ½åœ¨æ²¡æœ‰ç‰¹å®šåŠ è½½å™¨çš„æ—¶å€™ï¼Œå¯¹å°† <code>toml</code>, <code>yaml</code> å’Œå…¶å®ƒéJSONæ–‡ä»¶å¯¼å…¥æˆå¯¼å…¥éå¸¸æœ‰ç”¨ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">const</span> toml <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'toml'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.toml/</span><span class="token punctuation">,</span>
        type<span class="token punctuation">:</span> <span class="token string">'json'</span><span class="token punctuation">,</span>
        parser<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          parse<span class="token punctuation">:</span> toml<span class="token punctuation">.</span>parse
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="rulerules"><code>Rule.rules</code> <a href="#rulerules" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><a href="#rule"><code>è§„åˆ™</code></a>æ•°ç»„ï¼Œå½“è§„åˆ™åŒ¹é…æ—¶ä½¿ç”¨ã€‚</p>
<blockquote class="tip">
<p>è¯¦æƒ…å‚é˜… <a href="#nested-rules"><code>åµŒå¥—è§„åˆ™</code></a> ã€‚</p>
</blockquote>
<h2 id="rulesideeffects"><code>Rule.sideEffects</code> <a href="#rulesideeffects" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>bool</code></p>
<p>è¡¨æ˜æ¨¡å—çš„å“ªä¸€éƒ¨ä»½åŒ…å«å‰¯ä½œç”¨ã€‚è¯¦æƒ…å‚é˜… <a href="/guides/tree-shaking/#mark-the-file-as-side-effect-free">Tree Shaking</a>ã€‚</p>
<h2 id="ruletest"><code>Rule.test</code> <a href="#ruletest" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>å¼•å…¥æ‰€æœ‰é€šè¿‡æ–­è¨€æµ‹è¯•çš„æ¨¡å—ã€‚å¦‚æœä½ æä¾›äº†ä¸€ä¸ª <code>Rule.test</code> é€‰é¡¹ï¼Œå°±ä¸èƒ½å†æä¾› <code>Rule.resource</code>ã€‚è¯¦ç»†è¯·æŸ¥çœ‹ <a href="#rule-resource"><code>Rule.resource</code></a> å’Œ <a href="#condition"><code>Condition.test</code></a>ã€‚</p>
<h2 id="ruletype"><code>Rule.type</code> <a href="#ruletype" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>å¯è®¾ç½®å€¼: <code>'javascript/auto' | 'javascript/dynamic' | 'javascript/esm' | 'json' | 'webassembly/sync' | 'webassembly/async' | 'asset' | 'asset/source' | 'asset/resource' | 'asset/inline'</code></p>
<p><code>Rule.type</code> è®¾ç½®ç±»å‹ç”¨äºåŒ¹é…æ¨¡å—ã€‚å®ƒé˜²æ­¢äº† <code>defaultRules</code> å’Œå®ƒä»¬çš„é»˜è®¤å¯¼å…¥è¡Œä¸ºå‘ç”Ÿã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³
é€šè¿‡è‡ªå®šä¹‰ loader åŠ è½½ä¸€ä¸ª <code>.json</code> æ–‡ä»¶ï¼Œä½ ä¼šéœ€è¦å°† <code>type</code> è®¾ç½®ä¸º <code>javascript/auto</code> ä»¥ç»•è¿‡ webpack å†…ç½®çš„ json å¯¼å…¥ã€‚
ï¼ˆè¯¦å‚<a href="https://github.com/webpack/webpack/releases/tag/v4.0.0">v4.0 æ›´æ–°æ—¥å¿—</a>ï¼‰</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token comment">//...</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\\.json$/</span><span class="token punctuation">,</span>
        type<span class="token punctuation">:</span> <span class="token string">'javascript/auto'</span><span class="token punctuation">,</span>
        loader<span class="token punctuation">:</span> <span class="token string">'custom-json-loader'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote>
<p>å…³äº <code>asset*</code> ç±»å‹è¯¦å‚ <a href="/guides/asset-modules/">èµ„æºæ¨¡å—æŒ‡å—</a> ã€‚</p>
</blockquote>
<h2 id="ruleuse"><code>Rule.use</code> <a href="#ruleuse" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>[UseEntry]</code> <code>function(info)</code></p>
<p><strong><code>[UseEntry]</code></strong></p>
<p><code>Rule.use</code> å¯ä»¥æ˜¯ä¸€ä¸ªåº”ç”¨äºæ¨¡å—çš„ <a href="#useentry">UseEntries</a> æ•°ç»„ã€‚æ¯ä¸ªå…¥å£(entry)æŒ‡å®šä½¿ç”¨ä¸€ä¸ª loaderã€‚</p>
<p>ä¼ é€’å­—ç¬¦ä¸²ï¼ˆå¦‚ï¼š<code>use: [ 'style-loader' ]</code>ï¼‰æ˜¯ loader å±æ€§çš„ç®€å†™æ–¹å¼ï¼ˆå¦‚ï¼š<code>use: [ { loader: 'style-loader'} ]</code>ï¼‰ã€‚</p>
<p>Loaders å¯ä»¥é€šè¿‡ä¼ å…¥å¤šä¸ª loaders ä»¥è¾¾åˆ°é“¾å¼è°ƒç”¨çš„æ•ˆæœï¼Œå®ƒä»¬ä¼šä»å³åˆ°å·¦è¢«åº”ç”¨ï¼ˆä»æœ€ååˆ°æœ€å…ˆé…ç½®ï¼‰ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">//...</span>
        use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token string">'style-loader'</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token punctuation">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
            options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
              importLoaders<span class="token punctuation">:</span> <span class="token number">1</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token punctuation">:</span> <span class="token string">'less-loader'</span><span class="token punctuation">,</span>
            options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
              noIeCompat<span class="token punctuation">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p><strong><code>function(info)</code></strong></p>
<p><code>Rule.use</code> ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—å¯¹è±¡å‚æ•°ï¼Œæè¿°è¢«åŠ è½½çš„æ¨¡å—ï¼Œè€Œä¸”å¿…é¡»
è¿”å› <code>UseEntry</code> å…ƒç´ çš„æ•°ç»„ã€‚</p>
<p><code>info</code> å¯¹è±¡å‚æ•°æœ‰ä»¥ä¸‹çš„å­—æ®µï¼š</p>
<ul>
<li><code>compiler</code>: å½“å‰ webpack çš„ç¼–è¯‘å™¨ï¼ˆå¯ä»¥æ˜¯ undefined å€¼ï¼‰</li>
<li><code>issuer</code>: æ¨¡å—çš„è·¯å¾„ï¼Œè¯¥å…ƒç´ æ­£åœ¨å¯¼å…¥ä¸€ä¸ªè¢«åŠ è½½çš„æ¨¡å—(resource)</li>
<li><code>realResource</code>: æ€»ä¼šæ˜¯è¢«åŠ è½½æ¨¡å—çš„è·¯å¾„</li>
<li><code>resource</code>: è¢«åŠ è½½çš„æ¨¡å—è·¯å¾„ï¼Œå®ƒå¸¸å¸¸ä¸ <code>realResource</code> ç›¸ç­‰ï¼Œåªæœ‰å½“èµ„æºåç§°è¢« request å­—ç¬¦ä¸²ä¸­çš„ <code>!=!</code> è¦†ç›–æ—¶æ‰ä¸ç›¸ç­‰</li>
</ul>
<p>ç›¸åŒçš„ä½œä¸ºæ•°ç»„çš„å¿«æ·æ–¹å¼å¯ä»¥ç”¨ä½œè¿”å›å€¼ï¼ˆå¦‚ <code>use: [ 'style-loader' ]</code>ï¼‰ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        use<span class="token punctuation">:</span> <span class="token punctuation">(</span>info<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token punctuation">:</span> <span class="token string">'custom-svg-loader'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token punctuation">:</span> <span class="token string">'svgo-loader'</span><span class="token punctuation">,</span>
            options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
              plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                cleanupIDs<span class="token punctuation">:</span> <span class="token punctuation">{</span> prefix<span class="token punctuation">:</span> <span class="token function">basename</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>resource<span class="token punctuation">)</span> <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å‚å‚ <a href="#useentry">UseEntry</a>ã€‚</p>
<h2 id="ruleresolve"><code>Rule.resolve</code> <a href="#ruleresolve" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<blockquote class="warning">
<p><code>Rule.resolve</code> ä» webpack 4.36.1 èµ·å¯ç”¨</p>
</blockquote>
<p>æ¨¡å—è§£æå¯ä»¥åœ¨æ¨¡å—å±‚è¢«é…ç½®ã€‚<a href="/configuration/resolve/#resolve">resolve é…ç½®é¡µé¢</a>å¯æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„é…ç½®ã€‚
æ‰€æœ‰è¢«åº”ç”¨çš„ resolve é€‰é¡¹è¢«æ›´é«˜å±‚çº§çš„<a href="/configuration/resolve/#resolve">resolve</a>é…ç½®åˆå¹¶ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå…¥å£æ–‡ä»¶åœ¨ <code>./src/index.js</code>, <code>./src/footer/default.js</code> å’Œä¸€ä¸ª  <code>./src/footer/overridden.js</code>ï¼Œ
ç”¨ä»¥è®ºè¯æ¨¡å—å±‚çº§çš„è§£æã€‚</p>
<p><strong>./src/index.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">import</span> footer <span class="token keyword">from</span> <span class="token string">'footer'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>footer<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><strong>./src/footer/default.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token string">'default footer'</span><span class="token punctuation">;</span></code></pre>
<p><strong>./src/footer/overridden.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token string">'overridden footer'</span><span class="token punctuation">;</span></code></pre>
<p><strong>webpack.js.org</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    alias<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">'footer'</span><span class="token punctuation">:</span> <span class="token string">'./footer/default.js'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å½“ç”¨è¯¥é…ç½®åˆ›å»ºä¸€ä¸ªåŒ…ï¼Œ<code>console.log(footer)</code> ä¼šè¾“å‡º 'default footer'ã€‚è®©æˆ‘ä»¬ä¸º <code>.js</code> æ–‡ä»¶è®¾ç½® <code>Rule.resolve</code>ï¼Œä»¥åŠ
<code>footer</code> ä½œä¸º <code>overridden.js</code> çš„åˆ«åã€‚</p>
<p><strong>webpack.js.org</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    alias<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">'footer'</span><span class="token punctuation">:</span> <span class="token string">'./footer/default.js'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          alias<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'footer'</span><span class="token punctuation">:</span> <span class="token string">'./footer/overridden.js'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å½“ç”¨è¯¥é…ç½®åˆ›å»ºä¸€ä¸ªåŒ…ï¼Œ<code>console.log(footer)</code> ä¼šè¾“å‡º 'overridden footer'ã€‚</p>
<h2 id="condition"><code>æ¡ä»¶</code> <a href="#condition" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>æ¡ä»¶å¯ä»¥æ˜¯è¿™äº›ä¹‹ä¸€ï¼š</p>
<ul>
<li>å­—ç¬¦ä¸²ï¼šåŒ¹é…è¾“å…¥å¿…é¡»ä»¥æä¾›çš„å­—ç¬¦ä¸²å¼€å§‹ã€‚æ˜¯çš„ã€‚ç›®å½•ç»å¯¹è·¯å¾„æˆ–æ–‡ä»¶ç»å¯¹è·¯å¾„ã€‚</li>
<li>æ­£åˆ™è¡¨è¾¾å¼ï¼štest è¾“å…¥å€¼ã€‚</li>
<li>å‡½æ•°ï¼šè°ƒç”¨è¾“å…¥çš„å‡½æ•°ï¼Œå¿…é¡»è¿”å›ä¸€ä¸ªçœŸå€¼(truthy value)ä»¥åŒ¹é…ã€‚</li>
<li>æ¡ä»¶æ•°ç»„ï¼šè‡³å°‘ä¸€ä¸ªåŒ¹é…æ¡ä»¶ã€‚</li>
<li>å¯¹è±¡ï¼šåŒ¹é…æ‰€æœ‰å±æ€§ã€‚æ¯ä¸ªå±æ€§éƒ½æœ‰ä¸€ä¸ªå®šä¹‰è¡Œä¸ºã€‚</li>
</ul>
<p><code>{ and: [Condition] }</code>ï¼šå¿…é¡»åŒ¹é…æ•°ç»„ä¸­çš„æ‰€æœ‰æ¡ä»¶</p>
<p><code>{ or: [Condition] }</code>ï¼šåŒ¹é…æ•°ç»„ä¸­ä»»ä½•ä¸€ä¸ªæ¡ä»¶</p>
<p><code>{ not: [Condition] }</code>ï¼šå¿…é¡»æ’é™¤è¿™ä¸ªæ¡ä»¶</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\\.css$/</span><span class="token punctuation">,</span>
        include<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'app/styles'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'vendor/styles'</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="useentry"><code>UseEntry</code> <a href="#useentry" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code> <code>function(info)</code></p>
<p><strong><code>object</code></strong></p>
<p>å¿…é¡»æœ‰ä¸€ä¸ª <code>loader</code> å±æ€§æ˜¯å­—ç¬¦ä¸²ã€‚å®ƒä½¿ç”¨ loader è§£æé€‰é¡¹ï¼ˆ<a href="/configuration/resolve#resolveloader">resolveLoader</a>ï¼‰ï¼Œç›¸å¯¹äºé…ç½®ä¸­çš„ <a href="/configuration/entry-context#context"><code>context</code></a> æ¥è§£æã€‚</p>
<p>å¯ä»¥æœ‰ä¸€ä¸ª <code>options</code> å±æ€§ä¸ºå­—ç¬¦ä¸²æˆ–å¯¹è±¡ã€‚å€¼å¯ä»¥ä¼ é€’åˆ° loader ä¸­ï¼Œå°†å…¶ç†è§£ä¸º loader é€‰é¡¹ã€‚</p>
<p>ç”±äºå…¼å®¹æ€§åŸå› ï¼Œä¹Ÿå¯èƒ½æœ‰ <code>query</code> å±æ€§ï¼Œå®ƒæ˜¯ <code>options</code> å±æ€§çš„åˆ«åã€‚ä½¿ç”¨ <code>options</code> å±æ€§æ›¿ä»£ã€‚</p>
<p>æ³¨æ„ï¼Œwebpack éœ€è¦ç”Ÿæˆèµ„æºå’Œæ‰€æœ‰ loader çš„ç‹¬ç«‹æ¨¡å—æ ‡è¯†ï¼ŒåŒ…æ‹¬é€‰é¡¹ã€‚
å®ƒå°è¯•å¯¹é€‰é¡¹å¯¹è±¡ä½¿ç”¨ <code>JSON.stringify</code>ã€‚è¿™åœ¨ 99.9% çš„æƒ…å†µä¸‹æ˜¯å¯ä»¥çš„ï¼Œ
ä½†æ˜¯å¦‚æœå°†ç›¸åŒçš„ loader åº”ç”¨äºç›¸åŒèµ„æºçš„ä¸åŒé€‰é¡¹ï¼Œå¹¶ä¸”é€‰é¡¹å…·æœ‰ä¸€äº›å¸¦å­—ç¬¦çš„å€¼ï¼Œåˆ™å¯èƒ½ä¸æ˜¯å”¯ä¸€çš„ã€‚</p>
<p>å¦‚æœé€‰é¡¹å¯¹è±¡ä¸è¢«å­—ç¬¦åŒ–ï¼ˆä¾‹å¦‚å¾ªç¯ JSONï¼‰ï¼Œå®ƒä¹Ÿä¼šä¸­æ–­ã€‚å› æ­¤ï¼Œä½ å¯ä»¥åœ¨é€‰é¡¹å¯¹è±¡ä½¿ç”¨ <code>ident</code> å±æ€§ï¼Œ
ä½œä¸ºå”¯ä¸€æ ‡è¯†ç¬¦ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        loader<span class="token punctuation">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
        options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          modules<span class="token punctuation">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p><strong><code>function(info)</code></strong></p>
<p><code>UseEntry</code> ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—å¯¹è±¡å‚æ•°ï¼Œæè¿°è¢«åŠ è½½çš„æ¨¡å—ï¼Œè€Œä¸”å¿…é¡»è¿”å›ä¸€ä¸ªå‚æ•°å¯¹è±¡ã€‚
è¿™å¯ç”¨äºæŒ‰æ¨¡å—æ›´æ”¹ loader é€‰é¡¹ã€‚</p>
<p><code>info</code> å¯¹è±¡å‚æ•°æœ‰ä»¥ä¸‹çš„å­—æ®µï¼š</p>
<ul>
<li><code>compiler</code>: å½“å‰ webpack çš„ç¼–è¯‘å™¨ï¼ˆå¯ä»¥æ˜¯ undefined å€¼ï¼‰</li>
<li><code>issuer</code>: æ¨¡å—çš„è·¯å¾„ï¼Œè¯¥å…ƒç´ æ­£åœ¨å¯¼å…¥ä¸€ä¸ªè¢«åŠ è½½çš„æ¨¡å—(resource)</li>
<li><code>realResource</code>: æ€»ä¼šæ˜¯è¢«åŠ è½½æ¨¡å—çš„è·¯å¾„</li>
<li><code>resource</code>: è¢«åŠ è½½çš„æ¨¡å—è·¯å¾„ï¼Œå®ƒå¸¸å¸¸ä¸ <code>realResource</code> ç›¸ç­‰ï¼Œåªæœ‰å½“èµ„æºåç§°è¢« request å­—ç¬¦ä¸²ä¸­çš„ <code>!=!</code> è¦†ç›–æ—¶æ‰ä¸ç›¸ç­‰</li>
</ul>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        loader<span class="token punctuation">:</span> <span class="token string">'file-loader'</span><span class="token punctuation">,</span>
        options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          outputPath<span class="token punctuation">:</span> <span class="token string">'svgs'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span>info<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        loader<span class="token punctuation">:</span> <span class="token string">'svgo-loader'</span><span class="token punctuation">,</span>
        options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            cleanupIDs<span class="token punctuation">:</span> <span class="token punctuation">{</span> prefix<span class="token punctuation">:</span> <span class="token function">basename</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>resource<span class="token punctuation">)</span> <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="module-contexts">æ¨¡å—ä¸Šä¸‹æ–‡(Module Contexts) <a href="#module-contexts" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<blockquote>
<p>é¿å…ä½¿ç”¨è¿™äº›é€‰é¡¹ï¼Œå› ä¸ºå®ƒä»¬ <strong>å·²åºŸå¼ƒ</strong>ï¼Œå¹¶å°†å¾ˆå¿«åˆ é™¤ã€‚</p>
</blockquote>
<p>è¿™äº›é€‰é¡¹æè¿°äº†å½“é‡åˆ°åŠ¨æ€ä¾èµ–æ—¶ï¼Œåˆ›å»ºä¸Šä¸‹æ–‡çš„é»˜è®¤è®¾ç½®ã€‚</p>
<p>ä¾‹å¦‚ï¼Œ<code>æœªçŸ¥çš„(unknown)</code> åŠ¨æ€ä¾èµ–ï¼š<code>require</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œ<code>è¡¨è¾¾å¼(expr)</code> åŠ¨æ€ä¾èµ–ï¼š<code>require(expr)</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œ<code>åŒ…è£¹çš„(wrapped)</code> åŠ¨æ€ä¾èµ–ï¼š<code>require('./templates/' + expr)</code>ã€‚</p>
<p>ä»¥ä¸‹æ˜¯å…¶<a href="https://github.com/webpack/webpack/blob/master/lib/WebpackOptionsDefaulter.js">é»˜è®¤å€¼</a>çš„å¯ç”¨é€‰é¡¹</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    exprContextCritical<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    exprContextRecursive<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    exprContextRegExp<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    exprContextRequest<span class="token punctuation">:</span> <span class="token string">'.'</span><span class="token punctuation">,</span>
    unknownContextCritical<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    unknownContextRecursive<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    unknownContextRegExp<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    unknownContextRequest<span class="token punctuation">:</span> <span class="token string">'.'</span><span class="token punctuation">,</span>
    wrappedContextCritical<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    wrappedContextRecursive<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    wrappedContextRegExp<span class="token punctuation">:</span> <span class="token regex">/.*/</span><span class="token punctuation">,</span>
    strictExportPresence<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token comment">// since webpack 2.3.0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>ä½ å¯ä»¥ä½¿ç”¨ <code>ContextReplacementPlugin</code> æ¥ä¿®æ”¹è¿™äº›å•ä¸ªä¾èµ–çš„å€¼ã€‚è¿™ä¹Ÿä¼šåˆ é™¤è­¦å‘Šã€‚</p>
</blockquote>
<p>å‡ ä¸ªç”¨ä¾‹ï¼š</p>
<ul>
<li>åŠ¨æ€ä¾èµ–çš„è­¦å‘Šï¼š<code>wrappedContextCritical: true</code>ã€‚</li>
<li><code>require(expr)</code> åº”è¯¥åŒ…å«æ•´ä¸ªç›®å½•ï¼š<code>exprContextRegExp: /^\.\//</code></li>
<li><code>require("./templates/" + expr)</code> ä¸åº”è¯¥åŒ…å«é»˜è®¤å­ç›®å½•ï¼š<code>wrappedContextRecursive: false</code></li>
<li><code>strictExportPresence</code> å°†ç¼ºå¤±çš„å¯¼å‡ºæç¤ºæˆé”™è¯¯è€Œä¸æ˜¯è­¦å‘Š</li>
</ul>
<h1 id="è§£æResolve">è§£æ(Resolve)<a href="#%E8%A7%A3%E6%9E%90Resolve" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>è¿™äº›é€‰é¡¹èƒ½è®¾ç½®æ¨¡å—å¦‚ä½•è¢«è§£æã€‚webpack æä¾›åˆç†çš„é»˜è®¤å€¼ï¼Œä½†æ˜¯è¿˜æ˜¯å¯èƒ½ä¼šä¿®æ”¹ä¸€äº›è§£æçš„ç»†èŠ‚ã€‚
å…³äº resolver å…·ä½“å¦‚ä½•å·¥ä½œçš„æ›´å¤šè§£é‡Šè¯´æ˜ï¼Œè¯·æŸ¥çœ‹<a href="/concepts/module-resolution">æ¨¡å—è§£æ</a>ã€‚</p>
<h2 id="resolve"><code>resolve</code> <a href="#resolve" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code></p>
<p>é…ç½®æ¨¡å—å¦‚ä½•è§£æã€‚ä¾‹å¦‚ï¼Œå½“åœ¨ ES2015 ä¸­è°ƒç”¨ <code>import 'lodash'</code>ï¼Œ<code>resolve</code> é€‰é¡¹èƒ½å¤Ÿå¯¹ webpack æŸ¥æ‰¾ <code>'lodash'</code> çš„æ–¹å¼å»åšä¿®æ”¹ï¼ˆæŸ¥çœ‹<a href="#resolve-modules"><code>æ¨¡å—</code></a>ï¼‰ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// configuration options</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="resolvealias"><code>resolve.alias</code> <a href="#resolvealias" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>object</code></p>
<p>åˆ›å»º <code>import</code> æˆ– <code>require</code> çš„åˆ«åï¼Œæ¥ç¡®ä¿æ¨¡å—å¼•å…¥å˜å¾—æ›´ç®€å•ã€‚ä¾‹å¦‚ï¼Œä¸€äº›ä½äº <code>src/</code> æ–‡ä»¶å¤¹ä¸‹çš„å¸¸ç”¨æ¨¡å—ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    alias<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      Utilities<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/utilities/'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      Templates<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/templates/'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>ç°åœ¨ï¼Œæ›¿æ¢â€œåœ¨å¯¼å…¥æ—¶ä½¿ç”¨ç›¸å¯¹è·¯å¾„â€è¿™ç§æ–¹å¼ï¼Œå°±åƒè¿™æ ·ï¼š</p>
<pre><code class="hljs language-js"><span class="token keyword">import</span> Utility <span class="token keyword">from</span> <span class="token string">'../../utilities/utility'</span><span class="token punctuation">;</span></code></pre>
<p>ä½ å¯ä»¥è¿™æ ·ä½¿ç”¨åˆ«åï¼š</p>
<pre><code class="hljs language-js"><span class="token keyword">import</span> Utility <span class="token keyword">from</span> <span class="token string">'Utilities/utility'</span><span class="token punctuation">;</span></code></pre>
<p>ä¹Ÿå¯ä»¥åœ¨ç»™å®šå¯¹è±¡çš„é”®åçš„æœ«å°¾æ·»åŠ  <code>$</code>ï¼Œä»¥è¡¨ç¤ºç²¾å‡†åŒ¹é…ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    alias<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      xyz$<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'path/to/file.js'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>è¿™å°†äº§ç”Ÿä»¥ä¸‹ç»“æœï¼š</p>
<pre><code class="hljs language-js"><span class="token keyword">import</span> Test1 <span class="token keyword">from</span> <span class="token string">'xyz'</span><span class="token punctuation">;</span> <span class="token comment">// ç²¾ç¡®åŒ¹é…ï¼Œæ‰€ä»¥ path/to/file.js è¢«è§£æå’Œå¯¼å…¥</span>
<span class="token keyword">import</span> Test2 <span class="token keyword">from</span> <span class="token string">'xyz/file.js'</span><span class="token punctuation">;</span> <span class="token comment">// éç²¾ç¡®åŒ¹é…ï¼Œè§¦å‘æ™®é€šè§£æ</span></code></pre>
<p>ä¸‹é¢çš„è¡¨æ ¼å±•ç¤ºäº†ä¸€äº›å…¶ä»–æƒ…å†µï¼š</p>
<table>
<thead>
<tr>
<th><code>alias:</code></th>
<th><code>import 'xyz'</code></th>
<th><code>import 'xyz/file.js'</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{}</code><p class="description mobile"><code>/abc/node_modules/xyz/index.js</code></p></p></div></td>
<td class="description desktop"><code>/abc/node_modules/xyz/index.js</code></td>
<td><code>/abc/node_modules/xyz/file.js</code></td>
</tr>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{ xyz: '/abc/path/to/file.js' }</code><p class="description mobile"><code>/abc/path/to/file.js</code></p></p></div></td>
<td class="description desktop"><code>/abc/path/to/file.js</code></td>
<td>error</td>
</tr>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{ xyz$: '/abc/path/to/file.js' }</code><p class="description mobile"><code>/abc/path/to/file.js</code></p></p></div></td>
<td class="description desktop"><code>/abc/path/to/file.js</code></td>
<td><code>/abc/node_modules/xyz/file.js</code></td>
</tr>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{ xyz: './dir/file.js' }</code><p class="description mobile"><code>/abc/dir/file.js</code></p></p></div></td>
<td class="description desktop"><code>/abc/dir/file.js</code></td>
<td>error</td>
</tr>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{ xyz$: './dir/file.js' }</code><p class="description mobile"><code>/abc/dir/file.js</code></p></p></div></td>
<td class="description desktop"><code>/abc/dir/file.js</code></td>
<td><code>/abc/node_modules/xyz/file.js</code></td>
</tr>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{ xyz: '/some/dir' }</code><p class="description mobile"><code>/some/dir/index.js</code></p></p></div></td>
<td class="description desktop"><code>/some/dir/index.js</code></td>
<td><code>/some/dir/file.js</code></td>
</tr>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{ xyz$: '/some/dir' }</code><p class="description mobile"><code>/some/dir/index.js</code></p></p></div></td>
<td class="description desktop"><code>/some/dir/index.js</code></td>
<td><code>/abc/node_modules/xyz/file.js</code></td>
</tr>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{ xyz: './dir' }</code><p class="description mobile"><code>/abc/dir/index.js</code></p></p></div></td>
<td class="description desktop"><code>/abc/dir/index.js</code></td>
<td><code>/abc/dir/file.js</code></td>
</tr>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{ xyz: 'modu' }</code><p class="description mobile"><code>/abc/node_modules/modu/index.js</code></p></p></div></td>
<td class="description desktop"><code>/abc/node_modules/modu/index.js</code></td>
<td><code>/abc/node_modules/modu/file.js</code></td>
</tr>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{ xyz$: 'modu' }</code><p class="description mobile"><code>/abc/node_modules/modu/index.js</code></p></p></div></td>
<td class="description desktop"><code>/abc/node_modules/modu/index.js</code></td>
<td><code>/abc/node_modules/xyz/file.js</code></td>
</tr>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{ xyz: 'modu/some/file.js' }</code><p class="description mobile"><code>/abc/node_modules/modu/some/file.js</code></p></p></div></td>
<td class="description desktop"><code>/abc/node_modules/modu/some/file.js</code></td>
<td>error</td>
</tr>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{ xyz: 'modu/dir' }</code><p class="description mobile"><code>/abc/node_modules/modu/dir/index.js</code></p></p></div></td>
<td class="description desktop"><code>/abc/node_modules/modu/dir/index.js</code></td>
<td><code>/abc/node_modules/modu/dir/file.js</code></td>
</tr>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{ xyz$: 'modu/dir' }</code><p class="description mobile"><code>/abc/node_modules/modu/dir/index.js</code></p></p></div></td>
<td class="description desktop"><code>/abc/node_modules/modu/dir/index.js</code></td>
<td><code>/abc/node_modules/xyz/file.js</code></td>
</tr>
</tbody>
</table>
<p>å¦‚æœåœ¨ <code>package.json</code> ä¸­å®šä¹‰ï¼Œ<code>index.js</code> å¯èƒ½ä¼šè¢«è§£æä¸ºå¦ä¸€ä¸ªæ–‡ä»¶ã€‚</p>
<p><code>/abc/node_modules</code> ä¹Ÿå¯èƒ½åœ¨ <code>/node_modules</code> ä¸­è§£æã€‚</p>
<blockquote class="warning">
<p><code>resolve.alias</code> ä¼˜å…ˆçº§é«˜äºå…¶å®ƒæ¨¡å—è§£ææ–¹å¼ã€‚</p>
</blockquote>
<blockquote class="warning">
<p><a href="https://github.com/webpack-contrib/null-loader"><code>null-loader</code></a> åœ¨webpack5ä¸­è¢«åºŸå¼ƒã€‚ä½¿ç”¨ <code>alias: { xyz$: false }</code> æˆ–ç»å¯¹è·¯å¾„ <code>alias: {[path.resolve(__dirname, './path/to/module')]: false }</code></p>
</blockquote>
<blockquote class="warning">
<p><code>[string]</code> å­—ç¬¦ä¸²å€¼åœ¨ webapck 5 ä¸­è¢«æ”¯æŒã€‚</p>
</blockquote>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    alias<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      _<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/utilities/'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/templates/'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å°† <code>resolve.alias</code> è®¾ç½®ä¸º <code>false</code> å°†å‘ŠçŸ¥ webpack å¿½ç•¥æ¨¡å—ã€‚</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    alias<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">'ignored-module'</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token string">'./ignored-module'</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="resolvealiasfields"><code>resolve.aliasFields</code> <a href="#resolvealiasfields" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>[string]: ['browser']</code></p>
<p>æŒ‡å®šä¸€ä¸ªå­—æ®µï¼Œä¾‹å¦‚ <code>browser</code>ï¼Œæ ¹æ®
<a href="https://github.com/defunctzombie/package-browser-field-spec">æ­¤è§„èŒƒ</a>è¿›è¡Œè§£æã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    aliasFields<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'browser'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="resolvecachewithcontext"><code>resolve.cacheWithContext</code> <a href="#resolvecachewithcontext" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean</code> (ä» webpack 3.1.0èµ·æ”¯æŒ)</p>
<p>å¦‚æœå¯ç”¨äº†ä¸å®‰å…¨ç¼“å­˜ï¼Œè¯·åœ¨ç¼“å­˜é”®(cache key)ä¸­å¼•å…¥ <code>request.context</code>ã€‚è¿™ä¸ªé€‰é¡¹è¢« <a href="https://github.com/webpack/enhanced-resolve/"><code>enhanced-resolve</code></a> æ¨¡å—è€ƒè™‘åœ¨å†…ã€‚ä» webpack 3.1.0 å¼€å§‹ï¼Œåœ¨é…ç½®äº† resolve æˆ– resolveLoader æ’ä»¶æ—¶ï¼Œè§£æç¼“å­˜(resolve caching)ä¸­çš„ä¸Šä¸‹æ–‡(context)ä¼šè¢«å¿½ç•¥ã€‚
è¿™è§£å†³äº†æ€§èƒ½è¡°é€€çš„é—®é¢˜ã€‚</p>
<h3 id="resolvedescriptionfiles"><code>resolve.descriptionFiles</code> <a href="#resolvedescriptionfiles" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>[string] = ['package.json']</code></p>
<p>ç”¨äºæè¿°çš„ JSON æ–‡ä»¶ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    descriptionFiles<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'package.json'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="resolveenforceextension"><code>resolve.enforceExtension</code> <a href="#resolveenforceextension" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = false</code></p>
<p>å¦‚æœæ˜¯ <code>true</code>ï¼Œå°†ä¸å…è®¸æ— æ‰©å±•åæ–‡ä»¶ã€‚é»˜è®¤å¦‚æœ <code>./foo</code> æœ‰ <code>.js</code> æ‰©å±•ï¼Œ<code>require('./foo')</code> å¯ä»¥æ­£å¸¸è¿è¡Œã€‚ä½†å¦‚æœå¯ç”¨æ­¤é€‰é¡¹ï¼Œåªæœ‰ <code>require('./foo.js')</code>
èƒ½å¤Ÿæ­£å¸¸å·¥ä½œã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    enforceExtension<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="resolveenforcemoduleextension"><code>resolve.enforceModuleExtension</code> <a href="#resolveenforcemoduleextension" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = false</code></p>
<blockquote class="warning">
<p>åœ¨ webpack 5 ä¸­è¢«åºŸå¼ƒ</p>
</blockquote>
<p>å‘ŠçŸ¥ webpack æ˜¯å¦è¦æ±‚æ¨¡å—ä½¿ç”¨åç¼€ï¼ˆä¾‹å¦‚åŠ è½½å™¨ loadersï¼‰ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    enforceModuleExtension<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="resolveextensions"><code>resolve.extensions</code> <a href="#resolveextensions" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>[string] = ['.wasm', '.mjs', '.js', '.json']</code></p>
<p>å°è¯•æŒ‰é¡ºåºè§£æè¿™äº›åç¼€åã€‚</p>
<blockquote class="warning">
<p>å¦‚æœæœ‰å¤šä¸ªæ–‡ä»¶æœ‰ç›¸åŒçš„åå­—ï¼Œä½†åç¼€åä¸åŒï¼Œwebpack ä¼šè§£æåˆ—åœ¨æ•°ç»„é¦–ä½çš„åç¼€çš„æ–‡ä»¶
å¹¶è·³è¿‡å…¶ä½™çš„åç¼€ã€‚</p>
</blockquote>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    extensions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'.wasm'</span><span class="token punctuation">,</span> <span class="token string">'.mjs'</span><span class="token punctuation">,</span> <span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.json'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>èƒ½å¤Ÿä½¿ç”¨æˆ·åœ¨å¼•å…¥æ¨¡å—æ—¶ä¸å¸¦æ‰©å±•ï¼š</p>
<pre><code class="hljs language-js"><span class="token keyword">import</span> File <span class="token keyword">from</span> <span class="token string">'../path/to/file'</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p>ä½¿ç”¨æ­¤é€‰é¡¹ä¼š <strong>è¦†ç›–é»˜è®¤æ•°ç»„</strong>ï¼Œè¿™å°±æ„å‘³ç€ webpack å°†ä¸å†å°è¯•ä½¿ç”¨é»˜è®¤æ‰©å±•æ¥è§£ææ¨¡å—ã€‚</p>
</blockquote>
<h3 id="resolvemainfields"><code>resolve.mainFields</code> <a href="#resolvemainfields" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>[string]</code></p>
<p>å½“ä» npm åŒ…ä¸­å¯¼å…¥æ¨¡å—æ—¶ï¼ˆä¾‹å¦‚ï¼Œ<code>import * as D3 from 'd3'</code>ï¼‰ï¼Œæ­¤é€‰é¡¹å°†å†³å®šåœ¨ <code>package.json</code> ä¸­ä½¿ç”¨å“ªä¸ªå­—æ®µå¯¼å…¥æ¨¡å—ã€‚æ ¹æ® webpack é…ç½®ä¸­æŒ‡å®šçš„ <a href="/concepts/targets"><code>target</code></a> ä¸åŒï¼Œé»˜è®¤å€¼ä¹Ÿä¼šæœ‰æ‰€ä¸åŒã€‚</p>
<p>å½“ <code>target</code> å±æ€§è®¾ç½®ä¸º <code>webworker</code>, <code>web</code> æˆ–è€…æ²¡æœ‰æŒ‡å®šï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    mainFields<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'browser'</span><span class="token punctuation">,</span> <span class="token string">'module'</span><span class="token punctuation">,</span> <span class="token string">'main'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å¯¹äºå…¶ä»–ä»»æ„çš„ targetï¼ˆåŒ…æ‹¬ <code>node</code>ï¼‰ï¼Œé»˜è®¤å€¼ä¸ºï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    mainFields<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'module'</span><span class="token punctuation">,</span> <span class="token string">'main'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>ä¾‹å¦‚ï¼Œè€ƒè™‘ä»»æ„ä¸€ä¸ªåä¸º <code>upstream</code> çš„ç±»åº“ <code>package.json</code> åŒ…å«ä»¥ä¸‹å­—æ®µï¼š</p>
<pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"browser"</span><span class="token operator">:</span> <span class="token string">"build/upstream.js"</span><span class="token punctuation">,</span>
  <span class="token property">"module"</span><span class="token operator">:</span> <span class="token string">"index"</span>
<span class="token punctuation">}</span></code></pre>
<p>åœ¨æˆ‘ä»¬ <code>import * as Upstream from 'upstream'</code> æ—¶ï¼Œè¿™å®é™…ä¸Šä¼šä» <code>browser</code> å±æ€§è§£ææ–‡ä»¶ã€‚
åœ¨è¿™é‡Œ <code>browser</code> å±æ€§æ˜¯æœ€ä¼˜å…ˆé€‰æ‹©çš„ï¼Œå› ä¸ºå®ƒæ˜¯ <code>mainFields</code> çš„ç¬¬ä¸€é¡¹ã€‚åŒæ—¶ï¼Œç”± webpack æ‰“åŒ…çš„ Node.js åº”ç”¨ç¨‹åºé¦–å…ˆä¼šå°è¯•
ä» <code>module</code> å­—æ®µä¸­è§£ææ–‡ä»¶ã€‚</p>
<h3 id="resolvemainfiles"><code>resolve.mainFiles</code> <a href="#resolvemainfiles" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>[string] = ['index']</code></p>
<p>è§£æç›®å½•æ—¶è¦ä½¿ç”¨çš„æ–‡ä»¶åã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    mainFiles<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'index'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="resolvemodules"><code>resolve.modules</code> <a href="#resolvemodules" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>[string] = ['node_modules']</code></p>
<p>å‘Šè¯‰ webpack è§£ææ¨¡å—æ—¶åº”è¯¥æœç´¢çš„ç›®å½•ã€‚</p>
<p>ç»å¯¹è·¯å¾„å’Œç›¸å¯¹è·¯å¾„éƒ½èƒ½ä½¿ç”¨ï¼Œä½†æ˜¯è¦çŸ¥é“å®ƒä»¬ä¹‹é—´æœ‰ä¸€ç‚¹å·®å¼‚ã€‚</p>
<p>é€šè¿‡æŸ¥çœ‹å½“å‰ç›®å½•ä»¥åŠç¥–å…ˆè·¯å¾„ï¼ˆå³ <code>./node_modules</code>, <code>../node_modules</code> ç­‰ç­‰ï¼‰ï¼Œ
ç›¸å¯¹è·¯å¾„å°†ç±»ä¼¼äº Node æŸ¥æ‰¾ 'node_modules' çš„æ–¹å¼è¿›è¡ŒæŸ¥æ‰¾ã€‚</p>
<p>ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œå°†åªåœ¨ç»™å®šç›®å½•ä¸­æœç´¢ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    modules<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'node_modules'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å¦‚æœä½ æƒ³è¦æ·»åŠ ä¸€ä¸ªç›®å½•åˆ°æ¨¡å—æœç´¢ç›®å½•ï¼Œæ­¤ç›®å½•ä¼˜å…ˆäº <code>node_modules/</code> æœç´¢ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    modules<span class="token punctuation">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'node_modules'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="resolveunsafecache"><code>resolve.unsafeCache</code> <a href="#resolveunsafecache" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>RegExp</code> <code>[RegExp]</code> <code>boolean: true</code></p>
<p>å¯ç”¨ï¼Œä¼šä¸»åŠ¨ç¼“å­˜æ¨¡å—ï¼Œä½†å¹¶ <strong>ä¸å®‰å…¨</strong>ã€‚ä¼ é€’ <code>true</code> å°†ç¼“å­˜ä¸€åˆ‡ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    unsafeCache<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>æ­£åˆ™è¡¨è¾¾å¼ï¼Œæˆ–æ­£åˆ™è¡¨è¾¾å¼æ•°ç»„ï¼Œå¯ä»¥ç”¨äºåŒ¹é…æ–‡ä»¶è·¯å¾„æˆ–åªç¼“å­˜æŸäº›æ¨¡å—ã€‚
ä¾‹å¦‚ï¼Œåªç¼“å­˜ utilities æ¨¡å—ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    unsafeCache<span class="token punctuation">:</span> <span class="token regex">/src\/utilities/</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p>ä¿®æ”¹ç¼“å­˜è·¯å¾„å¯èƒ½åœ¨æå°‘æ•°æƒ…å†µä¸‹å¯¼è‡´å¤±è´¥ã€‚</p>
</blockquote>
<h3 id="resolveplugins"><code>resolve.plugins</code> <a href="#resolveplugins" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><a href="/plugins/"><code>[Plugin]</code></a></p>
<p>åº”è¯¥ä½¿ç”¨çš„é¢å¤–çš„è§£ææ’ä»¶åˆ—è¡¨ã€‚
å®ƒå…è®¸æ’ä»¶ï¼Œå¦‚ <a href="https://www.npmjs.com/package/directory-named-webpack-plugin"><code>DirectoryNamedWebpackPlugin</code></a>ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">DirectoryNamedWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="resolvesymlinks"><code>resolve.symlinks</code> <a href="#resolvesymlinks" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>æ˜¯å¦å°†ç¬¦å·é“¾æ¥(symlink)è§£æåˆ°å®ƒä»¬çš„ç¬¦å·é“¾æ¥ä½ç½®(symlink location)ã€‚</p>
<p>å¯ç”¨æ—¶ï¼Œç¬¦å·é“¾æ¥(symlink)çš„èµ„æºï¼Œå°†è§£æä¸ºå…¶ <em>çœŸå®</em> è·¯å¾„ï¼Œè€Œä¸æ˜¯å…¶ç¬¦å·é“¾æ¥(symlink)çš„ä½ç½®ã€‚æ³¨æ„ï¼Œå½“ä½¿ç”¨åˆ›å»ºç¬¦å·é“¾æ¥åŒ…çš„å·¥å…·ï¼ˆå¦‚ <code>npm link</code>ï¼‰æ—¶ï¼Œè¿™ç§æ–¹å¼å¯èƒ½ä¼šå¯¼è‡´æ¨¡å—è§£æå¤±è´¥ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    symlinks<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="resolvecachepredicate"><code>resolve.cachePredicate</code> <a href="#resolvecachepredicate" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>function(module) => boolean</code></p>
<p>å†³å®šè¯·æ±‚æ˜¯å¦åº”è¯¥è¢«ç¼“å­˜çš„å‡½æ•°ã€‚å‡½æ•°ä¼ å…¥ä¸€ä¸ªå¸¦æœ‰ <code>path</code> å’Œ <code>request</code> å±æ€§çš„å¯¹è±¡ã€‚
å¿…é¡»è¿”å›ä¸€ä¸ª boolean å€¼ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    cachePredicate<span class="token punctuation">:</span> <span class="token punctuation">(</span>module<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// additional logic</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="resolverestrictions"><code>resolve.restrictions</code> <a href="#resolverestrictions" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>[string, RegExp]</code></p>
<p>è§£æé™åˆ¶åˆ—è¡¨ï¼Œç”¨äºé™åˆ¶å¯ä»¥è§£æè¯·æ±‚çš„è·¯å¾„ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    restrictions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">/</span>\<span class="token punctuation">.</span><span class="token punctuation">(</span>sass<span class="token operator">|</span>scss<span class="token operator">|</span>css<span class="token punctuation">)</span>$<span class="token operator">/</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="resolveloader"><code>resolveLoader</code> <a href="#resolveloader" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object { modules [string] = ['node_modules'], extensions [string] = ['.js', '.json'], mainFields [string] = ['loader', 'main']}</code></p>
<p>è¿™ç»„é€‰é¡¹ä¸ä¸Šé¢çš„ <code>resolve</code> å¯¹è±¡çš„å±æ€§é›†åˆç›¸åŒï¼Œ
ä½†ä»…ç”¨äºè§£æ webpack çš„ <a href="/concepts/loaders">loader</a> åŒ…ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolveLoader<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    modules<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'node_modules'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    extensions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.json'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    mainFields<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'loader'</span><span class="token punctuation">,</span> <span class="token string">'main'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>æ³¨æ„ï¼Œè¿™é‡Œä½ å¯ä»¥ä½¿ç”¨åˆ«åï¼Œå¹¶ä¸”å…¶ä»–ç‰¹æ€§ç±»ä¼¼äº resolve å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œ<code>{ txt: 'raw-loader' }</code> ä¼šä½¿ç”¨ <code>raw-loader</code> å» shim(å¡«å……) <code>txt!templates/demo.txt</code>ã€‚</p>
</blockquote>
<h3 id="resolveloadermoduleextensions"><code>resolveLoader.moduleExtensions</code> <a href="#resolveloadermoduleextensions" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>[string]</code></p>
<blockquote class="warning">
<p>åœ¨ webpack 5 ä¸­è¢«åºŸå¼ƒ</p>
</blockquote>
<p>è§£æ loader æ—¶ï¼Œç”¨åˆ°æ‰©å±•å(extensions)/åç¼€(suffixes)ã€‚ä» webpack 2 å¼€å§‹ï¼Œæˆ‘ä»¬ <a href="/migrate/3/#automatic-loader-module-name-extension-removed">å¼ºçƒˆå»ºè®®</a> ä½¿ç”¨å…¨åï¼Œä¾‹å¦‚ <code>example-loader</code>ï¼Œä»¥å°½å¯èƒ½æ¸…æ™°ã€‚ç„¶è€Œï¼Œå¦‚æœä½ ç¡®å®æƒ³çœç•¥ <code>-loader</code>ï¼Œä¹Ÿå°±æ˜¯è¯´åªä½¿ç”¨ <code>example</code>ï¼Œåˆ™å¯ä»¥ä½¿ç”¨æ­¤é€‰é¡¹æ¥å®ç°ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolveLoader<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    moduleExtensions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h1 id="ä¼˜åŒ–Optimization">ä¼˜åŒ–(Optimization)<a href="#%E4%BC%98%E5%8C%96Optimization" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>ä» webpack 4 å¼€å§‹ï¼Œä¼šæ ¹æ®ä½ é€‰æ‹©çš„ <a href="/concepts/mode/"><code>mode</code></a> æ¥æ‰§è¡Œä¸åŒçš„ä¼˜åŒ–ï¼Œ
ä¸è¿‡æ‰€æœ‰çš„ä¼˜åŒ–è¿˜æ˜¯å¯ä»¥æ‰‹åŠ¨é…ç½®å’Œé‡å†™ã€‚</p>
<h2 id="optimizationminimize"><code>optimization.minimize</code> <a href="#optimizationminimize" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>å‘ŠçŸ¥ webpack ä½¿ç”¨ <a href="/plugins/terser-webpack-plugin/">TerserPlugin</a> æˆ–å…¶å®ƒåœ¨ <a href="#optimizationminimizer"><code>optimization.minimizer</code></a>
å®šä¹‰çš„æ’ä»¶å‹ç¼© bundleã€‚</p>
<p><code>production</code> æ¨¡å¼ä¸‹ï¼Œè¿™é‡Œé»˜è®¤æ˜¯ <code>true</code>ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    minimize<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>äº†è§£ <a href="/concepts/mode/">mode</a> å·¥ä½œæœºåˆ¶ã€‚</p>
</blockquote>
<h2 id="optimizationminimizer"><code>optimization.minimizer</code> <a href="#optimizationminimizer" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>[TerserPlugin]</code> æˆ– <code>[function (compiler)]</code></p>
<p>å…è®¸ä½ é€šè¿‡æä¾›ä¸€ä¸ªæˆ–å¤šä¸ªå®šåˆ¶è¿‡çš„ <a href="/plugins/terser-webpack-plugin/">TerserPlugin</a> å®ä¾‹ï¼Œ
è¦†ç›–é»˜è®¤å‹ç¼©å·¥å…·(minimizer)ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js"><span class="token keyword">const</span> TerserPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'terser-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        cache<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        parallel<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        sourceMap<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// å¦‚æœåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ source-mapsï¼Œå¿…é¡»è®¾ç½®ä¸º true</span>
        terserOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// https://github.com/webpack-contrib/terser-webpack-plugin#terseroptions</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>æˆ–ï¼Œä½¿ç”¨å‡½æ•°çš„å½¢å¼ï¼š</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">(</span>compiler<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> TerserPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'terser-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment">/* ä½ çš„é€‰é¡¹ */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>compiler<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationsplitchunks"><code>optimization.splitChunks</code> <a href="#optimizationsplitchunks" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code></p>
<p>å¯¹äºåŠ¨æ€å¯¼å…¥æ¨¡å—ï¼Œé»˜è®¤ä½¿ç”¨ webpack v4+ æä¾›çš„å…¨æ–°çš„é€šç”¨åˆ†å—ç­–ç•¥(common chunk strategy)ã€‚è¯·åœ¨ <a href="/plugins/split-chunks-plugin/">SplitChunksPlugin</a>
é¡µé¢ä¸­æŸ¥çœ‹é…ç½®å…¶è¡Œä¸ºçš„å¯ç”¨é€‰é¡¹ã€‚</p>
<h2 id="optimizationruntimechunk"><code>optimization.runtimeChunk</code> <a href="#optimizationruntimechunk" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code> <code>string</code> <code>boolean</code></p>
<p>å°† <code>optimization.runtimeChunk</code> è®¾ç½®ä¸º <code>true</code> æˆ– <code>"multiple"</code>ï¼Œä¼šä¸ºæ¯ä¸ªä»…å«æœ‰ runtime çš„å…¥å£èµ·ç‚¹æ·»åŠ ä¸€ä¸ªé¢å¤– chunkã€‚
æ­¤è®¾ç½®æ˜¯å¦‚ä¸‹è®¾ç½®çš„åˆ«åï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    runtimeChunk<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> entrypoint <span class="token operator">=></span> <span class="token template-string"><span class="token string">`runtime~</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>entrypoint<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å€¼ <code>"single"</code> ä¼šåˆ›å»ºä¸€ä¸ªåœ¨æ‰€æœ‰ç”Ÿæˆ chunk ä¹‹é—´å…±äº«çš„è¿è¡Œæ—¶æ–‡ä»¶ã€‚æ­¤è®¾ç½®æ˜¯å¦‚ä¸‹è®¾ç½®çš„åˆ«åï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    runtimeChunk<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token string">'runtime'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å°† <code>optimization.runtimeChunk</code> è®¾ç½®ä¸º <code>object</code>ï¼Œå¯¹è±¡ä¸­å¯ä»¥è®¾ç½®åªæœ‰ <code>name</code> å±æ€§ï¼Œå…¶ä¸­å±æ€§å€¼å¯ä»¥æ˜¯åç§°æˆ–è€…è¿”å›åç§°çš„å‡½æ•°ï¼Œ
ç”¨äºä¸º runtime chunks å‘½åã€‚</p>
<p>é»˜è®¤å€¼æ˜¯ <code>false</code>ï¼šæ¯ä¸ªå…¥å£ chunk ä¸­ç›´æ¥åµŒå…¥ runtimeã€‚</p>
<blockquote class="warning">
<p>å¯¹äºæ¯ä¸ª runtime chunkï¼Œå¯¼å…¥çš„æ¨¡å—ä¼šè¢«åˆ†åˆ«åˆå§‹åŒ–ï¼Œå› æ­¤å¦‚æœä½ åœ¨åŒä¸€ä¸ªé¡µé¢ä¸­å¼•ç”¨å¤šä¸ªå…¥å£èµ·ç‚¹ï¼Œè¯·æ³¨æ„æ­¤è¡Œä¸ºã€‚ä½ æˆ–è®¸åº”è¯¥å°†å…¶è®¾ç½®ä¸º <code>single</code>ï¼Œæˆ–è€…ä½¿ç”¨å…¶ä»–åªæœ‰ä¸€ä¸ª runtime å®ä¾‹çš„é…ç½®ã€‚</p>
</blockquote>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    runtimeChunk<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> entrypoint <span class="token operator">=></span> <span class="token template-string"><span class="token string">`runtimechunk~</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>entrypoint<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationnoemitonerrors"><code>optimization.noEmitOnErrors</code> <a href="#optimizationnoemitonerrors" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>åœ¨ç¼–è¯‘å‡ºé”™æ—¶ï¼Œä½¿ç”¨ <code>optimization.noEmitOnErrors</code> æ¥è·³è¿‡ç”Ÿæˆé˜¶æ®µ(emitting phase)ã€‚è¿™å¯ä»¥ç¡®ä¿æ²¡æœ‰ç”Ÿæˆå‡ºé”™è¯¯èµ„æºã€‚è€Œ stats ä¸­æ‰€æœ‰ assets
ä¸­çš„ <code>emitted</code> æ ‡è®°éƒ½æ˜¯ <code>false</code>ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    noEmitOnErrors<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p>æœä½ æ­£åœ¨ä½¿ç”¨ webpack <a href="/api/cli/">CLI</a>ï¼Œåœ¨æ­¤æ’ä»¶å¼€å¯æ—¶ï¼Œwebpack å¤„ç†è¿‡ç¨‹ä¸ä¼šå› ä¸ºé”™è¯¯ä»£ç è€Œé€€å‡ºã€‚å¦‚æœä½ å¸Œæœ›åœ¨ä½¿ç”¨ CLI æ—¶ webpack "å¤±è´¥(fail)"ï¼Œ
è¯·æŸ¥çœ‹ <a href="/api/cli/#advanced-options"><code>bail</code> é€‰é¡¹</a>ã€‚</p>
</blockquote>
<h2 id="optimizationnamedmodules"><code>optimization.namedModules</code> <a href="#optimizationnamedmodules" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code></p>
<p>å‘ŠçŸ¥ webpack ä½¿ç”¨å¯è¯»å–æ¨¡å—æ ‡è¯†ç¬¦(readable module identifiers)ï¼Œæ¥å¸®åŠ©æ›´å¥½åœ°è°ƒè¯•ã€‚webpack é…ç½®ä¸­å¦‚æœæ²¡æœ‰è®¾ç½®æ­¤é€‰é¡¹ï¼Œé»˜è®¤ä¼šåœ¨ <a href="/concepts/mode/">mode</a> <code>development</code> å¯ç”¨ï¼Œåœ¨ <a href="/concepts/mode/">mode</a> <code>production</code> ç¦ç”¨ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    namedModules<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationnamedchunks"><code>optimization.namedChunks</code> <a href="#optimizationnamedchunks" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code></p>
<p>å‘ŠçŸ¥ webpack ä½¿ç”¨å¯è¯»å– chunk æ ‡è¯†ç¬¦(readable chunk identifiers)ï¼Œæ¥å¸®åŠ©æ›´å¥½åœ°è°ƒè¯•ã€‚webpack é…ç½®ä¸­å¦‚æœæ²¡æœ‰è®¾ç½®æ­¤é€‰é¡¹ï¼Œé»˜è®¤ä¼šåœ¨ <a href="/concepts/mode/">mode</a> <code>development</code> å¯ç”¨ï¼Œåœ¨ <a href="/concepts/mode/">mode</a> <code>production</code> ç¦ç”¨ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    namedChunks<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationmoduleids"><code>optimization.moduleIds</code> <a href="#optimizationmoduleids" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code> <code>string: 'natural' | 'named' | 'deterministic' | 'size'</code></p>
<p>å‘ŠçŸ¥ webpack å½“é€‰æ‹©æ¨¡å— id æ—¶éœ€è¦ä½¿ç”¨å“ªç§ç®—æ³•ã€‚å°† <code>optimization.moduleIds</code> è®¾ç½®ä¸º  <code>false</code> ä¼šå‘ŠçŸ¥ webpack æ²¡æœ‰ä»»ä½•å†…ç½®çš„ç®—æ³•ä¼šè¢«ä½¿ç”¨ï¼Œä½†è‡ªå®šä¹‰çš„ç®—æ³•ä¼šç”±æ’ä»¶æä¾›ã€‚<code>optimization.moduleIds</code> çš„é»˜è®¤å€¼æ˜¯ <code>false</code>ã€‚</p>
<p>ä¸‹é¢çš„å­—ç¬¦ä¸²å€¼å‡è¢«æ”¯æŒï¼š</p>
<table>
<thead>
<tr>
<th>é€‰èå€¼</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td><div class="title"><p>é€‰èå€¼</p><p>æè¿°</p></div>
<div class="content"><p><code>natural</code><p class="description mobile">æŒ‰ä½¿ç”¨é¡ºåºçš„æ•°å­— idã€‚</p></p></div></td>
<td class="description desktop">æŒ‰ä½¿ç”¨é¡ºåºçš„æ•°å­— idã€‚</td>
</tr>
<tr>
<td><div class="title"><p>é€‰èå€¼</p><p>æè¿°</p></div>
<div class="content"><p><code>named</code><p class="description mobile">å¯¹è°ƒè¯•æ›´å‹å¥½çš„å¯è¯»çš„ idã€‚</p></p></div></td>
<td class="description desktop">å¯¹è°ƒè¯•æ›´å‹å¥½çš„å¯è¯»çš„ idã€‚</td>
</tr>
<tr>
<td><div class="title"><p>é€‰èå€¼</p><p>æè¿°</p></div>
<div class="content"><p><code>deterministic</code><p class="description mobile">è¢«å“ˆå¸Œè½¬åŒ–æˆçš„å°ä½æ•°å€¼æ¨¡å—åã€‚</p></p></div></td>
<td class="description desktop">è¢«å“ˆå¸Œè½¬åŒ–æˆçš„å°ä½æ•°å€¼æ¨¡å—åã€‚</td>
</tr>
<tr>
<td><div class="title"><p>é€‰èå€¼</p><p>æè¿°</p></div>
<div class="content"><p><code>size</code><p class="description mobile">ä¸“æ³¨äºè®©åˆå§‹ä¸‹è½½åŒ…å¤§å°æ›´å°çš„æ•°å­— idã€‚</p></p></div></td>
<td class="description desktop">ä¸“æ³¨äºè®©åˆå§‹ä¸‹è½½åŒ…å¤§å°æ›´å°çš„æ•°å­— idã€‚</td>
</tr>
</tbody>
</table>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    moduleIds<span class="token punctuation">:</span> <span class="token string">'hashed'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p><code>deterministic</code> é€‰é¡¹æœ‰ç›Šäºé•¿æœŸç¼“å­˜ï¼Œä½†å¯¹æ¯”äº <code>hashed</code> æ¥è¯´ï¼Œå®ƒä¼šå¯¼è‡´æ›´å°çš„æ–‡ä»¶ bundlesã€‚æ•°å­—å€¼çš„é•¿åº¦ä¼šè¢«é€‰ä½œç”¨äºå¡«æ»¡æœ€å¤š80%çš„idç©ºé—´ã€‚
å½“  <code>optimization.moduleIds</code> è¢«è®¾ç½®æˆ <code>deterministic</code>ï¼Œé»˜è®¤æœ€å°3ä½æ•°å­—ä¼šè¢«ä½¿ç”¨ã€‚
è¦è¦†ç›–é»˜è®¤è¡Œä¸ºï¼Œè¦å°† <code>optimization.moduleIds</code> è®¾ç½®æˆ <code>false</code>ï¼Œ
å¹¶ä¸”è¦ä½¿ç”¨ <code>webpack.ids.DeterministicModuleIdsPlugin</code>ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    moduleIds<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ids<span class="token punctuation">.</span>DeterministicModuleIdsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      maxLength<span class="token punctuation">:</span> <span class="token number">5</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p><code>moduleIds: 'deterministic'</code> åœ¨ webpack 5 ä¸­è¢«æ·»åŠ ï¼Œè€Œä¸” <code>moduleIds: 'hashed'</code> ç›¸åº”åœ°ä¼šåœ¨ webpack 5 ä¸­åºŸå¼ƒã€‚</p>
</blockquote>
<blockquote class="warning">
<p><code>moduleIds: total-size</code> åœ¨ webpack 5 ä¸­è¢«åºŸå¼ƒã€‚</p>
</blockquote>
<h2 id="optimizationchunkids"><code>optimization.chunkIds</code> <a href="#optimizationchunkids" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code> <code>string: 'natural' | 'named' | 'size' | 'total-size' | 'deterministic'</code></p>
<p>å‘ŠçŸ¥ webpack å½“é€‰æ‹©æ¨¡å— id æ—¶éœ€è¦ä½¿ç”¨å“ªç§ç®—æ³•ã€‚å°† <code>optimization.chunkIds</code> è®¾ç½®ä¸º  <code>false</code> ä¼šå‘ŠçŸ¥ webpack æ²¡æœ‰ä»»ä½•å†…ç½®çš„ç®—æ³•ä¼šè¢«ä½¿ç”¨ï¼Œä½†è‡ªå®šä¹‰çš„ç®—æ³•ä¼šç”±æ’ä»¶æä¾›ã€‚<code>optimization.chunkIds</code> çš„é»˜è®¤å€¼æ˜¯ <code>false</code>ï¼š</p>
<ul>
<li>å¦‚æœ <a href="#optimizationoccurrenceorder"><code>optimization.occurrenceOrder</code></a> è¢«å¯ç”¨ <code>optimization.chunkIds</code> ä¼šè¢«è®¾ç½®æˆ <code>'total-size'</code></li>
<li>ä¸è€ƒè™‘ä¸Šä¸€æ¡çš„æ¡ä»¶ï¼Œå¦‚æœ <a href="#optimizationnamedchunks"><code>optimization.namedChunks</code></a> è¢«å¯ç”¨ <code>optimization.chunkIds</code> ä¼šè¢«è®¾ç½®æˆ <code>'named'</code></li>
<li>å¦‚æœç¯å¢ƒæ˜¯å¼€å‘ç¯å¢ƒï¼Œé‚£ä¹ˆ <code>optimization.chunkIds</code> ä¼šè¢«è®¾ç½®æˆ <code>'named'</code>,
ä½†å½“åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ—¶ï¼Œå®ƒä¼šè¢«è®¾ç½®æˆ <code>'deterministic'</code></li>
<li>å¦‚æœä¸Šè¿°çš„æ¡ä»¶éƒ½ä¸ç¬¦åˆ, <code>optimization.chunkIds</code> ä¼šè¢«é»˜è®¤è®¾ç½®ä¸º <code>'natural'</code></li>
</ul>
<p>ä¸‹è¿°é€‰é¡¹å­—ç¬¦ä¸²å€¼å‡ä¸ºè¢«æ”¯æŒ:</p>
<table>
<thead>
<tr>
<th>é€‰é¡¹å€¼</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td><div class="title"><p>é€‰é¡¹å€¼</p><p>æè¿°</p></div>
<div class="content"><p><code>'natural'</code><p class="description mobile">æŒ‰ä½¿ç”¨é¡ºåºçš„æ•°å­— idã€‚</p></p></div></td>
<td class="description desktop">æŒ‰ä½¿ç”¨é¡ºåºçš„æ•°å­— idã€‚</td>
</tr>
<tr>
<td><div class="title"><p>é€‰é¡¹å€¼</p><p>æè¿°</p></div>
<div class="content"><p><code>'named'</code><p class="description mobile">å¯¹è°ƒè¯•æ›´å‹å¥½çš„å¯è¯»çš„ idã€‚</p></p></div></td>
<td class="description desktop">å¯¹è°ƒè¯•æ›´å‹å¥½çš„å¯è¯»çš„ idã€‚</td>
</tr>
<tr>
<td><div class="title"><p>é€‰é¡¹å€¼</p><p>æè¿°</p></div>
<div class="content"><p><code>'deterministic'</code><p class="description mobile">åœ¨ä¸åŒçš„ç¼–è¯‘ä¸­ä¸å˜çš„çŸ­æ•°å­— idã€‚æœ‰ç›Šäºé•¿æœŸæ˜æ‘ã€‚</p></p></div></td>
<td class="description desktop">åœ¨ä¸åŒçš„ç¼–è¯‘ä¸­ä¸å˜çš„çŸ­æ•°å­— idã€‚æœ‰ç›Šäºé•¿æœŸæ˜æ‘ã€‚</td>
</tr>
</tbody>
</table>
<p>åœ¨ç”Ÿäº§æ¨¡å¼ä¸­ä¼šé»˜è®¤å¼€å¯ã€‚
<code>'size'</code>                | ä¸“æ³¨äºè®©åˆå§‹ä¸‹è½½åŒ…å¤§å°æ›´å°çš„æ•°å­— idã€‚
<code>'total-size'</code>          | ä¸“æ³¨äºè®©æ€»ä¸‹è½½åŒ…å¤§å°æ›´å°çš„æ•°å­— idã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    chunkIds<span class="token punctuation">:</span> <span class="token string">'named'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é»˜è®¤åœ°ï¼Œå½“ <code>optimization.chunkIds</code> è¢«è®¾ç½®ä¸º <code>'deterministic'</code> æ—¶ï¼Œæœ€å°‘3ä½æ•°å­—ä¼šè¢«ä½¿ç”¨ã€‚è¦è¦†ç›–é»˜è®¤çš„è¡Œä¸ºï¼Œ
è¦å°† <code>optimization.chunkIds</code> è®¾ç½®ä¸º <code>false</code>ï¼ŒåŒæ—¶è¦ä½¿ç”¨ <code>webpack.ids.DeterministicChunkIdsPlugin</code>ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    chunkIds<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ids<span class="token punctuation">.</span>DeterministicChunkIdsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      maxLength<span class="token punctuation">:</span> <span class="token number">5</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationnodeenv"><code>optimization.nodeEnv</code> <a href="#optimizationnodeenv" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code> <code>string</code></p>
<p>å‘ŠçŸ¥ webpack å°† <code>process.env.NODE_ENV</code> è®¾ç½®ä¸ºä¸€ä¸ªç»™å®šå­—ç¬¦ä¸²ã€‚å¦‚æœ <code>optimization.nodeEnv</code> ä¸æ˜¯ <code>false</code>ï¼Œåˆ™ä¼šä½¿ç”¨ <a href="/plugins/define-plugin/">DefinePlugin</a>ï¼Œ<code>optimization.nodeEnv</code> <strong>é»˜è®¤å€¼</strong>å–å†³äº <a href="/concepts/mode/">mode</a>ï¼Œå¦‚æœä¸º falsy å€¼ï¼Œåˆ™ä¼šå›é€€åˆ° <code>"production"</code>ã€‚</p>
<p>å¯èƒ½çš„å€¼æœ‰ï¼š</p>
<ul>
<li>ä»»ä½•å­—ç¬¦ä¸²ï¼šç”¨äºè®¾ç½® <code>process.env.NODE_ENV</code> çš„å€¼ã€‚</li>
<li>falseï¼šä¸ä¿®æ”¹/è®¾ç½® <code>process.env.NODE_ENV</code>çš„å€¼ã€‚</li>
</ul>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    nodeEnv<span class="token punctuation">:</span> <span class="token string">'production'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationmanglewasmimports"><code>optimization.mangleWasmImports</code> <a href="#optimizationmanglewasmimports" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code></p>
<p>åœ¨è®¾ç½®ä¸º <code>true</code> æ—¶ï¼Œå‘ŠçŸ¥ webpack é€šè¿‡å°†å¯¼å…¥ä¿®æ”¹ä¸ºæ›´çŸ­çš„å­—ç¬¦ä¸²ï¼Œæ¥å‡å°‘ WASM å¤§å°ã€‚è¿™ä¼šç ´åæ¨¡å—å’Œå¯¼å‡ºåç§°ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    mangleWasmImports<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationremoveavailablemodules"><code>optimization.removeAvailableModules</code> <a href="#optimizationremoveavailablemodules" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code></p>
<p>å¦‚æœæ¨¡å—å·²ç»åŒ…å«åœ¨æ‰€æœ‰çˆ¶çº§æ¨¡å—ä¸­ï¼Œå‘ŠçŸ¥ webpack ä» chunk ä¸­æ£€æµ‹å‡ºè¿™äº›æ¨¡å—ï¼Œæˆ–ç§»é™¤è¿™äº›æ¨¡å—ã€‚å°† <code>optimization.removeAvailableModules</code> è®¾ç½®ä¸º <code>true</code> ä»¥å¯ç”¨è¿™é¡¹ä¼˜åŒ–ã€‚åœ¨ <a href="/configuration/mode/"><code>ç”Ÿäº§</code> æ¨¡å¼</a> ä¸­é»˜è®¤ä¼šè¢«å¼€å¯ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    removeAvailableModules<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p><code>optimization.removeAvailableModules</code> ä¼šå‰Šå‡äº† webapck çš„æ€§èƒ½è¡¨ç°ï¼Œè€Œä¸”å°†ä¼šåœ¨ä¸‹ä¸€ä¸ªä¸»è¦å‘å¸ƒç‰ˆæœ¬ä¸­ï¼Œåœ¨ <code>ç”Ÿäº§</code> æ¨¡å¼ä¸‹ä¼šè¢«ç¦ç”¨ã€‚
å¦‚æœä½ æƒ³è·å¾—é¢å¤–çš„æ„å»ºæ€§èƒ½ï¼Œè¯·åœ¨ <code>ç”Ÿäº§</code> æ¨¡å¼ä¸­ç¦ç”¨å®ƒã€‚</p>
</blockquote>
<h2 id="optimizationremoveemptychunks"><code>optimization.removeEmptyChunks</code> <a href="#optimizationremoveemptychunks" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = true</code></p>
<p>å¦‚æœ chunk ä¸ºç©ºï¼Œå‘ŠçŸ¥ webpack æ£€æµ‹æˆ–ç§»é™¤è¿™äº› chunkã€‚å°† <code>optimization.removeEmptyChunks</code> è®¾ç½®ä¸º <code>false</code> ä»¥ç¦ç”¨è¿™é¡¹ä¼˜åŒ–ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    removeEmptyChunks<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationmergeduplicatechunks"><code>optimization.mergeDuplicateChunks</code> <a href="#optimizationmergeduplicatechunks" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ webpack åˆå¹¶å«æœ‰ç›¸åŒæ¨¡å—çš„ chunkã€‚å°† <code>optimization.mergeDuplicateChunks</code> è®¾ç½®ä¸º <code>false</code> ä»¥ç¦ç”¨è¿™é¡¹ä¼˜åŒ–ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    mergeDuplicateChunks<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationflagincludedchunks"><code>optimization.flagIncludedChunks</code> <a href="#optimizationflagincludedchunks" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>å‘ŠçŸ¥ webpack ç¡®å®šå’Œæ ‡è®°å‡ºä½œä¸ºå…¶ä»– chunk å­é›†çš„é‚£äº› chunkï¼Œå…¶æ–¹å¼æ˜¯åœ¨å·²ç»åŠ è½½è¿‡è¾ƒå¤§çš„ chunk ä¹‹åï¼Œå°±ä¸å†å»åŠ è½½è¿™äº› chunk å­é›†ã€‚<code>optimization.flagIncludedChunks</code> é»˜è®¤ä¼šåœ¨ <code>ç”Ÿäº§</code> <a href="/concepts/mode/">æ¨¡å¼</a> ä¸­å¯ç”¨ï¼Œå…¶ä»–æƒ…å†µç¦ç”¨ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    flagIncludedChunks<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationoccurrenceorder"><code>optimization.occurrenceOrder</code> <a href="#optimizationoccurrenceorder" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>å‘ŠçŸ¥ webpack å»ç¡®å®šé‚£äº›ä¼šå¼•è‡´æ›´å°çš„åˆå§‹åŒ–æ–‡ä»¶ bundle çš„æ¨¡å—é¡ºåºã€‚<code>optimization.occurrenceOrder</code>
é»˜è®¤ä¼šåœ¨ <code>ç”Ÿäº§</code> <a href="/concepts/mode/">æ¨¡å¼</a> ä¸­å¯ç”¨ï¼Œå…¶ä»–æƒ…å†µç¦ç”¨ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    occurrenceOrder<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationprovidedexports"><code>optimization.providedExports</code> <a href="#optimizationprovidedexports" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>å‘ŠçŸ¥ webpack å»ç¡®å®šé‚£äº›ç”±æ¨¡å—æä¾›çš„å¯¼å‡ºå†…å®¹ï¼Œä¸º <code>export * from ...</code> ç”Ÿæˆæ›´å¤šé«˜æ•ˆçš„ä»£ç ã€‚
é»˜è®¤ <code>optimization.providedExports</code> ä¼šè¢«å¯ç”¨ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    providedExports<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationusedexports"><code>optimization.usedExports</code> <a href="#optimizationusedexports" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ webpack å»å†³å®šæ¯ä¸ªæ¨¡å—ä½¿ç”¨çš„å¯¼å‡ºå†…å®¹ã€‚è¿™å–å†³äº <a href="#optimizationoccurrenceorder"><code>optimization.providedExports</code></a> é€‰é¡¹ã€‚ç”± <code>optimization.usedExports</code> æ”¶é›†çš„ä¿¡æ¯ä¼šè¢«å…¶å®ƒä¼˜åŒ–æ‰‹æ®µæˆ–è€…ä»£ç ç”Ÿæˆä½¿ç”¨ï¼Œæ¯”å¦‚æœªä½¿ç”¨çš„å¯¼å‡ºå†…å®¹ä¸ä¼šè¢«ç”Ÿæˆï¼Œ
å½“æ‰€æœ‰çš„ä½¿ç”¨éƒ½é€‚é…ï¼Œå¯¼å‡ºåç§°ä¼šè¢«å¤„ç†åšå•ä¸ªæ ‡è®°å­—ç¬¦ã€‚
åœ¨å‹ç¼©å·¥å…·ä¸­çš„æ— ç”¨ä»£ç æ¸…é™¤ä¼šå—ç›Šäºè¯¥é€‰é¡¹ï¼Œè€Œä¸”èƒ½å¤Ÿå»é™¤æœªä½¿ç”¨çš„å¯¼å‡ºå†…å®¹ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    usedExports<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationconcatenatemodules"><code>optimization.concatenateModules</code> <a href="#optimizationconcatenatemodules" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>å‘ŠçŸ¥ webpack å»å¯»æ‰¾æ¨¡å—å›¾å½¢ä¸­çš„ç‰‡æ®µï¼Œå“ªäº›æ˜¯å¯ä»¥å®‰å…¨åœ°è¢«åˆå¹¶åˆ°å•ä¸€æ¨¡å—ä¸­ã€‚è¿™å–å†³äº <a href="#optimizationprovidedexports"><code>optimization.providedExports</code></a> å’Œ <a href="#optimizationusedexports"><code>optimization.usedExports</code></a>ã€‚
é»˜è®¤ <code>optimization.concatenateModules</code> åœ¨ <code>ç”Ÿäº§</code> <a href="/configuration/mode/">æ¨¡å¼</a> ä¸‹è¢«å¯ç”¨ï¼Œè€Œåœ¨å…¶å®ƒæƒ…å†µä¸‹è¢«ç¦ç”¨ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    concatenateModules<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationsideeffects"><code>optimization.sideEffects</code> <a href="#optimizationsideeffects" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ webpack å»è¾¨è¯† <code>package.json</code> ä¸­çš„  <a href="https://github.com/webpack/webpack/blob/master/examples/side-effects/README.md"><code>å‰¯ä½œç”¨</code></a> æ ‡è®°æˆ–è§„åˆ™ï¼Œä»¥è·³è¿‡é‚£äº›å½“å¯¼å‡ºä¸è¢«ä½¿ç”¨ä¸”è¢«æ ‡è®°ä¸åŒ…å«å‰¯ä½œç”¨çš„æ¨¡å—ã€‚</p>
<p><strong>package.json</strong></p>
<pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"awesome npm module"</span><span class="token punctuation">,</span>
  <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>
  <span class="token property">"sideEffects"</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span></code></pre>
<blockquote class="tip">
<p>è¯·æ³¨æ„çš„æ˜¯ <code>ï¼ˆå‰¯ä½œç”¨ï¼‰sideEffects</code> éœ€è¦åœ¨ npm æ¨¡å—çš„ <code>package.json</code> æ–‡ä»¶ä¸­ï¼Œä½†å¹¶ä¸æ„å‘³ç€ä½ éœ€è¦åœ¨ä½ è‡ªå·±çš„å¼•ç”¨é‚£ä¸ªå¤§æ¨¡å—çš„é¡¹ç›®ä¸­çš„
<code>package.json</code> ä¸­å°† <code>sideEffects</code> è®¾ç½®æˆ <code>false</code>ã€‚</p>
</blockquote>
<p><code>optimization.sideEffects</code> å–å†³äº <a href="#optimizationprovidedexports"><code>optimization.providedExports</code></a> è¢«è®¾ç½®æˆå¯ç”¨ã€‚è¿™ä¸ªä¾èµ–ä¼šæœ‰æ„å»ºæ—¶é—´çš„æŸè€—ï¼Œä½†å»æ‰æ¨¡å—ä¼šå¯¹æ€§èƒ½æœ‰æ­£é¢çš„å½±å“ï¼Œå› ä¸ºæ›´å°‘çš„ä»£ç è¢«ç”Ÿæˆã€‚è¯¥ä¼˜åŒ–çš„æ•ˆæœå–å†³äºä½ çš„ä»£ç åº“ï¼Œ
å¯ä»¥å°è¯•è¿™ä¸ªç‰¹æ€§ä»¥è·å–ä¸€äº›å¯èƒ½çš„æ€§èƒ½ä¼˜åŒ–ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    sideEffects<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationportablerecords"><code>optimization.portableRecords</code> <a href="#optimizationportablerecords" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p><code>optimization.portableRecords</code> å‘ŠçŸ¥ webpack ç”Ÿæˆå¸¦æœ‰ç›¸å¯¹è·¯å¾„çš„è®°å½•(records)ä½¿å¾—å¯ä»¥ç§»åŠ¨ä¸Šä¸‹æ–‡ç›®å½•ã€‚</p>
<p>é»˜è®¤ <code>optimization.portableRecords</code> è¢«ç¦ç”¨ã€‚å¦‚æœä¸‹åˆ—è‡³å°‘ä¸€ä¸ªé€‰é¡¹åœ¨ webpack ä¸­è¢«è®¾ç½®ï¼Œè¯¥é€‰é¡¹ä¹Ÿä¼šè‡ªåŠ¨å¯ç”¨ï¼š<a href="/configuration/other-options/#recordspath"><code>recordsPath</code></a>, <a href="/configuration/other-options/#recordsinputpath"><code>recordsInputPath</code></a>,
<a href="/configuration/other-options/#recordsoutputpath"><code>recordsOutputPath</code></a>ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    portableRecords<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationmangleexports"><code>optimization.mangleExports</code> <a href="#optimizationmangleexports" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p><code>optimization.mangleExports</code> å…è®¸æ§åˆ¶å¯¼å‡ºå¤„ç†(export mangling)ã€‚</p>
<p>é»˜è®¤ <code>optimization.mangleExports</code> ä¼šåœ¨ <code>ç”Ÿäº§</code> <a href="/configuration/mode/">æ¨¡å¼ä¸‹</a> å¯ç”¨è€Œå…¶å®ƒæƒ…å†µä¼šè¢«ç¦ç”¨ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    mangleExports<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationinnergraph"><code>optimization.innerGraph</code> <a href="#optimizationinnergraph" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = true</code></p>
<p><code>optimization.innerGraph</code> å‘ŠçŸ¥ webpack æ˜¯å¦å¯¹æœªä½¿ç”¨çš„å¯¼å‡ºå†…å®¹ï¼Œå®æ–½å†…éƒ¨å›¾å½¢åˆ†æ(graph analysis)ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    innerGraph<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h1 id="æ’ä»¶Plugins">æ’ä»¶(Plugins)<a href="#%E6%8F%92%E4%BB%B6Plugins" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p><code>plugins</code> é€‰é¡¹ç”¨äºä»¥å„ç§æ–¹å¼è‡ªå®šä¹‰ webpack æ„å»ºè¿‡ç¨‹ã€‚webpack é™„å¸¦äº†å„ç§å†…ç½®æ’ä»¶ï¼Œå¯ä»¥é€šè¿‡ <code>webpack.[plugin-name]</code> è®¿é—®è¿™äº›æ’ä»¶ã€‚è¯·æŸ¥çœ‹ <a href="/plugins">æ’ä»¶é¡µé¢</a> è·å–æ’ä»¶åˆ—è¡¨å’Œå¯¹åº”æ–‡æ¡£ï¼Œ
ä½†è¯·æ³¨æ„è¿™åªæ˜¯å…¶ä¸­ä¸€éƒ¨åˆ†ï¼Œç¤¾åŒºä¸­è¿˜æœ‰è®¸å¤šæ’ä»¶ã€‚</p>
<blockquote class="tip">
<p>æ³¨æ„ï¼šæœ¬é¡µé¢ä»…è®¨è®ºä½¿ç”¨æ’ä»¶ï¼Œå¦‚æœä½ æœ‰å…´è¶£ç¼–å†™è‡ªå·±çš„æ’ä»¶ï¼Œ
è¯·è®¿é—® <a href="/contribute/writing-a-plugin/">ç¼–å†™ä¸€ä¸ªæ’ä»¶</a> é¡µé¢ã€‚</p>
</blockquote>
<h2 id="plugins"><code>plugins</code> <a href="#plugins" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><a href="/plugins/"><code>[Plugin]</code></a></p>
<p>ä¸€ç»„ webpack æ’ä»¶ã€‚ä¾‹å¦‚ï¼Œ<a href="/plugins/define-plugin/"><code>DefinePlugin</code></a> å…è®¸ä½ åˆ›å»ºå¯åœ¨ç¼–è¯‘æ—¶é…ç½®çš„å…¨å±€å¸¸é‡ã€‚è¿™å¯¹éœ€è¦å†å¼€å‘ç¯å¢ƒæ„å»ºå’Œç”Ÿäº§ç¯å¢ƒæ„å»ºä¹‹é—´äº§ç”Ÿä¸åŒè¡Œä¸ºæ¥è¯´éå¸¸æœ‰ç”¨ã€‚
An array of webpack plugins. For example, <a href="/plugins/define-plugin/"><code>DefinePlugin</code></a> allows you to create global constants which can be configured at compile time. This can be useful for allowing different behavior between development builds and release builds.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// Definitions...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>ä¸€ä¸ªå¤æ‚ç¤ºä¾‹ï¼Œä½¿ç”¨å¤šä¸ªæ’ä»¶ï¼Œå¯èƒ½çœ‹èµ·æ¥å°±åƒè¿™æ ·ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js"><span class="token keyword">var</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å¯¼å…¥é webpack è‡ªå¸¦é»˜è®¤æ’ä»¶</span>
<span class="token keyword">var</span> ExtractTextPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'extract-text-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> DashboardPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-dashboard/plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åœ¨é…ç½®ä¸­æ·»åŠ æ’ä»¶</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token punctuation">:</span> <span class="token string">'build.min.css'</span><span class="token punctuation">,</span>
      allChunks<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>IgnorePlugin</span><span class="token punctuation">(</span><span class="token regex">/^\.\/locale$/</span><span class="token punctuation">,</span> <span class="token regex">/moment$/</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token comment">// ç¼–è¯‘æ—¶(compile time)æ’ä»¶</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token string">'process.env.NODE_ENV'</span><span class="token punctuation">:</span> <span class="token string">'"production"'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token comment">// webpack-dev-server å¼ºåŒ–æ’ä»¶</span>
    <span class="token keyword">new</span> <span class="token class-name">DashboardPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h1 id="å¼€å‘æœåŠ¡å™¨DevServer">å¼€å‘æœåŠ¡å™¨(DevServer)<a href="#%E5%BC%80%E5%8F%91%E6%9C%8D%E5%8A%A1%E5%99%A8DevServer" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p><a href="https://github.com/webpack/webpack-dev-server">webpack-dev-server</a> å¯ç”¨äºå¿«é€Ÿå¼€å‘åº”ç”¨ç¨‹åºã€‚è¯·æŸ¥é˜… <a href="/guides/development/">å¼€å‘æŒ‡å—</a> å¼€å§‹ä½¿ç”¨ã€‚</p>
<p>å½“å‰é¡µé¢è®°å½•äº†å½±å“ <code>webpack-dev-server</code> (ç®€å†™: <code>dev-server</code>)é…ç½®çš„é€‰é¡¹ã€‚</p>
<blockquote class="tip">
<p>ä¸ <a href="https://github.com/webpack/webpack-dev-middleware">webpack-dev-middleware</a> å…¼å®¹çš„é…ç½®é¡¹åé¢ ğŸ”‘ æ ‡è®°ã€‚</p>
</blockquote>
<h2 id="devserver">å¼€å‘æœåŠ¡å™¨(<code>devServer</code>) <a href="#devserver" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code></p>
<p>é€šè¿‡ <a href="https://github.com/webpack/webpack-dev-server">webpack-dev-server</a> çš„è¿™äº›é…ç½®ï¼Œèƒ½å¤Ÿä»¥å¤šç§æ–¹å¼æ”¹å˜å…¶è¡Œä¸ºã€‚è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œåˆ©ç”¨ <code>gzips</code> å‹ç¼© <code>dist/</code> ç›®å½•å½“ä¸­çš„æ‰€æœ‰å†…å®¹å¹¶æä¾›ä¸€ä¸ªæœ¬åœ°æœåŠ¡(serve)ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    contentBase<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    compress<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    port<span class="token punctuation">:</span> <span class="token number">9000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å½“æœåŠ¡(<code>server</code>)å¯åŠ¨åï¼Œåœ¨è§£ææ¨¡å—åˆ—è¡¨ä¹‹å‰è¾“å‡ºä¸€æ¡æ¶ˆæ¯ï¼š</p>
<pre><code class="hljs language-bash">http://localhost:9000/
webpack output is served from /build/
Content not from webpack is served from /path/to/dist/</code></pre>
<p>è¿™é‡Œå°†ä¼šç»™å‡ºæœåŠ¡å¯åŠ¨ä½ç½®ä»¥åŠå†…å®¹çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ã€‚</p>
<p>å¦‚æœä½ é€šè¿‡ Node.js API ä½¿ç”¨ dev-serverï¼Œåˆ™ <code>devServer</code> ä¸­çš„é…ç½®é€‰é¡¹å°†è¢«å¿½ç•¥ã€‚ä½†å¯ä»¥å°†é…ç½®é€‰é¡¹ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥ï¼š<code>new WebpackDevServer(compilerï¼Œ{...})</code>ã€‚<a href="https://github.com/webpack/webpack-dev-server/tree/master/examples/api/simple">æ­¤ç¤ºä¾‹</a>å±•ç¤ºäº†å¦‚ä½•é€šè¿‡ Node.js API ä½¿ç”¨ webpack-dev-serverã€‚</p>
<blockquote class="warning">
<p>ä½¿ç”¨ <code>WebpackDevServer</code> æ—¶ï¼Œä¸èƒ½ä½¿ç”¨ç¬¬äºŒä¸ª <code>compiler</code> å‚æ•°ï¼ˆä¸€ä¸ªå›è°ƒï¼‰ã€‚</p>
</blockquote>
<blockquote class="warning">
<p>è¯·æ³¨æ„ï¼Œå½“<a href="/configuration/configuration-types/#exporting-multiple-configurations">å¯¼å‡ºå¤šä¸ªé…ç½®å¯¹è±¡</a>æ—¶ï¼Œåªä¼šä½¿ç”¨ <code>devServer</code> çš„ç¬¬ä¸€ä¸ªé…ç½®é€‰é¡¹ï¼Œå¹¶å°†å…¶åº”ç”¨äºæ‰€æœ‰çš„é…ç½®å½“ä¸­ã€‚</p>
</blockquote>
<blockquote class="tip">
<p>å¦‚æœä½ ç¢°åˆ°äº†é—®é¢˜ï¼Œè¯·å°†è·¯ç”±å¯¼èˆªè‡³ <code>/webpack-dev-server</code> å°†ä¼šä¸ºä½ å±•ç¤ºæœåŠ¡æ–‡ä»¶çš„ä½ç½®ã€‚ä¾‹å¦‚ï¼š <code>http://localhost:9000/webpack-dev-server</code>ã€‚</p>
</blockquote>
<blockquote class="tip">
<p>å¦‚æœä½ éœ€è¦è¦æ‰‹åŠ¨é‡æ–°ç¼–è¯‘ <code>bundle</code>ï¼Œå°†è·¯ç”±å¯¼èˆªè‡³ <code>/invalidate</code> ä½¿å½“å‰ç¼–è¯‘çš„ <code>bundle</code> æ— æ•ˆï¼Œå¹¶é€šè¿‡ <a href="https://github.com/webpack/webpack-dev-middleware#invalidate">webpack-dev-middleware</a> ä¸ºä½ é‡æ–°ç¼–è¯‘ã€‚æ ¹æ®ä½ çš„é…ç½®ï¼ŒURL å¯èƒ½çœ‹èµ·æ¥åƒ <code>http://localhost:9000/invalidate</code>ã€‚</p>
</blockquote>
<blockquote class="tip">
<p>å½“å¯åŠ¨æœ¬åœ°æœåŠ¡çš„æ—¶å€™ HTML æ¨¡æ¿æ˜¯å¿…é¡»æä¾›çš„ï¼Œé€šå¸¸æ˜¯ <code>index.html</code>ã€‚ç¡®ä¿å°†è„šæœ¬å¼•ç”¨æ·»åŠ åˆ° HTML ä¸­ï¼Œwebpack-dev-server ä¸ä¼šè‡ªåŠ¨æ³¨å…¥å®ƒä»¬ã€‚</p>
</blockquote>
<h2 id="devserverafter"><code>devServer.after</code> <a href="#devserverafter" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>function (app, server, compiler)</code></p>
<p>æä¾›è‡ªå®šä¹‰ä¸­é—´ä»¶ï¼Œå½“ <code>devServer</code> æœåŠ¡å™¨å†…éƒ¨çš„
æ‰€æœ‰ä¸­é—´ä»¶æ‰§è¡Œå®Œæˆä¹‹åæ‰§è¡Œ</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    after<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> server<span class="token punctuation">,</span> compiler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// do fancy stuff</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserverallowedhosts"><code>devServer.allowedHosts</code> <a href="#devserverallowedhosts" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>[string]</code></p>
<p>è¯¥é€‰é¡¹å…è®¸å°†å…è®¸è®¿é—®å¼€å‘æœåŠ¡å™¨çš„æœåŠ¡åˆ—å…¥ç™½åå•ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    allowedHosts<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">'host.com'</span><span class="token punctuation">,</span>
      <span class="token string">'subdomain.host.com'</span><span class="token punctuation">,</span>
      <span class="token string">'subdomain2.host.com'</span><span class="token punctuation">,</span>
      <span class="token string">'host2.com'</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>æ¨¡ä»¿ django çš„<code>ALLOWED_HOSTS</code>ï¼Œç”¨ <code>.</code> ä½œä¸ºå­åŸŸé€šé…ç¬¦ã€‚<code>.host.com</code> ä¼šä¸ <code>host.com</code>ï¼Œ<code>www.host.com</code> ä»¥åŠ <code>host.com</code> ç­‰å…¶ä»–ä»»ä½•å…¶ä»–å­åŸŸåŒ¹é…ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// this achieves the same effect as the first example</span>
    <span class="token comment">// with the bonus of not having to update your config</span>
    <span class="token comment">// if new subdomains need to access the dev server</span>
    allowedHosts<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">'.host.com'</span><span class="token punctuation">,</span>
      <span class="token string">'host2.com'</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>è¦å°†è¿™ä¸ªé€‰é¡¹ä¸ CLI ä¸€èµ·ä½¿ç”¨ï¼Œè¯·å°† <code>--allowed-hosts</code> çš„è½¬æ¢ä¸ºç”¨é€—å·åˆ†å‰²çš„å­—ç¬¦ä¸²å¹¶ä¼ å…¥ã€‚</p>
<pre><code class="hljs language-bash">webpack-dev-server --entry /entry/file --output-path /output/path --allowed-hosts .host.com,host2.com</code></pre>
<h2 id="devserverbefore"><code>devServer.before</code> <a href="#devserverbefore" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>function (app, server, compiler)</code></p>
<p>æä¾›äº†ä¸€ä¸ªåœ¨ <code>devServer</code> å†…éƒ¨çš„
æ‰€æœ‰ä¸­é—´ä»¶æ‰§è¡Œä¹‹å‰çš„è‡ªå®šä¹‰æ‰§è¡Œå‡½æ•°ã€‚
ä¾‹ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    before<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> server<span class="token punctuation">,</span> compiler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/some/path'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> custom<span class="token punctuation">:</span> <span class="token string">'response'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserverbonjour"><code>devServer.bonjour</code> <a href="#devserverbonjour" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code></p>
<p>è¿™ä¸ªé…ç½®ç”¨äºåœ¨å¯åŠ¨æ—¶é€šè¿‡ <a href="http://www.zeroconf.org/">ZeroConf</a> ç½‘ç»œå¹¿æ’­ä½ çš„å¼€å‘æœåŠ¡å™¨ï¼Œç”¨äºæœåŠ¡å‘ç°ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    bonjour<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --bonjour</code></pre>
<h2 id="devserverclientloglevel"><code>devServer.clientLogLevel</code> <a href="#devserverclientloglevel" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'info': 'silent' | 'trace' | 'debug' | 'info' | 'warn' | 'error' | 'none' | 'warning'</code></p>
<blockquote class="warning">
<p><code>none</code> å’Œ <code>warning</code> å°†åœ¨ä¸‹ä¸€ä¸ªä¸»è¦ç‰ˆæœ¬ä¸­å¼ƒç”¨ã€‚</p>
</blockquote>
<p>å½“ä½¿ç”¨ <em>inline mode</em> æ—¶ï¼Œ DevTools ä¼šè¾“å‡ºä¿¡æ¯ï¼Œä¾‹å¦‚ï¼šé‡æ–°åŠ è½½ä¹‹å‰ï¼Œå‡ºé”™ä¹‹å‰æˆ– <a href="/concepts/hot-module-replacement/">Hot Module Replacement</a> è¢«å¼€å¯æ—¶ã€‚</p>
<p><code>devServer.clientLogLevel</code> å¯èƒ½ä¼šå¯¼è‡´æ—¥å¿—è¿‡äºå†—ä½™ï¼Œä½ å¯ä»¥é€šè¿‡å°†å…¶è®¾ç½®ä¸º <code>'silent'</code> æ¥å…³é—­æ—¥å¿—ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    clientLogLevel<span class="token punctuation">:</span> <span class="token string">'silent'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --client-log-level silent</code></pre>
<h2 id="devservercolor---cli-only"><code>devServer.color</code> - CLI only <a href="#devservercolor---cli-only" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>å¼€å¯/å…³é—­å‘½ä»¤è¡Œé¢œè‰²æ˜¾ç¤ºã€‚</p>
<pre><code class="hljs language-bash">webpack-dev-server --color</code></pre>
<h2 id="devservercompress"><code>devServer.compress</code> <a href="#devservercompress" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>ä¸ºæ¯ä¸ªé™æ€æ–‡ä»¶å¼€å¯ <a href="https://betterexplained.com/articles/how-to-optimize-your-site-with-gzip-compression/">gzip compression</a>ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    compress<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --compress</code></pre>
<h2 id="devservercontentbase"><code>devServer.contentBase</code> <a href="#devservercontentbase" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean: false</code> <code>string</code> <code>[string]</code> <code>number</code></p>
<p>å‘Šè¯‰æœåŠ¡å™¨å†…å®¹çš„æ¥æºã€‚ä»…åœ¨éœ€è¦æä¾›é™æ€æ–‡ä»¶æ—¶æ‰è¿›è¡Œé…ç½®ã€‚<a href="#devserverpublicpath-"><code>devServer.publicPath</code></a> å°†ç”¨äºç¡®å®š bundle çš„æ¥æºï¼Œå¹¶å…·æœ‰ä¼˜å…ˆçº§é«˜äº contentBaseã€‚</p>
<blockquote class="tip">
<p>å»ºè®®ä½¿ç”¨ç»å¯¹è·¯å¾„ã€‚</p>
</blockquote>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒå°†ä½¿ç”¨å½“å‰çš„å·¥ä½œç›®å½•æ¥æä¾›å†…å®¹ã€‚ è¦ç¦ç”¨ <code>contentBase</code> ï¼Œè¯·å°†å…¶è®¾ç½®ä¸º <code>false</code> ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    contentBase<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'public'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å¦‚æœæƒ³ä½¿ç”¨ <a href="#devservercontentbasepublicpath"><code>contentBasePublicPath</code></a> åœ¨å¤šä¸ª URL ä¸Šæä¾›é™æ€å†…å®¹ï¼Œä¹Ÿå¯ä»¥ä»å¤šä¸ªç›®å½•æä¾›æœåŠ¡ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    contentBase<span class="token punctuation">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'public'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'assets'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --content-base /path/to/content/dir</code></pre>
<h2 id="devservercontentbasepublicpath"><code>devServer.contentBasePublicPath</code> <a href="#devservercontentbasepublicpath" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = '/'</code> <code>[string]</code></p>
<p>å‘Šè¯‰æœåŠ¡å™¨ä½¿ç”¨å“ªä¸ª URL æœåŠ¡ <code>devServer.contentBase</code> é™æ€å†…å®¹ã€‚å¦‚æœæœ‰ä¸€ä¸ªæ–‡ä»¶ <code>assets/manifest.json</code> ï¼Œå®ƒå°†åœ¨ <code>/serve-content-base-at-this-url/manifest.json</code> ä¸­æä¾›ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    contentBase<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'assets'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    contentBasePublicPath<span class="token punctuation">:</span> <span class="token string">'/serve-content-base-at-this-url'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å¦‚æœåœ¨ <a href="#devservercontentbase"><code>contentBase</code></a> ä¸­è®¾ç½®äº†å¤šä¸ªé™æ€æ–‡ä»¶å¤¹ï¼Œè¯·æä¾›ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    contentBase<span class="token punctuation">:</span> <span class="token punctuation">[</span>contentBasePublic<span class="token punctuation">,</span> contentBaseOther<span class="token punctuation">]</span><span class="token punctuation">,</span>
    contentBasePublicPath<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      contentBasePublicPath<span class="token punctuation">,</span>
      contentBasePublicOtherPath
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserverdisablehostcheck"><code>devServer.disableHostCheck</code> <a href="#devserverdisablehostcheck" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>å½“å°†æ­¤é¡¹é…ç½®è®¾ç½®ä¸º <code>true</code> æ—¶ï¼Œå°†ä¼šè·³è¿‡ host æ£€æŸ¥. <strong>è¿™æ˜¯ä¸æ¨èçš„</strong> å› ä¸ºä¸æ£€æŸ¥hostçš„åº”ç”¨å®¹æ˜“å—åˆ°DNSé‡æ–°ç»‘å®šæ”»å‡»ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    disableHostCheck<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --disable-host-check</code></pre>
<h2 id="devserverfilename-"><code>devServer.filename</code> ğŸ”‘ <a href="#devserverfilename-" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>æ­¤é€‰é¡¹å¯ä»¥å‡å°‘åœ¨ <a href="#devserverlazy-">lazy æ¨¡å¼</a>ä¸­çš„ç¼–è¯‘æ“ä½œã€‚
é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨ <a href="#devserverlazy-">lazy æ¨¡å¼</a>ä¸­ï¼Œæ¯ä¸ªè¯·æ±‚éƒ½è§¦å‘æ–°çš„ç¼–è¯‘ã€‚ä½¿ç”¨ <code>filename</code> ä»…å½“è¯·æ±‚æŸä¸ªæ–‡ä»¶æ—¶æ‰å¯æ‰§è¡Œç¼–è¯‘ã€‚</p>
<p>å¦‚æœ <a href="/configuration/output/#outputfilename"><code>output.filename</code></a> è®¾ç½®ä¸º<code>'bundle.js'</code>ï¼Œåˆ™ä½¿ç”¨ <code>devServer.filename</code> å¦‚ä¸‹ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'bundle.js'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    lazy<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    filename<span class="token punctuation">:</span> <span class="token string">'bundle.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>ç°åœ¨å®ƒå°†ä»…åœ¨è¯·æ±‚ <code>/bundle.js</code> æ—¶ç¼–è¯‘è¯¥æ†ç»‘è½¯ä»¶ã€‚</p>
<blockquote class="tip">
<p>å½“ä¸ä½¿ç”¨ <a href="#devserverlazy-">lazy æ¨¡å¼</a>æ—¶ï¼Œ<code>filename</code> ä¸ä¼šç”Ÿæ•ˆ.</p>
</blockquote>
<h2 id="devserverheaders-"><code>devServer.headers</code> ğŸ”‘ <a href="#devserverheaders-" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code></p>
<p>ä¸ºæ‰€æœ‰è¯·æ±‚æ·»åŠ å“åº”æ ‡å¤´ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    headers<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">'X-Custom-Foo'</span><span class="token punctuation">:</span> <span class="token string">'bar'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserverhistoryapifallback"><code>devServer.historyApiFallback</code> <a href="#devserverhistoryapifallback" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code> <code>object</code></p>
<p>å½“ä½¿ç”¨ <a href="https://developer.mozilla.org/en-US/docs/Web/API/History">HTML5 History API</a> æ—¶, æ‰€æœ‰çš„ <code>404</code> è¯·æ±‚éƒ½ä¼šå“åº” <code>index.html</code> çš„å†…å®¹ã€‚ å°† <code>devServer.historyApiFallback</code> è®¾ä¸º <code>true</code>å¼€å¯ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    historyApiFallback<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡ä¼ é€’å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨é…ç½®é€‰é¡¹è¯¸å¦‚ <code>rewrites</code>:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    historyApiFallback<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      rewrites<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token regex">/^\/$/</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> <span class="token string">'/views/landing.html'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token regex">/^\/subpage/</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> <span class="token string">'/views/subpage.html'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token regex">/./</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> <span class="token string">'/views/404.html'</span> <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>åœ¨è·¯å¾„ä¸­ä½¿ç”¨ç‚¹æ—¶ï¼ˆä¸ Angular ç›¸åŒï¼‰ï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨ <code>disableDotRule</code>ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    historyApiFallback<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      disableDotRule<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --history-api-fallback</code></pre>
<p>æœ‰å…³æ›´å¤šé€‰é¡¹å’Œä¿¡æ¯ï¼Œè¯·å‚è§ <a href="https://github.com/bripkens/connect-history-api-fallback">connect-history-api-fallback</a> æ–‡æ¡£ã€‚</p>
<h2 id="devserverhost"><code>devServer.host</code> <a href="#devserverhost" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'localhost'</code></p>
<p>æŒ‡å®šè¦ä½¿ç”¨çš„ hostã€‚å¦‚æœä½ å¸Œæœ›æœåŠ¡å™¨å¯ä»å¤–éƒ¨è®¿é—®ï¼Œè¯·æŒ‰ä»¥ä¸‹æ–¹å¼è¿›è¡Œé…ç½®ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    host<span class="token punctuation">:</span> <span class="token string">'0.0.0.0'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --host 0.0.0.0</code></pre>
<h2 id="devserverhot"><code>devServer.hot</code> <a href="#devserverhot" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>å¯ç”¨ webpack çš„ <a href="/concepts/hot-module-replacement/">Hot Module Replacement</a> åŠŸèƒ½ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    hot<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>è¯·æ³¨æ„ï¼Œè¦å®Œå…¨å¯ç”¨ HMR ï¼Œéœ€è¦ <a href="/plugins/hot-module-replacement-plugin/"><code>webpack.HotModuleReplacementPlugin</code></a>ã€‚å¦‚æœä½¿ç”¨ --hot é€‰é¡¹å¯åŠ¨ <code>webpack</code> æˆ– <code>webpack-dev-server</code>ï¼Œè¯¥æ’ä»¶å°†è‡ªåŠ¨æ·»åŠ ï¼Œå› æ­¤ä½ å¯èƒ½ä¸éœ€è¦å°†å…¶æ·»åŠ åˆ° <code>webpack.config.js</code> ä¸­ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ <a href="/concepts/hot-module-replacement/">HMR æ¦‚è§ˆç« èŠ‚</a>ã€‚</p>
</blockquote>
<h2 id="devserverhotonly"><code>devServer.hotOnly</code> <a href="#devserverhotonly" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>å¯ç”¨çƒ­æ¨¡å—æ›¿æ¢ï¼ˆè¯·å‚è§ <a href="#devserverhot"><code>devServer.hot</code></a> ï¼‰ï¼Œè€Œæ— éœ€é¡µé¢åˆ·æ–°ä½œä¸ºæ„å»ºå¤±è´¥æ—¶çš„å›é€€ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    hotOnly<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --hot-only</code></pre>
<h2 id="devserverhttp2"><code>devServer.http2</code> <a href="#devserverhttp2" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code></p>
<p>ä½¿ç”¨ <a href="https://www.npmjs.com/package/spdy">spdy</a> æä¾› HTTP/2 æœåŠ¡ã€‚å¯¹äº Node 10.0.0 åŠæ›´é«˜ç‰ˆæœ¬ï¼Œæ­¤é€‰é¡¹å°†è¢«å¿½ç•¥ï¼Œå› ä¸º spdy åœ¨è¿™äº›ç‰ˆæœ¬ä¸­å·²è¢«ç ´åã€‚ä¸€æ—¦ <a href="https://expressjs.com/">Express</a> æ”¯æŒï¼Œå¼€å‘æœåŠ¡å™¨å°†è¿ç§»åˆ° Node å†…ç½®çš„ HTTP/2ã€‚</p>
<p>å¦‚æœæœªå°† <code>devServer.http2</code> æ˜¾å¼è®¾ç½®ä¸º false ï¼Œåˆ™åœ¨å¯ç”¨ <a href="#devserverhttps"><code>devServer.https</code></a> æ—¶å°†é»˜è®¤ä¸º true ã€‚ å¦‚æœå¯ç”¨ <code>devServer.http2</code>ï¼Œä½†æœåŠ¡å™¨æ— æ³•é€šè¿‡ HTTP/2 æä¾›æœåŠ¡ï¼Œåˆ™æœåŠ¡å™¨é»˜è®¤ä¸º HTTPSã€‚</p>
<p>HTTP/2 å¸¦æœ‰è‡ªç­¾åè¯ä¹¦ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    http2<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡ <a href="#devserverhttps">https</a> é…ç½®ä½ è‡ªå·±çš„è¯ä¹¦æ–‡ä»¶:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    http2<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    https<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      key<span class="token punctuation">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'/path/to/server.key'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      cert<span class="token punctuation">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'/path/to/server.crt'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      ca<span class="token punctuation">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'/path/to/ca.pem'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --http2</code></pre>
<p>è¦é€šè¿‡CLIä½¿ç”¨è‡ªå·±çš„è¯ä¹¦ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹é€‰é¡¹</p>
<pre><code class="hljs language-bash">webpack-dev-server --http2 --key /path/to/server.key --cert /path/to/server.crt --cacert /path/to/ca.pem</code></pre>
<h2 id="devserverhttps"><code>devServer.https</code> <a href="#devserverhttps" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code> <code>object</code></p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¼€å‘æœåŠ¡å™¨å°†é€šè¿‡HTTPæä¾›æœåŠ¡ã€‚å¯ä»¥é€‰æ‹©ä½¿ç”¨HTTPSé€šè¿‡HTTP/2æä¾›æœåŠ¡ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    https<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>æ ¹æ®ä¸Šè¿°é…ç½®ï¼Œå°†ä½¿ç”¨è‡ªç­¾åè¯ä¹¦ï¼Œä½†æ˜¯ä½ ä¹Ÿå¯ä»¥æä¾›è‡ªå·±çš„è¯ä¹¦ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    https<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    key<span class="token punctuation">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'/path/to/server.key'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    cert<span class="token punctuation">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'/path/to/server.crt'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    ca<span class="token punctuation">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'/path/to/ca.pem'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>è¯¥å¯¹è±¡ç›´æ¥ä¼ é€’åˆ° Node.js HTTPS æ¨¡å—ï¼Œå› æ­¤è¯·å‚é˜… <a href="https://nodejs.org/api/https.html">HTTPS documentation</a> ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚</p>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --https</code></pre>
<p>è¦é€šè¿‡ CLI ä½¿ç”¨è‡ªå·±çš„è¯ä¹¦ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹é€‰é¡¹</p>
<pre><code class="hljs language-bash">webpack-dev-server --https --key /path/to/server.key --cert /path/to/server.crt --cacert /path/to/ca.pem</code></pre>
<h2 id="devserverindex"><code>devServer.index</code> <a href="#devserverindex" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>è®¾ç½® index æ–‡ä»¶çš„æ–‡ä»¶åã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    index<span class="token punctuation">:</span> <span class="token string">'index.html'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserverinfo---cli-only"><code>devServer.info</code> - CLI only <a href="#devserverinfo---cli-only" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>è¾“å‡º cli ä¿¡æ¯ã€‚é»˜è®¤æƒ…å†µä¸‹å¯ç”¨ã€‚</p>
<pre><code class="hljs language-bash">webpack-dev-server --info<span class="token operator">=</span>false</code></pre>
<h2 id="devserverinjectclient"><code>devServer.injectClient</code> <a href="#devserverinjectclient" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code> <code>function (compilerConfig) => boolean</code></p>
<p>å‘ <code>devServer</code> æ³¨å…¥ä¸€ä¸ªå®¢æˆ·ç«¯ã€‚è®¾ç½® <code>devServer.injectClient</code> å€¼ä¸º <code>true</code> æ—¶ï¼Œä¼šå‘æœåŠ¡æ³¨å…¥å®¢æˆ·ç«¯ã€‚ä¹Ÿå¯ä»¥è®¾ç½®æ¡ä»¶æ³¨å…¥å‡½æ•°ï¼š</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    injectClient<span class="token punctuation">:</span> <span class="token punctuation">(</span>compilerConfig<span class="token punctuation">)</span> <span class="token operator">=></span> compilerConfig<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'only-include'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserverinjecthot"><code>devServer.injectHot</code> <a href="#devserverinjecthot" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code> <code>function (compilerConfig) => boolean</code></p>
<p>å‘Šè¯‰ <code>devServer</code> æ³¨å…¥çƒ­æ¨¡å—æ›¿æ¢ã€‚è®¾ç½® <code>devServer.injectHot</code> å€¼ä¸º <code>true</code> æ—¶ï¼Œä¼šå§‹ç»ˆæ³¨å…¥ã€‚ä¹Ÿå¯ä»¥è®¾ç½®æ¡ä»¶æ³¨å…¥å‡½æ•°ï¼š</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    hot<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    injectHot<span class="token punctuation">:</span> <span class="token punctuation">(</span>compilerConfig<span class="token punctuation">)</span> <span class="token operator">=></span> compilerConfig<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'only-include'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p>ä½¿ç”¨å‰è¯·ç¡®ä¿ <a href="#devserverhot"><code>devServer.hot</code></a> çš„å€¼è®¾ç½®ä¸º <code>true</code>ï¼Œå› ä¸º <code>devServer.injectHot</code> ä»…é€‚ç”¨äº HMRã€‚</p>
</blockquote>
<h2 id="devserverinline"><code>devServer.inline</code> <a href="#devserverinline" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>åœ¨å¼€å‘æœåŠ¡å™¨çš„ä¸¤ç§ä¸åŒæ¨¡å¼ä¹‹é—´åˆ‡æ¢ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œåº”ç”¨ç¨‹åºå°†å¯ç”¨ <strong>inlineæ¨¡å¼</strong>ã€‚è¿™æ„å‘³ç€å°†åœ¨ bundle ä¸­æ’å…¥è„šæœ¬ä»¥è¿›è¡Œå®æ—¶é‡æ–°åŠ è½½ï¼Œå¹¶ä¸”æ„å»ºæ¶ˆæ¯å°†å‡ºç°åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­ã€‚</p>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨ <strong>iframeæ¨¡å¼</strong>ï¼Œå®ƒåœ¨é€šçŸ¥æ ä¸‹ä½¿ç”¨å¸¦æœ‰æœ‰å…³æ„å»ºæ¶ˆæ¯çš„<code>&#x3C;iframe></code>ã€‚ åˆ‡æ¢åˆ° <strong>iframeæ¨¡å¼</strong>ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    inline<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --inline<span class="token operator">=</span>false</code></pre>
<blockquote class="tip">
<p>å¯¹äº <a href="/plugins/hot-module-replacement-plugin/">Hot Module Replacement</a> ï¼Œå»ºè®®ä½¿ç”¨ä¸²è”æ¨¡å¼ï¼Œå› ä¸ºå®ƒåŒ…å«æ¥è‡ª websocket çš„ HMR è§¦å‘å™¨ã€‚ è½®è¯¢æ¨¡å¼å¯ä»¥ç”¨ä½œæ›¿ä»£æ–¹æ³•ï¼Œä½†éœ€è¦é™„åŠ çš„å…¥å£ç‚¹<code>'webpack/hot/poll?1000'</code>ã€‚</p>
</blockquote>
<h2 id="devserverlazy-"><code>devServer.lazy</code> ğŸ”‘ <a href="#devserverlazy-" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>å¯ç”¨ <code>devServer.lazy</code> æ—¶ï¼Œå¼€å‘æœåŠ¡å™¨ä»…åœ¨æ”¶åˆ°è¯·æ±‚æ—¶æ‰ç¼–è¯‘æ†ç»‘è½¯ä»¶ã€‚ è¿™æ„å‘³ç€webpackå°†ä¸ä¼šç›‘è§†ä»»ä½•æ–‡ä»¶æ›´æ”¹ã€‚ æˆ‘ä»¬ç§°è¿™ç§æ–¹å¼ä¸ºâ€œæ‡’æƒ°æ¨¡å¼(<strong>lazy mode</strong>)â€ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    lazy<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --lazy</code></pre>
<blockquote class="tip">
<p><a href="#devserverwatchoptions-"><code>watchOptions</code></a> ä¸ä¼šæœ‰ä»»ä½•å‰¯ä½œç”¨å½“ä½¿ç”¨ <strong>lazy mode</strong> æ—¶ã€‚</p>
</blockquote>
<blockquote class="tip">
<p>å¦‚æœæ˜¯é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨, è¯·ç¡®ä¿ <strong>inline mode</strong> å¤„äºç¦ç”¨çŠ¶æ€ã€‚</p>
</blockquote>
<h2 id="devserverlivereload"><code>devServer.liveReload</code> <a href="#devserverlivereload" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = true</code></p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ£€æµ‹åˆ°æ–‡ä»¶æ›´æ”¹æ—¶ï¼Œå¼€å‘æœåŠ¡å™¨å°†é‡æ–°åŠ è½½/åˆ·æ–°é¡µé¢ã€‚ å¿…é¡»ç¦ç”¨ <a href="#devserverhot"><code>devServer.hot</code></a> é€‰é¡¹æˆ–å¿…é¡»å¯ç”¨ <a href="#devserverwatchcontentbase"><code>devServer.watchContentBase</code></a> é€‰é¡¹ï¼Œæ‰èƒ½ä½¿ liveReload ç”Ÿæ•ˆã€‚ é€šè¿‡å°†å…¶è®¾ç½®ä¸º false æ¥ç¦ç”¨ devServer.liveReloadï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    liveReload<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --no-live-reload</code></pre>
<h2 id="devservermimetypes-"><code>devServer.mimeTypes</code> ğŸ”‘ <a href="#devservermimetypes-" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code></p>
<p>å…è®¸ dev-server æ³¨å†Œè‡ªå®šä¹‰çš„mimeç±»å‹ã€‚
è¯¥å¯¹è±¡è¢«ä¼ é€’åˆ°åº•å±‚çš„ <code>webpack-dev-middleware</code>ã€‚
æœ‰å…³ä½¿ç”¨è¯´æ˜ï¼Œè¯·å‚è§ <a href="https://github.com/webpack/webpack-dev-middleware#mimetypes">documentation</a> ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    mimeTypes<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">'text/html'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'phtml'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devservernoinfo-"><code>devServer.noInfo</code> ğŸ”‘ <a href="#devservernoinfo-" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code></p>
<p>å‘Šè¯‰å¼€å‘æœåŠ¡å™¨ç¦æ­¢æ˜¾ç¤ºè¯¸å¦‚ Webpack æ†ç»‘åŒ…ä¿¡æ¯ä¹‹ç±»çš„æ¶ˆæ¯ã€‚ é”™è¯¯å’Œè­¦å‘Šä»å°†æ˜¾ç¤ºã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    noInfo<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserveronlistening"><code>devServer.onListening</code> <a href="#devserveronlistening" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>function (server)</code></p>
<p>æä¾›ä¸€ä¸ªé€‰é¡¹ï¼Œå½“ <code>webpack-dev-server</code> å¼€å§‹ç›‘å¬ç«¯å£ä¸Šçš„è¿æ¥æ—¶ï¼Œæ‰§è¡Œè‡ªå®šä¹‰åŠŸèƒ½ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    onListening<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>server<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> port <span class="token operator">=</span> server<span class="token punctuation">.</span>listeningApp<span class="token punctuation">.</span><span class="token function">address</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>port<span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Listening on port:'</span><span class="token punctuation">,</span> port<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserveropen"><code>devServer.open</code> <a href="#devserveropen" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code> <code>string</code> <code>object</code></p>
<p>å‘Šè¯‰ dev-server åœ¨æœåŠ¡å™¨å¯åŠ¨åæ‰“å¼€æµè§ˆå™¨ã€‚ å°†å…¶è®¾ç½®ä¸º <code>true</code> ä»¥æ‰“å¼€é»˜è®¤æµè§ˆå™¨ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    open<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>æä¾›è¦ä½¿ç”¨çš„æµè§ˆå™¨åç§°ï¼Œè€Œä¸æ˜¯é»˜è®¤åç§°ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    open<span class="token punctuation">:</span> <span class="token string">'Google Chrome'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å¦‚æœè¦åœ¨æ‰“å¼€æµè§ˆå™¨æ—¶ä½¿ç”¨æ ‡å¿—ï¼Œä¾‹å¦‚æ‰“å¼€éšèº«çª—å£ï¼ˆ <code>--incognito</code> æ ‡å¿—ï¼‰ï¼Œåˆ™å¯ä»¥å°† <code>open</code> è®¾ç½®ä¸ºå¯¹è±¡ã€‚ è¯¥å¯¹è±¡æ¥å—æ‰€æœ‰ <a href="https://www.npmjs.com/package/open">open</a> é€‰é¡¹ï¼Œ<code>app</code> å±æ€§å¿…é¡»æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚ æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¿…é¡»æ˜¯æµè§ˆå™¨åç§°ï¼Œå…¶ä»–åé¢çš„å…ƒç´ æ˜¯è¦ä½¿ç”¨çš„æ ‡å¿—ã€‚ ä¾‹å¦‚ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    open<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      app<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'Google Chrome'</span><span class="token punctuation">,</span> <span class="token string">'--incognito'</span><span class="token punctuation">,</span> <span class="token string">'--other-flag'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --open <span class="token string">'Google Chrome'</span></code></pre>
<blockquote class="tip">
<p>æµè§ˆå™¨åº”ç”¨ç¨‹åºåç§°å–å†³äºå¹³å°ã€‚ ä¸è¦åœ¨å¯é‡ç”¨æ¨¡å—ä¸­å¯¹å…¶è¿›è¡Œç¡¬ç¼–ç ã€‚ ä¾‹å¦‚ï¼Œ<code>'Chrome'</code> åœ¨macOSä¸Šæ˜¯ <code>'Google Chrome'</code> ï¼Œåœ¨Linuxä¸Šæ˜¯ <code>'Google Chrome'</code> åœ¨Windowsä¸Šæ˜¯ <code>'Chrome'</code> ã€‚</p>
</blockquote>
<h2 id="devserveropenpage"><code>devServer.openPage</code> <a href="#devserveropenpage" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code> <code>[string]</code></p>
<p>æŒ‡å®šæ‰“å¼€æµè§ˆå™¨æ—¶è¦æµè§ˆçš„é¡µé¢ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    openPage<span class="token punctuation">:</span> <span class="token string">'/different/page'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --open-page <span class="token string">"/different/page"</span></code></pre>
<p>å¦‚æœå¸Œæœ›æŒ‡å®šå¤šä¸ªé¡µé¢åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    openPage<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'/different/page1'</span><span class="token punctuation">,</span> <span class="token string">'/different/page2'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --open-page <span class="token string">"/different/page1,/different/page2"</span></code></pre>
<h2 id="devserveroverlay"><code>devServer.overlay</code> <a href="#devserveroverlay" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code> <code>object: { errors boolean = false, warnings boolean = false }</code></p>
<p>å‡ºç°ç¼–è¯‘å™¨é”™è¯¯æˆ–è­¦å‘Šæ—¶ï¼Œåœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºå…¨å±è¦†ç›–ã€‚ å¦‚æœåªæƒ³æ˜¾ç¤ºç¼–è¯‘å™¨é”™è¯¯ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    overlay<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å¦‚æœè¦æ˜¾ç¤ºè­¦å‘Šå’Œé”™è¯¯ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    overlay<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      warnings<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      errors<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserverpfx"><code>devServer.pfx</code> <a href="#devserverpfx" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>é€šè¿‡CLIä½¿ç”¨æ—¶ï¼Œæ˜¯SSL .pfxæ–‡ä»¶çš„è·¯å¾„ã€‚ å¦‚æœåœ¨é€‰é¡¹ä¸­ä½¿ç”¨ï¼Œåˆ™å®ƒåº”è¯¥æ˜¯.pfxæ–‡ä»¶çš„å­—èŠ‚æµã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    pfx<span class="token punctuation">:</span> <span class="token string">'/path/to/file.pfx'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --pfx /path/to/file.pfx</code></pre>
<h2 id="devserverpfxpassphrase"><code>devServer.pfxPassphrase</code> <a href="#devserverpfxpassphrase" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>å°†å¯†ç çŸ­è¯­è½¬æ¢ä¸ºSSL PFXæ–‡ä»¶ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    pfxPassphrase<span class="token punctuation">:</span> <span class="token string">'passphrase'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --pfx-passphrase passphrase</code></pre>
<h2 id="devserverport"><code>devServer.port</code> <a href="#devserverport" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>number</code></p>
<p>æŒ‡å®šç«¯å£å·ä»¥ä¾¦å¬ä»¥ä¸‹è¯·æ±‚ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    port<span class="token punctuation">:</span> <span class="token number">8080</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --port 8080</code></pre>
<h2 id="devserverproxy"><code>devServer.proxy</code> <a href="#devserverproxy" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code> <code>[object, function]</code></p>
<p>å½“æ‹¥æœ‰å•ç‹¬çš„APIåç«¯å¼€å‘æœåŠ¡å™¨å¹¶ä¸”å¸Œæœ›åœ¨åŒä¸€åŸŸä¸Šå‘é€APIè¯·æ±‚æ—¶ï¼Œä»£ç†æŸäº›URLå¯èƒ½ä¼šå¾ˆæœ‰ç”¨ã€‚</p>
<p>å¼€å‘æœåŠ¡å™¨ä½¿ç”¨åŠŸèƒ½å¼ºå¤§çš„ <a href="https://github.com/chimurai/http-proxy-middleware">http-proxy-middleware</a> è½¯ä»¶åŒ…ã€‚ æŸ¥çœ‹å…¶ <a href="https://github.com/chimurai/http-proxy-middleware#options">documentation</a> äº†è§£æ›´å¤šé«˜çº§ç”¨æ³•ã€‚ è¯·æ³¨æ„ï¼Œ<code>http-proxy-middleware</code> çš„æŸäº›åŠŸèƒ½ä¸éœ€è¦<code>target</code>é”®ï¼Œä¾‹å¦‚ å®ƒçš„ <code>router</code> åŠŸèƒ½ï¼Œä½†æ˜¯ä»ç„¶éœ€è¦åœ¨æ­¤å¤„çš„é…ç½®ä¸­åŒ…å«<code>target</code>ï¼Œå¦åˆ™<code>webpack-dev-server</code> ä¸ä¼šå°†å…¶ä¼ é€’ç»™ <code>http-proxy-middleware</code>ï¼‰ã€‚</p>
<p>ä½¿ç”¨åç«¯åœ¨ <code>localhost:3000</code> ä¸Šï¼Œå¯ä»¥ä½¿ç”¨å®ƒæ¥å¯ç”¨ä»£ç†ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    proxy<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">'/api'</span><span class="token punctuation">:</span> <span class="token string">'http://localhost:3000'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>ç°åœ¨ï¼Œå¯¹ <code>/api/users</code> çš„è¯·æ±‚ä¼šå°†è¯·æ±‚ä»£ç†åˆ° <code>http://localhost:3000/api/users</code>ã€‚</p>
<p>å¦‚æœä¸å¸Œæœ›ä¼ é€’<code>/api</code>ï¼Œåˆ™éœ€è¦é‡å†™è·¯å¾„ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    proxy<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">'/api'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        target<span class="token punctuation">:</span> <span class="token string">'http://localhost:3000'</span><span class="token punctuation">,</span>
        pathRewrite<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">'^/api'</span> <span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå°†ä¸æ¥å—åœ¨ HTTPS ä¸Šè¿è¡Œä¸”è¯ä¹¦æ— æ•ˆçš„åç«¯æœåŠ¡å™¨ã€‚ å¦‚æœéœ€è¦ï¼Œå¯ä»¥è¿™æ ·ä¿®æ”¹é…ç½®ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    proxy<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">'/api'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        target<span class="token punctuation">:</span> <span class="token string">'https://other-server.example.com'</span><span class="token punctuation">,</span>
        secure<span class="token punctuation">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>æœ‰æ—¶ä¸æƒ³ä»£ç†æ‰€æœ‰å†…å®¹ã€‚ å¯ä»¥åŸºäºå‡½æ•°çš„è¿”å›å€¼ç»•è¿‡ä»£ç†ã€‚</p>
<p>åœ¨è¯¥åŠŸèƒ½ä¸­ï¼Œå¯ä»¥è®¿é—®è¯·æ±‚ï¼Œå“åº”å’Œä»£ç†é€‰é¡¹ã€‚</p>
<ul>
<li>è¿”å› <code>null</code> æˆ– <code>undefined</code> ä»¥ç»§ç»­ä½¿ç”¨ä»£ç†å¤„ç†è¯·æ±‚ã€‚</li>
<li>è¿”å› <code>false</code> ä¼šä¸ºè¯·æ±‚äº§ç”Ÿ404é”™è¯¯ã€‚</li>
<li>è¿”å›æä¾›æœåŠ¡çš„è·¯å¾„ï¼Œè€Œä¸æ˜¯ç»§ç»­ä»£ç†è¯·æ±‚ã€‚</li>
</ul>
<p>ä¾‹å¦‚ã€‚ å¯¹äºæµè§ˆå™¨è¯·æ±‚ï¼Œæƒ³è¦æä¾› HTML é¡µé¢ï¼Œä½†æ˜¯å¯¹äº API è¯·æ±‚ï¼Œæƒ³è¦ä»£ç†å®ƒã€‚ å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    proxy<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">'/api'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        target<span class="token punctuation">:</span> <span class="token string">'http://localhost:3000'</span><span class="token punctuation">,</span>
        bypass<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> proxyOptions<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>accept<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Skipping proxy for browser request.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token string">'/index.html'</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å¦‚æœæƒ³å°†å¤šä¸ªç‰¹å®šè·¯å¾„ä»£ç†åˆ°åŒä¸€ç›®æ ‡ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªå¸¦æœ‰ <code>context</code> å±æ€§çš„å¯¹è±¡çš„æ•°ç»„ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    proxy<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      context<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'/auth'</span><span class="token punctuation">,</span> <span class="token string">'/api'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      target<span class="token punctuation">:</span> <span class="token string">'http://localhost:3000'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>è¯·æ³¨æ„ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸ä¼šä»£ç†å¯¹ root çš„è¯·æ±‚ã€‚ è¦å¯ç”¨æ ¹ä»£ç†ï¼Œåº”å°† <code>devServer.index</code> é€‰é¡¹æŒ‡å®šä¸ºè™šå‡å€¼ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    index<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// specify to enable root proxying</span>
    host<span class="token punctuation">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span>
    contentBase<span class="token punctuation">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span>
    proxy<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      context<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      target<span class="token punctuation">:</span> <span class="token string">'http://localhost:1234'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä»£ç†æ—¶ä¼šä¿ç•™ä¸»æœºå¤´çš„æ¥æºï¼Œå¯ä»¥å°† <code>changeOrigin</code> è®¾ç½®ä¸º <code>true</code> ä»¥è¦†ç›–æ­¤è¡Œä¸ºã€‚ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¾‹å¦‚ä½¿ç”¨ <a href="https://en.wikipedia.org/wiki/Virtual_hosting#Name-based">name-based virtual hosted sites</a>ï¼Œå®ƒå¾ˆæœ‰ç”¨ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    proxy<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">'/api'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        target<span class="token punctuation">:</span> <span class="token string">'http://localhost:3000'</span><span class="token punctuation">,</span>
        changeOrigin<span class="token punctuation">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserverprogress---cli-only"><code>devServer.progress</code> - CLI only <a href="#devserverprogress---cli-only" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>å°†è¿è¡Œè¿›åº¦è¾“å‡ºåˆ°æ§åˆ¶å°ã€‚</p>
<pre><code class="hljs language-bash">webpack-dev-server --progress</code></pre>
<h2 id="devserverpublic"><code>devServer.public</code> <a href="#devserverpublic" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>ä½¿ç”¨ <em>inlineæ¨¡å¼</em> å¹¶ä»£ç† dev-server æ—¶ï¼Œå†…è”å®¢æˆ·ç«¯è„šæœ¬å¹¶ä¸æ€»æ˜¯çŸ¥é“è¦è¿æ¥åˆ°å“ªé‡Œã€‚ å®ƒå°†å°è¯•åŸºäº <code>window.location</code> çŒœæµ‹æœåŠ¡å™¨çš„ URLï¼Œä½†æ˜¯å¦‚æœå¤±è´¥ï¼Œåˆ™éœ€è¦ä½¿ç”¨å®ƒã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¼€å‘æœåŠ¡å™¨ç”± nginx ä»£ç†ï¼Œå¹¶åœ¨ <code>myapp.test</code> ä¸Šå¯ç”¨ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span><span class="token punctuation">:</span> <span class="token string">'myapp.test:80'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --public myapp.test:80</code></pre>
<h2 id="devserverpublicpath-"><code>devServer.publicPath</code> ğŸ”‘ <a href="#devserverpublicpath-" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = '/'</code></p>
<p>æ†ç»‘çš„æ–‡ä»¶å°†åœ¨æ­¤è·¯å¾„ä¸‹çš„æµè§ˆå™¨ä¸­å¯ç”¨ã€‚</p>
<p>å‡è®¾æœåŠ¡å™¨åœ¨ <code>http://localhost:8080</code> ä¸‹è¿è¡Œï¼Œå¹¶ä¸” <a href="/configuration/output/#outputfilename"><code>output.filename</code></a> è®¾ç½®ä¸º <code>bundle.js</code>ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>devServer.publicPath</code> ä¸º <code>'/'</code>ï¼Œå› æ­¤çš„æ†ç»‘è½¯ä»¶å¯ä»¥ä½œä¸º <code>http://localhost:8080/bundle.js</code> è·å¾—ã€‚</p>
<p>æ›´æ”¹ <code>devServer.publicPath</code> ä»¥å°†æ†ç»‘è½¯ä»¶æ”¾åœ¨ç‰¹å®šç›®å½•ä¸‹ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    publicPath<span class="token punctuation">:</span> <span class="token string">'/assets/'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>è¯¥æ†ç»‘åŒ…ç°åœ¨å°†ä»¥ <code>http://localhost:8080/assets/bundle.js</code> çš„å½¢å¼æä¾›ã€‚</p>
<blockquote class="tip">
<p>ç¡®ä¿ <code>devServer.publicPath</code> å§‹ç»ˆä»¥æ­£æ–œæ å¼€å¤´å’Œç»“å°¾ã€‚</p>
</blockquote>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨å®Œæ•´çš„URLã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    publicPath<span class="token punctuation">:</span> <span class="token string">'http://localhost:8080/assets/'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>è¯¥æ†ç»‘åŒ…ç°åœ¨å°†ä»¥ <code>http://localhost:8080/assets/bundle.js</code> çš„å½¢å¼æä¾›ã€‚</p>
<blockquote class="tip">
<p>å»ºè®® <code>devServer.publicPath</code> ä¸ <a href="/configuration/output/#outputpublicpath"><code>output.publicPath</code></a> ç›¸åŒã€‚</p>
</blockquote>
<h2 id="devserverquiet-"><code>devServer.quiet</code> ğŸ”‘ <a href="#devserverquiet-" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>å¯ç”¨ <code>devServer.quiet</code> åï¼Œé™¤äº†åˆå§‹å¯åŠ¨ä¿¡æ¯å¤–ï¼Œä»€ä¹ˆéƒ½ä¸ä¼šå†™å…¥æ§åˆ¶å°ã€‚ è¿™ä¹Ÿæ„å‘³ç€æ¥è‡ªwebpackçš„é”™è¯¯æˆ–è­¦å‘Šæ˜¯ä¸å¯è§çš„ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    quiet<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --quiet</code></pre>
<h2 id="devserverserveindex"><code>devServer.serveIndex</code> <a href="#devserverserveindex" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = true</code></p>
<p>å‘Šè¯‰å¼€å‘æœåŠ¡å™¨å¯ç”¨åä½¿ç”¨ <a href="https://github.com/expressjs/serve-index"><code>serveIndex</code></a> ä¸­é—´ä»¶ã€‚</p>
<p><a href="https://github.com/expressjs/serve-index"><code>serveIndex</code></a> ä¸­é—´ä»¶ä¼šåœ¨æŸ¥çœ‹æ²¡æœ‰index.htmlæ–‡ä»¶çš„ç›®å½•æ—¶ç”Ÿæˆç›®å½•åˆ—è¡¨ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    serveIndex<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserversetup"><code>devServer.setup</code> <a href="#devserversetup" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>function (app, server)</code></p>
<blockquote class="warning">
<p>è¿™ä¸ªé€‰é¡¹å°†è¢« <a href="#devserverbefore"><code>devServer.before</code></a> æ‰€æ”¯æŒï¼Œå¹¶å°†åœ¨v3.0.0ä¸­åˆ é™¤ã€‚</p>
</blockquote>
<p>åœ¨è¿™é‡Œï¼Œå¯ä»¥è®¿é—® Express åº”ç”¨ç¨‹åºå¯¹è±¡ï¼Œå¹¶å‘å…¶ä¸­æ·»åŠ è‡ªå·±çš„è‡ªå®šä¹‰ä¸­é—´ä»¶ã€‚
ä¾‹å¦‚ï¼Œä¸ºæŸäº›è·¯å¾„å®šä¹‰è‡ªå®šä¹‰å¤„ç†ç¨‹åºï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    setup<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> server<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/some/path'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> custom<span class="token punctuation">:</span> <span class="token string">'response'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserversocket"><code>devServer.socket</code> <a href="#devserversocket" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>è¦ç›‘å¬çš„ Unix å¥—æ¥å­—ï¼ˆè€Œä¸æ˜¯ä¸»æœºï¼‰ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    socket<span class="token punctuation">:</span> <span class="token string">'socket'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --socket socket</code></pre>
<h2 id="devserversockhost"><code>devServer.sockHost</code> <a href="#devserversockhost" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>å‘Šè¯‰è¿æ¥åˆ° <code>devServer</code> çš„å®¢æˆ·ç«¯ä½¿ç”¨æä¾›çš„å¥—æ¥å­—ä¸»æœºã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    sockHost<span class="token punctuation">:</span> <span class="token string">'myhost.test'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserversockpath"><code>devServer.sockPath</code> <a href="#devserversockpath" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = '/sockjs-node'</code></p>
<p>è¿æ¥åˆ°é‡è£…æ’æ§½çš„è·¯å¾„ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    sockPath<span class="token punctuation">:</span> <span class="token string">'/socket'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --sockPath /socket</code></pre>
<h2 id="devserversockport"><code>devServer.sockPort</code> <a href="#devserversockport" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>number</code> <code>string</code></p>
<p>å‘Šè¯‰è¿æ¥åˆ°<code>devServer</code>çš„å®¢æˆ·ç«¯ä½¿ç”¨æä¾›çš„å¥—æ¥å­—ç«¯å£ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    sockPort<span class="token punctuation">:</span> <span class="token number">8080</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserverstaticoptions"><code>devServer.staticOptions</code> <a href="#devserverstaticoptions" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code></p>
<p>å¯ä»¥é…ç½®é«˜çº§é€‰é¡¹ä»¥ä» <code>contentBase</code> æä¾›é™æ€æ–‡ä»¶ã€‚ æœ‰å…³å¯èƒ½çš„é€‰é¡¹ï¼Œè¯·å‚è§ <a href="http://expressjs.com/en/4x/api.html#express.static">Express documentation</a>ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    staticOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      redirect<span class="token punctuation">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>è¿™ä»…åœ¨å°† <a href="#devservercontentbase"><code>devServer.contentBase</code></a> ç”¨ä½œå­—ç¬¦ä¸²æ—¶æœ‰æ•ˆã€‚</p>
</blockquote>
<h2 id="devserverstats-"><code>devServer.stats</code> ğŸ”‘ <a href="#devserverstats-" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string: 'none' | 'errors-only' | 'minimal' | 'normal' | 'verbose'</code> <code>object</code></p>
<p>æ­¤é€‰é¡¹ä½¿å¯ä»¥ç²¾ç¡®æ§åˆ¶æ˜¾ç¤ºå“ªäº›æ†ç»‘è½¯ä»¶ä¿¡æ¯ã€‚ å¦‚æœéœ€è¦ä¸€äº›æ†ç»‘è½¯ä»¶ä¿¡æ¯ï¼Œä½†åˆä¸æ˜¯å…¨éƒ¨ï¼Œè¿™å¯èƒ½æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¸­é—´ç«‹åœºã€‚</p>
<p>è¦ä»…æ˜¾ç¤ºæ†ç»‘è½¯ä»¶ä¸­çš„é”™è¯¯ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    stats<span class="token punctuation">:</span> <span class="token string">'errors-only'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ <a href="/configuration/stats/"><strong>stats documentation</strong></a>ã€‚</p>
<blockquote class="tip">
<p>ä¸ <code>quiet</code> æˆ– <code>noInfo</code> ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œè¯¥é€‰é¡¹æ— æ•ˆã€‚</p>
</blockquote>
<h2 id="devserverstdin---cli-only"><code>devServer.stdin</code> - CLI only <a href="#devserverstdin---cli-only" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>å½“stdinç»“æŸæ—¶ï¼Œæ­¤é€‰é¡¹å°†å…³é—­æœåŠ¡å™¨ã€‚</p>
<pre><code class="hljs language-bash">webpack-dev-server --stdin</code></pre>
<h2 id="devservertransportmode"><code>devServer.transportMode</code> <a href="#devservertransportmode" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'sockjs': 'sockjs' | 'ws'</code> <code>object</code></p>
<blockquote class="warning">
<p><code>transportMode</code> æ˜¯ä¸€ä¸ªå®éªŒæ€§é€‰é¡¹ï¼Œè¿™æ„å‘³ç€å…¶ç”¨æ³•å¯èƒ½ä¼šæ›´æ”¹ï¼Œè€Œä¸ä¼šå‘å‡ºè­¦å‘Šã€‚</p>
</blockquote>
<blockquote class="tip">
<p>å°†å­—ç¬¦ä¸²æä¾›ç»™d <code>devServer.transportMode</code> æ˜¯å°† <code>devServer.transportMode.client</code> å’Œ <code>devServer.transportMode.server</code> éƒ½è®¾ç½®ä¸ºç»™å®šå­—ç¬¦ä¸²å€¼çš„å¿«æ·æ–¹å¼ã€‚</p>
</blockquote>
<p>è¿™ä¸ªé€‰é¡¹å…è®¸æˆ‘ä»¬è¦ä¹ˆä¸ºå®¢æˆ·ç«¯/æœåŠ¡å™¨åˆ†åˆ«é€‰æ‹©å½“å‰çš„<code>devServer</code>ä¼ è¾“æ¨¡å¼ï¼Œè¦ä¹ˆæä¾›å®šåˆ¶çš„å®¢æˆ·ç«¯/æœåŠ¡å™¨å®ç°ã€‚ è¿™å…è®¸æŒ‡å®šæµè§ˆå™¨æˆ–å…¶ä»–å®¢æˆ·ç«¯å¦‚ä½•ä¸<code>devServer</code>é€šä¿¡ã€‚</p>
<p>å½“å‰çš„é»˜è®¤æ¨¡å¼æ˜¯ <a href="https://www.npmjs.com/package/sockjs"><code>'sockjs'</code></a>ã€‚ æ­¤æ¨¡å¼ä½¿ç”¨ <a href="https://github.com/sockjs/sockjs-node">SockJS-node</a> ä½œä¸ºæœåŠ¡å™¨ï¼Œå¹¶ä½¿ç”¨ <a href="https://www.npmjs.com/package/sockjs-client">SockJS-client</a> åœ¨å®¢æˆ·ç«¯ä¸Šã€‚</p>
<p>åœ¨ä¸‹ä¸€ä»£ä¸»è¦çš„ <code>devServer</code> ç‰ˆæœ¬ä¸­ï¼Œ<code>'ws'</code> æ¨¡å¼å°†æˆä¸ºé»˜è®¤æ¨¡å¼ã€‚ æ­¤æ¨¡å¼å°† <a href="https://www.npmjs.com/package/ws">ws</a> ç”¨ä½œæœåŠ¡å™¨ï¼Œå¹¶åœ¨å®¢æˆ·ç«¯ä¸Šä½¿ç”¨æœ¬æœº  WebSocketã€‚</p>
<p>Use <code>'ws'</code> mode:</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    transportMode<span class="token punctuation">:</span> <span class="token string">'ws'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>æä¾›è‡ªå®šä¹‰å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å®ç°æ—¶ï¼Œè¯·ç¡®ä¿å®ƒä»¬å½¼æ­¤å…¼å®¹ï¼Œä»¥æˆåŠŸè¿›è¡Œé€šä¿¡ã€‚</p>
</blockquote>
<h3 id="devservertransportmodeclient"><code>devServer.transportMode.client</code> <a href="#devservertransportmodeclient" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string</code> <code>path</code></p>
<p>è¦åˆ›å»ºè‡ªå®šä¹‰å®¢æˆ·ç«¯å®ç°ï¼Œè¯·åˆ›å»ºä¸€ä¸ªæ‰©å±•å¹¶ç»§æ‰¿ <a href="https://github.com/webpack/webpack-dev-server/blob/master/client-src/clients/BaseClient.js"><code>BaseClient</code></a>.</p>
<p>ä½¿ç”¨<code>CustomServer.js</code>å¯¼å‡ºçš„ç±»å®ç°è‡ªå®šä¹‰WebSocketå®¢æˆ·ç«¯å¹¶å…¼å®¹<code>ws</code>æœåŠ¡ç«¯ï¼š</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    transportMode<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      client<span class="token punctuation">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'./CustomClient'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      server<span class="token punctuation">:</span> <span class="token string">'ws'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="devservertransportmodeserver"><code>devServer.transportMode.server</code> <a href="#devservertransportmodeserver" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string</code> <code>path</code> <code>function</code></p>
<p>è¦åˆ›å»ºè‡ªå®šä¹‰æœåŠ¡å™¨å®ç°ï¼Œè¯·åˆ›å»ºä¸€ä¸ªæ‰©å±•å¹¶ç»§æ‰¿ <a href="https://github.com/webpack/webpack-dev-server/blob/master/lib/servers/BaseServer.js"><code>BaseServer</code></a>.</p>
<p>ä½¿ç”¨<code>CustomServer.js</code>å¯¼å‡ºçš„ç±»å®ç°è‡ªå®šä¹‰WebSocketæœåŠ¡å™¨å¹¶å…¼å®¹<code>ws</code>å®¢æˆ·ç«¯ï¼š</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    transportMode<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      client<span class="token punctuation">:</span> <span class="token string">'ws'</span><span class="token punctuation">,</span>
      server<span class="token punctuation">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'./CustomServer'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>ä½¿ç”¨ <code>CustomServer.js</code> å¯¼å‡ºçš„ç±»å®ç°è‡ªå®šä¹‰WebSocketæœåŠ¡å™¨å¹¶å…¼å®¹ <code>ws</code> å®¢æˆ·ç«¯ï¼š</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    transportMode<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      client<span class="token punctuation">:</span> <span class="token string">'ws'</span><span class="token punctuation">,</span>
      server<span class="token punctuation">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./CustomServer'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>ä½¿ç”¨è‡ªå®šä¹‰å…¼å®¹çš„WebSocketå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å®ç°ï¼š</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    transportMode<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      client<span class="token punctuation">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'./CustomClient'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      server<span class="token punctuation">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'./CustomServer'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserveruselocalip"><code>devServer.useLocalIp</code> <a href="#devserveruselocalip" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>æ­¤é€‰é¡¹ä½¿æµè§ˆå™¨å¯ä»¥ä½¿ç”¨çš„æœ¬åœ°IPæ‰“å¼€ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    useLocalIp<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --useLocalIp</code></pre>
<h2 id="devserverwatchcontentbase"><code>devServer.watchContentBase</code> <a href="#devserverwatchcontentbase" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>å‘Šè¯‰ dev-server ç›‘å¬ [<code>devServer.contentBase</code>]ï¼ˆï¼ƒdevservercontentbaseï¼‰é€‰é¡¹æä¾›çš„æ–‡ä»¶ã€‚ é»˜è®¤æƒ…å†µä¸‹ç¦ç”¨ã€‚ å¯ç”¨åï¼Œæ–‡ä»¶æ›´æ”¹å°†è§¦å‘æ•´ä¸ªé¡µé¢é‡æ–°åŠ è½½ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    watchContentBase<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p>
<pre><code class="hljs language-bash">webpack-dev-server --watch-content-base</code></pre>
<h2 id="devserverwatchoptions-"><code>devServer.watchOptions</code> ğŸ”‘ <a href="#devserverwatchoptions-" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code></p>
<p>æ§åˆ¶ç›‘å¬æ–‡ä»¶çš„é€‰é¡¹ã€‚</p>
<p>webpack ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿæ¥é€šçŸ¥æ–‡ä»¶æ›´æ”¹ã€‚ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿™ä¸èµ·ä½œç”¨ã€‚ ä¾‹å¦‚ï¼Œä½¿ç”¨ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿï¼ˆNFSï¼‰æ—¶ã€‚ <a href="https://www.vagrantup.com/">Vagrant</a> ä¹Ÿæœ‰å¾ˆå¤šé—®é¢˜ã€‚ åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œè¯·ä½¿ç”¨è½®è¯¢ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    watchOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      poll<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å¦‚æœè¿™å¯¹æ–‡ä»¶ç³»ç»Ÿè´Ÿè·å¤ªé‡ï¼Œå¯ä»¥å°†å…¶è®¾ç½®ä¸ºæ•´æ•°ç”¨ä»¥è°ƒæ•´è½®è¯¢é—´éš”ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ã€‚</p>
<p>æŸ¥é˜… <a href="/configuration/watch/">WatchOptions</a> äº†è§£æ›´å¤šã€‚</p>
<h2 id="devserverwritetodisk-"><code>devServer.writeToDisk</code> ğŸ”‘ <a href="#devserverwritetodisk-" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code> <code>function (filePath) => boolean</code></p>
<p>å‘Šè¯‰ <code>devServer</code> å°†äº§ç”Ÿçš„æ–‡ä»¶å†™å…¥ç¡¬ç›˜ã€‚ å†™å…¥ä½ç½®ä¸º <a href="/configuration/output/#outputpath">output.path</a> é…ç½®çš„ç›®å½•ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    writeToDisk<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å¯ä»¥ç»™ <code>devServer.writeToDisk</code> ä¼ å…¥ä¸€ä¸ªå‡½æ•°ç”¨æ¥ç­›é€‰å“ªäº›æ–‡ä»¶éœ€è¦å†™å…¥ç¡¬ç›˜ã€‚ä¼ å…¥å‡½æ•°çš„ç”¨æ³•å’Œ<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter"><code>Array#filter</code></a> çš„ç”¨æ³•ä¸€è‡´ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    writeToDisk<span class="token punctuation">:</span> <span class="token punctuation">(</span>filePath<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token operator">/</span>superman\<span class="token punctuation">.</span>css$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>æœ‰å¯èƒ½éœ€è¦é€šè¿‡ <code>NODE_OPTIONS</code> è®¾ç½®ä¸€äº› Node.js çš„æ ‡è®°ï¼Œä¾‹å¦‚ï¼Œé…ç½® <code>HTTP_MAX_HEADER_SIZE</code>:</p>
</blockquote>
<p><strong>package.json</strong></p>
<pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token string">"NODE_OPTIONS='--max-http-header-size=100000' webpack-dev-server"</span>
<span class="token punctuation">}</span></code></pre>
<h1 id="Devtool">Devtool<a href="#Devtool" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>æ­¤é€‰é¡¹æ§åˆ¶æ˜¯å¦ç”Ÿæˆï¼Œä»¥åŠå¦‚ä½•ç”Ÿæˆ source mapã€‚</p>
<p>ä½¿ç”¨ <a href="/plugins/source-map-dev-tool-plugin"><code>SourceMapDevToolPlugin</code></a> è¿›è¡Œæ›´ç»†ç²’åº¦çš„é…ç½®ã€‚æŸ¥çœ‹ <a href="/loaders/source-map-loader"><code>source-map-loader</code></a> æ¥å¤„ç†å·²æœ‰çš„ source mapã€‚</p>
<h2 id="devtool"><code>devtool</code> <a href="#devtool" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code> <code>false</code></p>
<p>é€‰æ‹©ä¸€ç§ <a href="http://blog.teamtreehouse.com/introduction-source-maps">source map</a> æ ¼å¼æ¥å¢å¼ºè°ƒè¯•è¿‡ç¨‹ã€‚ä¸åŒçš„å€¼ä¼šæ˜æ˜¾å½±å“åˆ°æ„å»º(build)å’Œé‡æ–°æ„å»º(rebuild)çš„é€Ÿåº¦ã€‚</p>
<blockquote class="tip">
<p>webpack ä»“åº“ä¸­åŒ…å«ä¸€ä¸ª <a href="https://github.com/webpack/webpack/tree/master/examples/source-map">æ˜¾ç¤ºæ‰€æœ‰ <code>devtool</code> å˜ä½“æ•ˆæœçš„ç¤ºä¾‹</a>ã€‚è¿™äº›ä¾‹å­æˆ–è®¸ä¼šæœ‰åŠ©äºä½ ç†è§£è¿™äº›å·®å¼‚ä¹‹å¤„ã€‚</p>
</blockquote>
<blockquote class="tip">
<p>ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ <code>SourceMapDevToolPlugin</code>/<code>EvalSourceMapDevToolPlugin</code> æ¥æ›¿ä»£ä½¿ç”¨ <code>devtool</code> é€‰é¡¹ï¼Œå› ä¸ºå®ƒæœ‰æ›´å¤šçš„é€‰é¡¹ã€‚åˆ‡å‹¿åŒæ—¶ä½¿ç”¨ <code>devtool</code> é€‰é¡¹å’Œ <code>SourceMapDevToolPlugin</code>/<code>EvalSourceMapDevToolPlugin</code> æ’ä»¶ã€‚<code>devtool</code> é€‰é¡¹åœ¨å†…éƒ¨æ·»åŠ è¿‡è¿™äº›æ’ä»¶ï¼Œæ‰€ä»¥ä½ æœ€ç»ˆå°†åº”ç”¨ä¸¤æ¬¡æ’ä»¶ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>devtool</th>
<th>æ„å»ºé€Ÿåº¦</th>
<th>é‡æ–°æ„å»ºé€Ÿåº¦</th>
<th>ç”Ÿäº§ç¯å¢ƒ</th>
<th>å“è´¨(quality)</th>
</tr>
</thead>
<tbody>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>(none)<p class="description mobile">éå¸¸å¿«é€Ÿ</p></p></div></td>
<td class="description desktop">éå¸¸å¿«é€Ÿ</td>
<td>éå¸¸å¿«é€Ÿ</td>
<td>yes</td>
<td>æ‰“åŒ…åçš„ä»£ç </td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>eval<p class="description mobile">éå¸¸å¿«é€Ÿ</p></p></div></td>
<td class="description desktop">éå¸¸å¿«é€Ÿ</td>
<td>éå¸¸å¿«é€Ÿ</td>
<td>no</td>
<td>ç”Ÿæˆåçš„ä»£ç </td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>eval-cheap-source-map<p class="description mobile">æ¯”è¾ƒå¿«</p></p></div></td>
<td class="description desktop">æ¯”è¾ƒå¿«</td>
<td>å¿«é€Ÿ</td>
<td>no</td>
<td>è½¬æ¢è¿‡çš„ä»£ç ï¼ˆä»…é™è¡Œï¼‰</td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>eval-cheap-module-source-map<p class="description mobile">ä¸­ç­‰</p></p></div></td>
<td class="description desktop">ä¸­ç­‰</td>
<td>å¿«é€Ÿ</td>
<td>no</td>
<td>åŸå§‹æºä»£ç ï¼ˆä»…é™è¡Œï¼‰</td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>eval-source-map<p class="description mobile">æ…¢</p></p></div></td>
<td class="description desktop">æ…¢</td>
<td>æ¯”è¾ƒå¿«</td>
<td>no</td>
<td>åŸå§‹æºä»£ç </td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>eval-nosources-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>eval-nosources-cheap-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>eval-nosources-cheap-module-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>cheap-source-map<p class="description mobile">æ¯”è¾ƒå¿«</p></p></div></td>
<td class="description desktop">æ¯”è¾ƒå¿«</td>
<td>ä¸­ç­‰</td>
<td>yes</td>
<td>è½¬æ¢è¿‡çš„ä»£ç ï¼ˆä»…é™è¡Œï¼‰</td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>cheap-module-source-map<p class="description mobile">ä¸­ç­‰</p></p></div></td>
<td class="description desktop">ä¸­ç­‰</td>
<td>æ¯”è¾ƒæ…¢</td>
<td>yes</td>
<td>åŸå§‹æºä»£ç ï¼ˆä»…é™è¡Œï¼‰</td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>inline-cheap-source-map<p class="description mobile">æ¯”è¾ƒå¿«</p></p></div></td>
<td class="description desktop">æ¯”è¾ƒå¿«</td>
<td>ä¸­ç­‰</td>
<td>no</td>
<td>è½¬æ¢è¿‡çš„ä»£ç ï¼ˆä»…é™è¡Œï¼‰</td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>inline-cheap-module-source-map<p class="description mobile">ä¸­ç­‰</p></p></div></td>
<td class="description desktop">ä¸­ç­‰</td>
<td>æ¯”è¾ƒæ…¢</td>
<td>no</td>
<td>åŸå§‹æºä»£ç ï¼ˆä»…é™è¡Œï¼‰</td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>inline-source-map<p class="description mobile">æ…¢</p></p></div></td>
<td class="description desktop">æ…¢</td>
<td>æ…¢</td>
<td>no</td>
<td>åŸå§‹æºä»£ç </td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>inline-nosources-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>inline-nosources-cheap-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>inline-nosources-cheap-module-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>source-map<p class="description mobile">æ…¢</p></p></div></td>
<td class="description desktop">æ…¢</td>
<td>æ…¢</td>
<td>yes</td>
<td>åŸå§‹æºä»£ç </td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>hidden-source-map<p class="description mobile">æ…¢</p></p></div></td>
<td class="description desktop">æ…¢</td>
<td>æ…¢</td>
<td>yes</td>
<td>åŸå§‹æºä»£ç </td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>hidden-nosources-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>hidden-nosources-cheap-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>hidden-nosources-cheap-module-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>hidden-cheap-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>hidden-cheap-module-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>nosources-source-map<p class="description mobile">æ…¢</p></p></div></td>
<td class="description desktop">æ…¢</td>
<td>æ…¢</td>
<td>yes</td>
<td>æ— æºä»£ç å†…å®¹</td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>nosources-cheap-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>æ„å»ºé€Ÿåº¦</p><p>é‡æ–°æ„å»ºé€Ÿåº¦</p><p>ç”Ÿäº§ç¯å¢ƒ</p><p>å“è´¨(quality)</p></div>
<div class="content"><p>nosources-cheap-module-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<blockquote class="tip">
<p>éªŒè¯ devtool åç§°æ—¶ï¼Œ æˆ‘ä»¬æœŸæœ›ä½¿ç”¨æŸç§æ¨¡å¼ï¼Œ æ³¨æ„ä¸è¦æ··æ·† devtool å­—ç¬¦ä¸²çš„é¡ºåºï¼Œ æ¨¡å¼æ˜¯ï¼š <code>[inline-|hidden-|eval-][nosources-][cheap-[module-]]source-map</code>.</p>
</blockquote>
<p>å…¶ä¸­ä¸€äº›å€¼é€‚ç”¨äºå¼€å‘ç¯å¢ƒï¼Œä¸€äº›é€‚ç”¨äºç”Ÿäº§ç¯å¢ƒã€‚å¯¹äºå¼€å‘ç¯å¢ƒï¼Œé€šå¸¸å¸Œæœ›æ›´å¿«é€Ÿçš„ source mapï¼Œéœ€è¦æ·»åŠ åˆ° bundle ä¸­ä»¥å¢åŠ ä½“ç§¯ä¸ºä»£ä»·ï¼Œä½†æ˜¯å¯¹äºç”Ÿäº§ç¯å¢ƒï¼Œåˆ™å¸Œæœ›æ›´ç²¾å‡†çš„ source mapï¼Œéœ€è¦ä» bundle ä¸­åˆ†ç¦»å¹¶ç‹¬ç«‹å­˜åœ¨ã€‚</p>
<blockquote class="warning">
<p>Chrome ä¸­çš„ source map æœ‰ä¸€äº›é—®é¢˜ã€‚<a href="https://github.com/webpack/webpack/issues/3165">æˆ‘ä»¬éœ€è¦ä½ çš„å¸®åŠ©ï¼</a>ã€‚</p>
</blockquote>
<blockquote class="tip">
<p>æŸ¥çœ‹ <a href="/configuration/output#output-sourcemapfilename"><code>output.sourceMapFilename</code></a> è‡ªå®šä¹‰ç”Ÿæˆçš„ source map çš„æ–‡ä»¶åã€‚</p>
</blockquote>
<h3 id="qualities">å“è´¨è¯´æ˜(quality) <a href="#qualities" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>æ‰“åŒ…åçš„ä»£ç </code> - å°†æ‰€æœ‰ç”Ÿæˆçš„ä»£ç è§†ä¸ºä¸€å¤§å—ä»£ç ã€‚ä½ çœ‹ä¸åˆ°ç›¸äº’åˆ†ç¦»çš„æ¨¡å—ã€‚</p>
<p><code>ç”Ÿæˆåçš„ä»£ç </code> - æ¯ä¸ªæ¨¡å—ç›¸äº’åˆ†ç¦»ï¼Œå¹¶ç”¨æ¨¡å—åç§°è¿›è¡Œæ³¨é‡Šã€‚å¯ä»¥çœ‹åˆ° webpack ç”Ÿæˆçš„ä»£ç ã€‚ç¤ºä¾‹ï¼šä½ ä¼šçœ‹åˆ°ç±»ä¼¼ <code>var module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(42); module__WEBPACK_IMPORTED_MODULE_1__.a();</code>ï¼Œè€Œä¸æ˜¯ <code>import {test} from "module"; test();</code>ã€‚</p>
<p><code>è½¬æ¢è¿‡çš„ä»£ç </code> - æ¯ä¸ªæ¨¡å—ç›¸äº’åˆ†ç¦»ï¼Œå¹¶ç”¨æ¨¡å—åç§°è¿›è¡Œæ³¨é‡Šã€‚å¯ä»¥çœ‹åˆ° webpack è½¬æ¢å‰ã€loader è½¬è¯‘åçš„ä»£ç ã€‚ç¤ºä¾‹ï¼šä½ ä¼šçœ‹åˆ°ç±»ä¼¼ <code>import {test} from "module"; var A = function(_test) { ... }(test);</code>ï¼Œè€Œä¸æ˜¯ <code>import {test} from "module"; class A extends test {}</code>ã€‚</p>
<p><code>åŸå§‹æºä»£ç </code> - æ¯ä¸ªæ¨¡å—ç›¸äº’åˆ†ç¦»ï¼Œå¹¶ç”¨æ¨¡å—åç§°è¿›è¡Œæ³¨é‡Šã€‚ä½ ä¼šçœ‹åˆ°è½¬è¯‘ä¹‹å‰çš„ä»£ç ï¼Œæ­£å¦‚ç¼–å†™å®ƒæ—¶ã€‚è¿™å–å†³äº loader æ”¯æŒã€‚</p>
<p><code>æ— æºä»£ç å†…å®¹</code> - source map ä¸­ä¸åŒ…å«æºä»£ç å†…å®¹ã€‚æµè§ˆå™¨é€šå¸¸ä¼šå°è¯•ä» web æœåŠ¡å™¨æˆ–æ–‡ä»¶ç³»ç»ŸåŠ è½½æºä»£ç ã€‚ä½ å¿…é¡»ç¡®ä¿æ­£ç¡®è®¾ç½® <a href="/configuration/output/#output-devtoolmodulefilenametemplate"><code>output.devtoolModuleFilenameTemplate</code></a>ï¼Œä»¥åŒ¹é…æºä»£ç çš„ urlã€‚</p>
<p><code>ï¼ˆä»…é™è¡Œï¼‰</code> - source map è¢«ç®€åŒ–ä¸ºæ¯è¡Œä¸€ä¸ªæ˜ å°„ã€‚è¿™é€šå¸¸æ„å‘³ç€æ¯ä¸ªè¯­å¥åªæœ‰ä¸€ä¸ªæ˜ å°„ï¼ˆå‡è®¾ä½ ä½¿ç”¨è¿™ç§æ–¹å¼ï¼‰ã€‚è¿™ä¼šå¦¨ç¢ä½ åœ¨è¯­å¥çº§åˆ«ä¸Šè°ƒè¯•æ‰§è¡Œï¼Œä¹Ÿä¼šå¦¨ç¢ä½ åœ¨æ¯è¡Œçš„ä¸€äº›åˆ—ä¸Šè®¾ç½®æ–­ç‚¹ã€‚ä¸å‹ç¼©åçš„ä»£ç ç»„åˆåï¼Œæ˜ å°„å…³ç³»æ˜¯ä¸å¯èƒ½å®ç°çš„ï¼Œå› ä¸ºå‹ç¼©å·¥å…·é€šå¸¸åªä¼šè¾“å‡ºä¸€è¡Œã€‚</p>
<h3 id="development">å¯¹äºå¼€å‘ç¯å¢ƒ <a href="#development" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>ä»¥ä¸‹é€‰é¡¹éå¸¸é€‚åˆå¼€å‘ç¯å¢ƒï¼š</p>
<p><code>eval</code> - æ¯ä¸ªæ¨¡å—éƒ½ä½¿ç”¨ <code>eval()</code> æ‰§è¡Œï¼Œå¹¶ä¸”éƒ½æœ‰ <code>//@ sourceURL</code>ã€‚æ­¤é€‰é¡¹ä¼šéå¸¸å¿«åœ°æ„å»ºã€‚ä¸»è¦ç¼ºç‚¹æ˜¯ï¼Œç”±äºä¼šæ˜ å°„åˆ°è½¬æ¢åçš„ä»£ç ï¼Œè€Œä¸æ˜¯æ˜ å°„åˆ°åŸå§‹ä»£ç ï¼ˆæ²¡æœ‰ä» loader ä¸­è·å– source mapï¼‰ï¼Œæ‰€ä»¥ä¸èƒ½æ­£ç¡®çš„æ˜¾ç¤ºè¡Œæ•°ã€‚</p>
<p><code>eval-source-map</code> - æ¯ä¸ªæ¨¡å—ä½¿ç”¨ <code>eval()</code> æ‰§è¡Œï¼Œå¹¶ä¸” source map è½¬æ¢ä¸º DataUrl åæ·»åŠ åˆ° <code>eval()</code> ä¸­ã€‚åˆå§‹åŒ– source map æ—¶æ¯”è¾ƒæ…¢ï¼Œä½†æ˜¯ä¼šåœ¨é‡æ–°æ„å»ºæ—¶æä¾›æ¯”è¾ƒå¿«çš„é€Ÿåº¦ï¼Œå¹¶ä¸”ç”Ÿæˆå®é™…çš„æ–‡ä»¶ã€‚è¡Œæ•°èƒ½å¤Ÿæ­£ç¡®æ˜ å°„ï¼Œå› ä¸ºä¼šæ˜ å°„åˆ°åŸå§‹ä»£ç ä¸­ã€‚å®ƒä¼šç”Ÿæˆç”¨äºå¼€å‘ç¯å¢ƒçš„æœ€ä½³å“è´¨çš„ source mapã€‚</p>
<p><code>eval-cheap-source-map</code> - ç±»ä¼¼ <code>eval-source-map</code>ï¼Œæ¯ä¸ªæ¨¡å—ä½¿ç”¨ <code>eval()</code> æ‰§è¡Œã€‚è¿™æ˜¯ "cheap(ä½å¼€é”€)" çš„ source mapï¼Œå› ä¸ºå®ƒæ²¡æœ‰ç”Ÿæˆåˆ—æ˜ å°„(column mapping)ï¼Œåªæ˜¯æ˜ å°„è¡Œæ•°ã€‚å®ƒä¼šå¿½ç•¥æºè‡ª loader çš„ source mapï¼Œå¹¶ä¸”ä»…æ˜¾ç¤ºè½¬è¯‘åçš„ä»£ç ï¼Œå°±åƒ <code>eval</code> devtoolã€‚</p>
<p><code>eval-cheap-module-source-map</code> - ç±»ä¼¼ <code>eval-cheap-source-map</code>ï¼Œå¹¶ä¸”ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæºè‡ª loader çš„ source map ä¼šå¾—åˆ°æ›´å¥½çš„å¤„ç†ç»“æœã€‚ç„¶è€Œï¼Œloader source map ä¼šè¢«ç®€åŒ–ä¸ºæ¯è¡Œä¸€ä¸ªæ˜ å°„(mapping)ã€‚</p>
<h3 id="special-cases">ç‰¹å®šåœºæ™¯ <a href="#special-cases" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>ä»¥ä¸‹é€‰é¡¹å¯¹äºå¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒå¹¶ä¸ç†æƒ³ã€‚ä»–ä»¬æ˜¯ä¸€äº›ç‰¹å®šåœºæ™¯ä¸‹éœ€è¦çš„ï¼Œä¾‹å¦‚ï¼Œé’ˆå¯¹ä¸€äº›ç¬¬ä¸‰æ–¹å·¥å…·ã€‚</p>
<p><code>inline-source-map</code> - source map è½¬æ¢ä¸º DataUrl åæ·»åŠ åˆ° bundle ä¸­ã€‚</p>
<p><code>cheap-source-map</code> - æ²¡æœ‰åˆ—æ˜ å°„(column mapping)çš„ source mapï¼Œå¿½ç•¥ loader source mapã€‚</p>
<p><code>inline-cheap-source-map</code> - ç±»ä¼¼ <code>cheap-source-map</code>ï¼Œä½†æ˜¯ source map è½¬æ¢ä¸º DataUrl åæ·»åŠ åˆ° bundle ä¸­ã€‚</p>
<p><code>cheap-module-source-map</code> - æ²¡æœ‰åˆ—æ˜ å°„(column mapping)çš„ source mapï¼Œå°† loader source map ç®€åŒ–ä¸ºæ¯è¡Œä¸€ä¸ªæ˜ å°„(mapping)ã€‚</p>
<p><code>inline-cheap-module-source-map</code> - ç±»ä¼¼ <code>cheap-module-source-map</code>ï¼Œä½†æ˜¯ source mapp è½¬æ¢ä¸º DataUrl æ·»åŠ åˆ° bundle ä¸­ã€‚</p>
<h3 id="production">å¯¹äºç”Ÿäº§ç¯å¢ƒ <a href="#production" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>è¿™äº›é€‰é¡¹é€šå¸¸ç”¨äºç”Ÿäº§ç¯å¢ƒä¸­ï¼š</p>
<p><code>(none)</code>ï¼ˆçœç•¥ <code>devtool</code> é€‰é¡¹ï¼‰ - ä¸ç”Ÿæˆ source mapã€‚è¿™æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p>
<p><code>source-map</code> - æ•´ä¸ª source map ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ç”Ÿæˆã€‚å®ƒä¸º bundle æ·»åŠ äº†ä¸€ä¸ªå¼•ç”¨æ³¨é‡Šï¼Œä»¥ä¾¿å¼€å‘å·¥å…·çŸ¥é“åœ¨å“ªé‡Œå¯ä»¥æ‰¾åˆ°å®ƒã€‚</p>
<blockquote class="warning">
<p>ä½ åº”è¯¥å°†ä½ çš„æœåŠ¡å™¨é…ç½®ä¸ºï¼Œä¸å…è®¸æ™®é€šç”¨æˆ·è®¿é—® source map æ–‡ä»¶ï¼</p>
</blockquote>
<p><code>hidden-source-map</code> - ä¸ <code>source-map</code> ç›¸åŒï¼Œä½†ä¸ä¼šä¸º bundle æ·»åŠ å¼•ç”¨æ³¨é‡Šã€‚å¦‚æœä½ åªæƒ³ source map æ˜ å°„é‚£äº›æºè‡ªé”™è¯¯æŠ¥å‘Šçš„é”™è¯¯å †æ ˆè·Ÿè¸ªä¿¡æ¯ï¼Œä½†ä¸æƒ³ä¸ºæµè§ˆå™¨å¼€å‘å·¥å…·æš´éœ²ä½ çš„ source mapï¼Œè¿™ä¸ªé€‰é¡¹ä¼šå¾ˆæœ‰ç”¨ã€‚</p>
<blockquote class="warning">
<p>ä½ ä¸åº”å°† source map æ–‡ä»¶éƒ¨ç½²åˆ° web æœåŠ¡å™¨ã€‚è€Œæ˜¯åªå°†å…¶ç”¨äºé”™è¯¯æŠ¥å‘Šå·¥å…·ã€‚</p>
</blockquote>
<p><code>nosources-source-map</code> - åˆ›å»ºçš„ source map ä¸åŒ…å« <code>sourcesContent(æºä»£ç å†…å®¹)</code>ã€‚å®ƒå¯ä»¥ç”¨æ¥æ˜ å°„å®¢æˆ·ç«¯ä¸Šçš„å †æ ˆè·Ÿè¸ªï¼Œè€Œæ— é¡»æš´éœ²æ‰€æœ‰çš„æºä»£ç ã€‚ä½ å¯ä»¥å°† source map æ–‡ä»¶éƒ¨ç½²åˆ° web æœåŠ¡å™¨ã€‚</p>
<blockquote class="warning">
<p>è¿™ä»ç„¶ä¼šæš´éœ²åç¼–è¯‘åçš„æ–‡ä»¶åå’Œç»“æ„ï¼Œä½†å®ƒä¸ä¼šæš´éœ²åŸå§‹ä»£ç ã€‚</p>
</blockquote>
<blockquote class="tip">
<p>å¦‚æœé»˜è®¤çš„ webpack <code>minimizer</code> è¢«è¦†ç›– (ä¾‹å¦‚è‡ªå®šä¹‰ <code>terser-webpack-plugin</code> é€‰é¡¹)ï¼Œ è¯·ç¡®ä¿å°†å…¶æ›¿æ¢é…ç½®ä¸º  <code>sourceMap: true</code> ä»¥å¯ç”¨ SourceMap æ”¯æŒã€‚</p>
</blockquote>
<h1 id="æ„å»ºç›®æ ‡Targets">æ„å»ºç›®æ ‡(Targets)<a href="#%E6%9E%84%E5%BB%BA%E7%9B%AE%E6%A0%87Targets" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>webpack èƒ½å¤Ÿä¸ºå¤šç§ç¯å¢ƒæˆ– <em>target</em> æ„å»ºç¼–è¯‘ã€‚æƒ³è¦ç†è§£ä»€ä¹ˆæ˜¯ <code>target</code> çš„è¯¦ç»†ä¿¡æ¯ï¼Œ
è¯·é˜…è¯» <a href="/concepts/targets/">target æ¦‚å¿µé¡µé¢</a>ã€‚</p>
<h2 id="target"><code>target</code> <a href="#target" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code> <code>function (compiler)</code></p>
<p>å‘ŠçŸ¥ webpack ä¸ºç›®æ ‡(target)æŒ‡å®šä¸€ä¸ªç¯å¢ƒã€‚</p>
<h3 id="string"><code>string</code> <a href="#string" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>é€šè¿‡ <a href="https://github.com/webpack/webpack/blob/master/lib/WebpackOptionsApply.js"><code>WebpackOptionsApply</code></a> ï¼Œ
å¯ä»¥æ”¯æŒä»¥ä¸‹å­—ç¬¦ä¸²å€¼ï¼š</p>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td><div class="title"><p>é€‰é¡¹</p><p>æè¿°</p></div>
<div class="content"><p><code>async-node</code><p class="description mobile">ç¼–è¯‘ä¸ºç±» Node.js ç¯å¢ƒå¯ç”¨ï¼ˆä½¿ç”¨ fs å’Œ vm å¼‚æ­¥åŠ è½½åˆ†å—ï¼‰</p></p></div></td>
<td class="description desktop">ç¼–è¯‘ä¸ºç±» Node.js ç¯å¢ƒå¯ç”¨ï¼ˆä½¿ç”¨ fs å’Œ vm å¼‚æ­¥åŠ è½½åˆ†å—ï¼‰</td>
</tr>
<tr>
<td><div class="title"><p>é€‰é¡¹</p><p>æè¿°</p></div>
<div class="content"><p><code>electron-main</code><p class="description mobile">ç¼–è¯‘ä¸º <a href="https://electronjs.org/">Electron</a> ä¸»è¿›ç¨‹ã€‚</p></p></div></td>
<td class="description desktop">ç¼–è¯‘ä¸º 
<a href="https://electronjs.org/">Electron</a>
 ä¸»è¿›ç¨‹ã€‚</td>
</tr>
<tr>
<td><div class="title"><p>é€‰é¡¹</p><p>æè¿°</p></div>
<div class="content"><p><code>electron-renderer</code><p class="description mobile">ç¼–è¯‘ä¸º <a href="https://electronjs.org/">Electron</a> æ¸²æŸ“è¿›ç¨‹ï¼Œä½¿ç”¨ <code>JsonpTemplatePlugin</code>,</p></p></div></td>
<td class="description desktop">ç¼–è¯‘ä¸º 
<a href="https://electronjs.org/">Electron</a>
 æ¸²æŸ“è¿›ç¨‹ï¼Œä½¿ç”¨ 
<code>JsonpTemplatePlugin</code>
,</td>
</tr>
</tbody>
</table>
<p><code>FunctionModulePlugin</code> æ¥ä¸ºæµè§ˆå™¨ç¯å¢ƒæä¾›ç›®æ ‡ï¼Œä½¿ç”¨ <code>NodeTargetPlugin</code> å’Œ <code>ExternalsPlugin</code>
ä¸º CommonJS å’Œ Electron å†…ç½®æ¨¡å—æä¾›ç›®æ ‡ã€‚
<code>electron-preload</code>    | ç¼–è¯‘ä¸º <a href="https://electronjs.org/">Electron</a> æ¸²æŸ“è¿›ç¨‹ï¼Œ
ä½¿ç”¨ <code>NodeTemplatePlugin</code> ä¸” <code>asyncChunkLoading</code> è®¾ç½®ä¸º <code>true</code> ï¼Œ<code>FunctionModulePlugin</code> æ¥ä¸ºæµè§ˆå™¨æä¾›ç›®æ ‡ï¼Œä½¿ç”¨ <code>NodeTargetPlugin</code> å’Œ <code>ExternalsPlugin</code> ä¸º CommonJS å’Œ Electron å†…ç½®æ¨¡å—æä¾›ç›®æ ‡ã€‚
<code>node</code>                | ç¼–è¯‘ä¸ºç±» Node.js ç¯å¢ƒå¯ç”¨ï¼ˆä½¿ç”¨ Node.js <code>require</code> åŠ è½½ chunksï¼‰
<code>node-webkit</code>         | ç¼–è¯‘ä¸º Webkit å¯ç”¨ï¼Œå¹¶ä¸”ä½¿ç”¨ jsonp å»åŠ è½½åˆ†å—ã€‚æ”¯æŒ Node.js å†…ç½®æ¨¡å—å’Œ <a href="http://docs.nwjs.io/en/latest/"><code>nw.gui</code></a>
å¯¼å…¥ï¼ˆå®éªŒæ€§è´¨ï¼‰
<code>web</code>                 | ç¼–è¯‘ä¸ºç±»æµè§ˆå™¨ç¯å¢ƒé‡Œå¯ç”¨ <strong>ï¼ˆé»˜è®¤ï¼‰</strong>
<code>webworker</code>           | ç¼–è¯‘æˆä¸€ä¸ª WebWorker</p>
<p>ä¾‹å¦‚ï¼Œå½“ <code>target</code> è®¾ç½®ä¸º <code>"electron-main"</code>ï¼Œwebpack å¼•å…¥å¤šä¸ª electron ç‰¹å®šçš„å˜é‡ã€‚
æœ‰å…³ä½¿ç”¨å“ªäº›æ¨¡æ¿å’Œ externals çš„æ›´å¤šä¿¡æ¯ï¼Œ
ä½ å¯ä»¥ <a href="https://github.com/webpack/webpack/blob/master/lib/WebpackOptionsApply.js#L148-L183">ç›´æ¥å‚è€ƒ webpack æºç </a>ã€‚</p>
<h3 id="function"><code>function</code> <a href="#function" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>å¦‚æœä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼Œæ­¤å‡½æ•°è°ƒç”¨æ—¶ä¼šä¼ å…¥ä¸€ä¸ª ç¼–è¯‘å™¨ï¼ˆcompilerï¼‰ ä½œä¸ºå‚æ•°ã€‚å¦‚æœä»¥ä¸Šåˆ—è¡¨ä¸­æ²¡æœ‰ä¸€ä¸ªé¢„å®šä¹‰çš„ç›®æ ‡(target)ç¬¦åˆä½ çš„è¦æ±‚ï¼Œ
è¯·å°†å…¶è®¾ç½®ä¸ºä¸€ä¸ªå‡½æ•°ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœä½ ä¸éœ€è¦ä½¿ç”¨ä»¥ä¸Šä»»ä½•æ’ä»¶ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  target<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> undefined
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>æˆ–è€…å¯ä»¥ä½¿ç”¨ä½ æƒ³è¦æŒ‡å®šçš„æ’ä»¶</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js"><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  target<span class="token punctuation">:</span> <span class="token punctuation">(</span>compiler<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>JsonpTemplatePlugin</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>output<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>compiler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>LoaderTargetPlugin</span><span class="token punctuation">(</span><span class="token string">'web'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>compiler<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h1 id="watch-å’Œ-watchOptions">watch å’Œ watchOptions<a href="#watch-%E5%92%8C-watchOptions" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>webpack å¯ä»¥ç›‘å¬æ–‡ä»¶å˜åŒ–ï¼Œå½“å®ƒä»¬ä¿®æ”¹åä¼šé‡æ–°ç¼–è¯‘ã€‚è¿™ä¸ªé¡µé¢ä»‹ç»äº†å¦‚ä½•å¯ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œä»¥åŠå½“ watch æ— æ³•æ­£å¸¸è¿è¡Œçš„æ—¶å€™ä½ å¯ä»¥åšçš„ä¸€äº›è°ƒæ•´ã€‚</p>
<h2 id="watch"><code>watch</code> <a href="#watch" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code></p>
<p>å¯ç”¨ Watch æ¨¡å¼ã€‚è¿™æ„å‘³ç€åœ¨åˆå§‹æ„å»ºä¹‹åï¼Œwebpack å°†ç»§ç»­ç›‘å¬ä»»ä½•å·²è§£ææ–‡ä»¶çš„æ›´æ”¹ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  watch<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p><a href="https://github.com/webpack/webpack-dev-server">webpack-dev-server</a> å’Œ <a href="https://github.com/webpack/webpack-dev-middleware">webpack-dev-middleware</a> é‡Œ Watch æ¨¡å¼é»˜è®¤å¼€å¯ã€‚</p>
</blockquote>
<h2 id="watchoptions"><code>watchOptions</code> <a href="#watchoptions" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code> <code>number = 200</code></p>
<p>ä¸€ç»„ç”¨æ¥å®šåˆ¶ watch æ¨¡å¼çš„é€‰é¡¹ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  watchOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    aggregateTimeout<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    poll<span class="token punctuation">:</span> <span class="token number">1000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>ç›´æ¥å‘ <code>watchOptions</code> è®¾ç½®ä¸ºä¸€ä¸ªæ•°å­—ï¼Œç­‰åŒäºå°† <code>watchOptions.aggregateTimeout</code> è®¾ç½®ä¸ºç»™å®šçš„æ•°å­—ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ä¸ watchOptions.aggregateTimeout = 300 ç›¸åŒ</span>
  watchOptions<span class="token punctuation">:</span>  <span class="token number">300</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="watchoptionsaggregatetimeout"><code>watchOptions.aggregateTimeout</code> <a href="#watchoptionsaggregatetimeout" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>number = 200</code></p>
<p>å½“ç¬¬ä¸€ä¸ªæ–‡ä»¶æ›´æ”¹ï¼Œä¼šåœ¨é‡æ–°æ„å»ºå‰å¢åŠ å»¶è¿Ÿã€‚è¿™ä¸ªé€‰é¡¹å…è®¸ webpack å°†è¿™æ®µæ—¶é—´å†…è¿›è¡Œçš„ä»»ä½•å…¶ä»–æ›´æ”¹éƒ½èšåˆåˆ°ä¸€æ¬¡é‡æ–°æ„å»ºé‡Œã€‚ä»¥æ¯«ç§’ä¸ºå•ä½ï¼š</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  watchOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    aggregateTimeout<span class="token punctuation">:</span> <span class="token number">600</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="watchoptionsignored"><code>watchOptions.ignored</code> <a href="#watchoptionsignored" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>RegExp</code> <a href="https://github.com/micromatch/anymatch"><code>anymatch</code></a></p>
<p>å¯¹äºæŸäº›ç³»ç»Ÿï¼Œç›‘å¬å¤§é‡æ–‡ä»¶ç³»ç»Ÿä¼šå¯¼è‡´å¤§é‡çš„ CPU æˆ–å†…å­˜å ç”¨ã€‚è¿™ä¸ªé€‰é¡¹å¯ä»¥æ’é™¤ä¸€äº›å·¨å¤§çš„æ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚ <code>node_modules</code>ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  watchOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    ignored<span class="token punctuation">:</span> <span class="token regex">/node_modules/</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨å¤šç§ <a href="https://github.com/micromatch/anymatch">anymatch</a> æ¨¡å¼ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  watchOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    ignored<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'files/**/*.js'</span><span class="token punctuation">,</span> <span class="token string">'node_modules/**'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>å¦‚æœä½ ä½¿ç”¨ <code>require.context</code>ï¼Œwebpack ä¼šè§‚å¯Ÿä½ çš„æ•´ä¸ªç›®å½•ã€‚ä½ åº”è¯¥å¿½ç•¥ä¸€äº›æ–‡ä»¶å’Œ/æˆ–(and/or)ç›®å½•ï¼Œä»¥ä¾¿é‚£äº›ä¸éœ€è¦ç›‘å¬çš„æ–‡ä»¶ä¿®æ”¹ï¼Œä¸ä¼šè§¦å‘é‡æ–°æ„å»ºã€‚</p>
</blockquote>
<h2 id="watchoptionspoll"><code>watchOptions.poll</code> <a href="#watchoptionspoll" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code> <code>number</code></p>
<p>é€šè¿‡ä¼ é€’ <code>true</code> å¼€å¯ <a href="https://whatis.techtarget.com/definition/polling">polling</a>ï¼Œæˆ–è€…æŒ‡å®šæ¯«ç§’ä¸ºå•ä½è¿›è¡Œè½®è¯¢ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  watchOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    poll<span class="token punctuation">:</span> <span class="token number">1000</span> <span class="token comment">// æ¯ç§’æ£€æŸ¥ä¸€æ¬¡å˜åŠ¨</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>å¦‚æœç›‘å¬æ²¡ç”Ÿæ•ˆï¼Œè¯•è¯•è¿™ä¸ªé€‰é¡¹å§ã€‚Watch åœ¨ NFS å’Œ VirtualBox æœºå™¨ä¸Šä¸é€‚ç”¨ã€‚</p>
</blockquote>
<h2 id="info-verbosity"><code>info-verbosity</code> <a href="#info-verbosity" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'info': 'none' | 'info' | 'verbose'</code></p>
<p>æ§åˆ¶ç”Ÿå‘½å‘¨æœŸæ¶ˆæ¯çš„è¯¦ç»†ç¨‹åº¦ï¼Œä¾‹å¦‚ <code>Started watching files(å¼€å§‹ç›‘å¬æ–‡ä»¶)...</code> æ—¥å¿—ã€‚å°† <code>info-verbosity</code> è®¾ç½®ä¸º <code>verbose</code>ï¼Œè¿˜ä¼šé¢å¤–åœ¨å¢é‡æ„å»ºçš„å¼€å§‹å’Œç»“æŸæ—¶ï¼Œå‘æ§åˆ¶å°å‘é€æ¶ˆæ¯ã€‚</p>
<pre><code class="hljs language-bash">webpack --watch --info-verbosity verbose</code></pre>
<h2 id="troubleshooting">æ•…éšœæ’é™¤ <a href="#troubleshooting" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>å¦‚æœæ‚¨é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ä»¥ä¸‹æ³¨æ„äº‹é¡¹ã€‚å¯¹äº webpack ä¸ºä½•ä¼šå¿½ç•¥æ–‡ä»¶ä¿®æ”¹ï¼Œè¿™é‡Œæœ‰å¤šç§åŸå› ã€‚</p>
<h3 id="changes-seen-but-not-processed">å‘ç°ä¿®æ”¹ï¼Œä½†å¹¶æœªåšå¤„ç† <a href="#changes-seen-but-not-processed" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>åœ¨è¿è¡Œ webpack æ—¶ï¼Œé€šè¿‡ä½¿ç”¨ --progress æ ‡å¿—ï¼Œæ¥éªŒè¯æ–‡ä»¶ä¿®æ”¹åï¼Œæ˜¯å¦æ²¡æœ‰é€šçŸ¥ webpackã€‚å¦‚æœè¿›åº¦æ˜¾ç¤ºä¿å­˜ï¼Œä½†æ²¡æœ‰è¾“å‡ºæ–‡ä»¶ï¼Œåˆ™å¯èƒ½æ˜¯é…ç½®é—®é¢˜ï¼Œè€Œä¸æ˜¯æ–‡ä»¶ç›‘è§†é—®é¢˜ã€‚</p>
<pre><code class="hljs language-bash">webpack --watch --progress</code></pre>
<h3 id="not-enough-watchers">æ²¡æœ‰è¶³å¤Ÿçš„æ–‡ä»¶è§‚å¯Ÿè€… <a href="#not-enough-watchers" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>ç¡®è®¤ç³»ç»Ÿä¸­æœ‰è¶³å¤Ÿå¤šçš„æ–‡ä»¶è§‚å¯Ÿè€…ã€‚å¦‚æœè¿™ä¸ªå€¼å¤ªä½ï¼Œwebpack ä¸­çš„æ–‡ä»¶è§‚å¯Ÿè€…å°†æ— æ³•è¯†åˆ«ä¿®æ”¹ï¼š</p>
<pre><code class="hljs language-bash"><span class="token function">cat</span> /proc/sys/fs/inotify/max_user_watches</code></pre>
<p>Arch ç”¨æˆ·ï¼Œè¯·å°† <code>fs.inotify.max_user_watches=524288</code> æ·»åŠ åˆ° <code>/etc/sysctl.d/99-sysctl.conf</code> ä¸­ï¼Œç„¶åæ‰§è¡Œ <code>sysctl --system</code>ã€‚ Ubuntu ç”¨æˆ·ï¼ˆå¯èƒ½è¿˜æœ‰å…¶ä»–ç”¨æˆ·ï¼‰è¯·æ‰§è¡Œï¼š<code>echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf &#x26;&#x26; sudo sysctl -p</code>ã€‚</p>
<h3 id="macos-fsevents-bug">macOS fsevents Bug <a href="#macos-fsevents-bug" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>åœ¨ macOS ä¸­ï¼ŒæŸäº›æƒ…å†µä¸‹æ–‡ä»¶å¤¹å¯èƒ½ä¼šæŸåã€‚è¯·å‚é˜…<a href="https://github.com/livereload/livereload-site/blob/master/livereload.com/_articles/troubleshooting/os-x-fsevents-bug-may-prevent-monitoring-of-certain-folders.md">è¿™ç¯‡æ–‡ç« </a>ã€‚</p>
<h3 id="windows-paths">Windows Paths <a href="#windows-paths" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>å› ä¸º webpack æœŸæœ›è·å¾—å¤šä¸ªé…ç½®é€‰é¡¹çš„ç»å¯¹è·¯å¾„ï¼ˆå¦‚ <code>__dirname + '/app/folder'</code>ï¼‰ï¼Œæ‰€ä»¥ Windows çš„è·¯å¾„åˆ†éš”ç¬¦ <code>\</code> å¯èƒ½ä¼šç ´åæŸäº›åŠŸèƒ½ã€‚</p>
<p>ä½¿ç”¨æ­£ç¡®çš„åˆ†éš”ç¬¦ã€‚å³ <code>path.resolve(__dirname, 'app/folder')</code> æˆ– <code>path.join(__dirname, 'app', 'folder')</code>ã€‚</p>
<h3 id="vim">Vim <a href="#vim" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>åœ¨æŸäº›æœºå™¨ä¸Šï¼ŒVim é¢„å…ˆå°† <a href="http://vimdoc.sourceforge.net/htmldoc/options.html#&#x27;backupcopy&#x27;">backupcopy é€‰é¡¹</a> è®¾ç½®ä¸º <code>auto</code>ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´ç³»ç»Ÿçš„æ–‡ä»¶ç›‘è§†æœºåˆ¶å‡ºç°é—®é¢˜ã€‚å°†æ­¤é€‰é¡¹è®¾ç½®ä¸º <code>yes</code> å¯ä»¥ç¡®ä¿åˆ›å»ºæ–‡ä»¶çš„å‰¯æœ¬ï¼Œå¹¶åœ¨ä¿å­˜æ—¶è¦†ç›–åŸå§‹æ–‡ä»¶ã€‚</p>
<p><code>:set backupcopy=yes</code></p>
<h3 id="saving-in-webstorm">åœ¨ WebStorm ä¸­ä¿å­˜ <a href="#saving-in-webstorm" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>ä½¿ç”¨ JetBrains WebStorm IDE æ—¶ï¼Œä½ å¯èƒ½ä¼šå‘ç°ä¿å­˜ä¿®æ”¹è¿‡çš„æ–‡ä»¶ï¼Œå¹¶ä¸ä¼šæŒ‰ç…§é¢„æœŸè§¦å‘è§‚å¯Ÿè€…ã€‚å°è¯•åœ¨è®¾ç½®ä¸­ç¦ç”¨<code>å®‰å…¨å†™å…¥(safe write)</code>é€‰é¡¹ï¼Œè¯¥é€‰é¡¹ç¡®å®šåœ¨åŸæ–‡ä»¶è¢«è¦†ç›–ä¹‹å‰ï¼Œæ–‡ä»¶æ˜¯å¦å…ˆä¿å­˜åˆ°ä¸´æ—¶ä½ç½®ï¼šå–æ¶ˆé€‰ä¸­ <code>File > {Settings|Preferences} > Appearance &#x26; Behavior > System Settings > Use "safe write" (save changes to a temporary file first)</code>ã€‚</p>
<h1 id="å¤–éƒ¨æ‰©å±•externals">å¤–éƒ¨æ‰©å±•(externals)<a href="#%E5%A4%96%E9%83%A8%E6%89%A9%E5%B1%95externals" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p><code>externals</code> é…ç½®é€‰é¡¹æä¾›äº†ã€Œä»è¾“å‡ºçš„ bundle ä¸­æ’é™¤ä¾èµ–ã€çš„æ–¹æ³•ã€‚ç›¸åï¼Œæ‰€åˆ›å»ºçš„ bundle ä¾èµ–äºé‚£äº›å­˜åœ¨äºç”¨æˆ·ç¯å¢ƒ(consumer's environment)ä¸­çš„ä¾èµ–ã€‚æ­¤åŠŸèƒ½é€šå¸¸å¯¹ <strong>library å¼€å‘äººå‘˜</strong>æ¥è¯´æ˜¯æœ€æœ‰ç”¨çš„ï¼Œç„¶è€Œä¹Ÿä¼šæœ‰å„ç§å„æ ·çš„åº”ç”¨ç¨‹åºç”¨åˆ°å®ƒã€‚</p>
<h2 id="externals"><code>externals</code> <a href="#externals" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code> <code>[string]</code> <code>object</code> <code>function</code>  <code>RegExp</code></p>
<p><strong>é˜²æ­¢</strong>å°†æŸäº› <code>import</code> çš„åŒ…(package)<strong>æ‰“åŒ…</strong>åˆ° bundle ä¸­ï¼Œè€Œæ˜¯åœ¨è¿è¡Œæ—¶(runtime)å†å»ä»å¤–éƒ¨è·å–è¿™äº›<em>æ‰©å±•ä¾èµ–(external dependencies)</em>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä» CDN å¼•å…¥ <a href="https://jquery.com/">jQuery</a>ï¼Œè€Œä¸æ˜¯æŠŠå®ƒæ‰“åŒ…ï¼š</p>
<p><strong>index.html</strong></p>
<pre><code class="hljs language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span>
  <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://code.jquery.com/jquery-3.1.0.js<span class="token punctuation">"</span></span>
  <span class="token attr-name">integrity</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sha256-slogkvB1K3VOkzAI8QITxV3VzpOnkeNVsKvtkYLMjfk=<span class="token punctuation">"</span></span>
  <span class="token attr-name">crossorigin</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>anonymous<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span></code></pre>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  externals<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    jquery<span class="token punctuation">:</span> <span class="token string">'jQuery'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>è¿™æ ·å°±å‰¥ç¦»äº†é‚£äº›ä¸éœ€è¦æ”¹åŠ¨çš„ä¾èµ–æ¨¡å—ï¼Œæ¢å¥è¯ï¼Œä¸‹é¢å±•ç¤ºçš„ä»£ç è¿˜å¯ä»¥æ­£å¸¸è¿è¡Œï¼š</p>
<pre><code class="hljs language-javascript"><span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">'jquery'</span><span class="token punctuation">;</span>

<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.my-element'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>å…·æœ‰å¤–éƒ¨ä¾èµ–(external dependency)çš„ bundle å¯ä»¥åœ¨å„ç§æ¨¡å—ä¸Šä¸‹æ–‡(module context)ä¸­ä½¿ç”¨ï¼Œä¾‹å¦‚ <a href="/concepts/modules">CommonJS, AMD, å…¨å±€å˜é‡å’Œ ES2015 æ¨¡å—</a>ã€‚å¤–éƒ¨ library å¯èƒ½æ˜¯ä»¥ä¸‹ä»»ä½•ä¸€ç§å½¢å¼ï¼š</p>
<ul>
<li><strong>root</strong>ï¼šå¯ä»¥é€šè¿‡ä¸€ä¸ªå…¨å±€å˜é‡è®¿é—® libraryï¼ˆä¾‹å¦‚ï¼Œé€šè¿‡ script æ ‡ç­¾ï¼‰ã€‚</li>
<li><strong>commonjs</strong>ï¼šå¯ä»¥å°† library ä½œä¸ºä¸€ä¸ª CommonJS æ¨¡å—è®¿é—®ã€‚</li>
<li><strong>commonjs2</strong>ï¼šå’Œä¸Šé¢çš„ç±»ä¼¼ï¼Œä½†å¯¼å‡ºçš„æ˜¯ <code>module.exports.default</code>.</li>
<li><strong>amd</strong>ï¼šç±»ä¼¼äº <code>commonjs</code>ï¼Œä½†ä½¿ç”¨ AMD æ¨¡å—ç³»ç»Ÿã€‚</li>
</ul>
<p>å¯ä»¥æ¥å—ä»¥ä¸‹è¯­æ³•â€¦â€¦</p>
<h3 id="string">å­—ç¬¦ä¸² <a href="#string" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>è¯·æŸ¥çœ‹ä¸Šé¢çš„ä¾‹å­ã€‚å±æ€§åç§°æ˜¯ <code>jquery</code>ï¼Œè¡¨ç¤ºåº”è¯¥æ’é™¤ <code>import $ from 'jquery'</code> ä¸­çš„ <code>jquery</code> æ¨¡å—ã€‚ä¸ºäº†æ›¿æ¢è¿™ä¸ªæ¨¡å—ï¼Œ<code>jQuery</code> çš„å€¼å°†è¢«ç”¨æ¥æ£€ç´¢ä¸€ä¸ªå…¨å±€çš„ <code>jQuery</code> å˜é‡ã€‚æ¢å¥è¯è¯´ï¼Œå½“è®¾ç½®ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²æ—¶ï¼Œå®ƒå°†è¢«è§†ä¸º<code>å…¨å±€çš„</code>ï¼ˆå®šä¹‰åœ¨ä¸Šé¢å’Œä¸‹é¢ï¼‰ã€‚</p>
<p>å¦ä¸€æ–¹é¢ï¼Œå¦‚æœä½ æƒ³å°†ä¸€ä¸ªç¬¦åˆ CommonJS æ¨¡å—åŒ–è§„åˆ™çš„ç±»åº“å¤–éƒ¨åŒ–ï¼Œä½ å¯ä»¥æä¾›å¤–è”ç±»åº“çš„ç±»å‹ä»¥åŠç±»åº“çš„åç§°ã€‚</p>
<p>å¦‚æœä½ æƒ³å°† <code>fs-extra</code> ä»è¾“å‡ºçš„ bundle ä¸­å‰”é™¤å¹¶åœ¨è¿è¡Œæ—¶ä¸­å¼•å…¥å®ƒï¼Œä½ å¯ä»¥å¦‚ä¸‹å®šä¹‰ï¼š</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  externals<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">'fs-extra'</span><span class="token punctuation">:</span> <span class="token string">'commonjs2 fs-extra'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>è¿™æ ·çš„åšæ³•ä¼šè®©ä»»ä½•ä¾èµ–çš„æ¨¡å—éƒ½ä¸å˜ï¼Œæ­£å¦‚ä»¥ä¸‹æ‰€ç¤ºçš„ä»£ç ï¼š</p>
<pre><code class="hljs language-javascript"><span class="token keyword">import</span> fs <span class="token keyword">from</span> <span class="token string">'fs-extra'</span><span class="token punctuation">;</span></code></pre>
<p>ä¼šå°†ä»£ç ç¼–è¯‘æˆï¼š</p>
<pre><code class="hljs language-javascript"><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs-extra'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h3 id="string">å­—ç¬¦ä¸²æ•°ç»„ <a href="#string" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  externals<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    subtract<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'./math'</span><span class="token punctuation">,</span> <span class="token string">'subtract'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p><code>subtract: ['./math', 'subtract']</code> è½¬æ¢ä¸ºçˆ¶å­ç»“æ„ï¼Œå…¶ä¸­ <code>./math</code> æ˜¯çˆ¶æ¨¡å—ï¼Œè€Œ bundle åªå¼•ç”¨ <code>subtract</code> å˜é‡ä¸‹çš„å­é›†ã€‚è¯¥ä¾‹å­ä¼šç¼–è¯‘æˆ <code>require('./math').subtract;</code></p>
<h3 id="object">å¯¹è±¡ <a href="#object" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<blockquote class="warning">
<p>ä¸€ä¸ªå½¢å¦‚  <code>{ root, amd, commonjs, ... }</code> çš„å¯¹è±¡ä»…å…è®¸ç”¨äº  <a href="/configuration/output/#outputlibrarytarget"><code>libraryTarget: 'umd'</code></a> è¿™æ ·çš„é…ç½®.å®ƒä¸è¢«å…è®¸ ç”¨äºå…¶å®ƒçš„ library targets é…ç½®å€¼.</p>
</blockquote>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  externals <span class="token punctuation">:</span> <span class="token punctuation">{</span>
    react<span class="token punctuation">:</span> <span class="token string">'react'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// æˆ–è€…</span>

  externals <span class="token punctuation">:</span> <span class="token punctuation">{</span>
    lodash <span class="token punctuation">:</span> <span class="token punctuation">{</span>
      commonjs<span class="token punctuation">:</span> <span class="token string">'lodash'</span><span class="token punctuation">,</span>
      amd<span class="token punctuation">:</span> <span class="token string">'lodash'</span><span class="token punctuation">,</span>
      root<span class="token punctuation">:</span> <span class="token string">'_'</span> <span class="token comment">// æŒ‡å‘å…¨å±€å˜é‡</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// æˆ–è€…</span>

  externals <span class="token punctuation">:</span> <span class="token punctuation">{</span>
    subtract <span class="token punctuation">:</span> <span class="token punctuation">{</span>
      root<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'math'</span><span class="token punctuation">,</span> <span class="token string">'subtract'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>æ­¤è¯­æ³•ç”¨äºæè¿°å¤–éƒ¨ library æ‰€æœ‰å¯ç”¨çš„è®¿é—®æ–¹å¼ã€‚è¿™é‡Œ <code>lodash</code> è¿™ä¸ªå¤–éƒ¨ library å¯ä»¥åœ¨ AMD å’Œ CommonJS æ¨¡å—ç³»ç»Ÿä¸­é€šè¿‡ <code>lodash</code> è®¿é—®ï¼Œä½†åœ¨å…¨å±€å˜é‡å½¢å¼ä¸‹ç”¨ <code>_</code> è®¿é—®ã€‚<code>subtract</code> å¯ä»¥é€šè¿‡å…¨å±€ <code>math</code> å¯¹è±¡ä¸‹çš„å±æ€§ <code>subtract</code> è®¿é—®ï¼ˆä¾‹å¦‚ <code>window['math']['subtract']</code>ï¼‰ã€‚</p>
<h3 id="function">å‡½æ•° <a href="#function" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>function (context, request, callback)</code></p>
<p>å¯¹äº webpack å¤–éƒ¨åŒ–ï¼Œé€šè¿‡å®šä¹‰å‡½æ•°æ¥æ§åˆ¶è¡Œä¸ºï¼Œå¯èƒ½ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚ä¾‹å¦‚ï¼Œ<a href="https://www.npmjs.com/package/webpack-node-externals">webpack-node-externals</a> èƒ½å¤Ÿæ’é™¤ <code>node_modules</code> ç›®å½•ä¸­æ‰€æœ‰æ¨¡å—ï¼Œè¿˜æä¾›ä¸€äº›é€‰é¡¹ï¼Œæ¯”å¦‚ç™½åå• package(whitelist package)ã€‚</p>
<p>å‡½æ•°æ¥æ”¶ä¸‰ä¸ªå…¥å‚ï¼š</p>
<ul>
<li><code>context</code> (<code>string</code>): åŒ…å«å¼•ç”¨çš„æ–‡ä»¶ç›®å½•ã€‚</li>
<li><code>request</code> (<code>string</code>): è¢«è¯·æ±‚å¼•å…¥çš„è·¯å¾„ã€‚</li>
<li><code>callback</code> (<code>function (err, result, type)</code>): ç”¨äºæŒ‡æ˜æ¨¡å—å¦‚ä½•è¢«å¤–éƒ¨åŒ–çš„å›è°ƒå‡½æ•°</li>
</ul>
<p>å›è°ƒå‡½æ•°æ¥æ”¶ä¸‰ä¸ªå…¥å‚ï¼š</p>
<ul>
<li><code>err</code> (<code>Error</code>): è¢«ç”¨äºè¡¨æ˜åœ¨å¤–éƒ¨å¤–å¼•ç”¨çš„æ—¶å€™æ˜¯å¦ä¼šäº§ç”Ÿé”™è¯¯ã€‚å¦‚æœæœ‰é”™è¯¯ï¼Œè¿™å°†ä¼šæ˜¯å”¯ä¸€è¢«ç”¨åˆ°çš„å‚æ•°ã€‚</li>
<li><code>result</code> (<code>string</code> <code>[string]</code> <code>object</code>): æè¿°å¤–éƒ¨åŒ–çš„æ¨¡å—ã€‚å¯ä»¥æ¥å—å½¢å¦‚ <code>${type} ${path}</code> æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œæˆ–è€…å…¶å®ƒæ ‡å‡†åŒ–å¤–éƒ¨åŒ–æ¨¡å—æ ¼å¼ï¼Œ(<a href="#string"><code>string</code></a>, <a href="#string-1"><code>[string]</code></a>ï¼Œæˆ– <a href="#object"><code>object</code></a>)ã€‚</li>
<li><code>type</code> (<code>string</code>): å¯é€‰çš„å‚æ•°ï¼Œç”¨äºæŒ‡æ˜æ¨¡å—çš„ç±»å‹ï¼ˆå¦‚æœå®ƒæ²¡åœ¨ <code>result</code> å‚æ•°ä¸­è¢«æŒ‡æ˜ï¼‰ã€‚</li>
</ul>
<p>ä½œä¸ºä¾‹å­ï¼Œè¦å¤–éƒ¨åŒ–æ‰€æœ‰åŒ¹é…ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„å¼•å…¥ï¼Œä½ å¯ä»¥åƒä¸‹é¢é‚£æ ·å¤„ç†ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  externals<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> request<span class="token punctuation">,</span> callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/^yourregex$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// ä½¿ç”¨ request è·¯å¾„ï¼Œå°†ä¸€ä¸ª commonjs æ¨¡å—å¤–éƒ¨åŒ–</span>
        <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'commonjs '</span> <span class="token operator">+</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// ç»§ç»­ä¸‹ä¸€æ­¥ä¸”ä¸å¤–éƒ¨åŒ–å¼•ç”¨</span>
      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å…¶å®ƒä¾‹å­ä½¿ç”¨ä¸åŒçš„æ¨¡å—æ ¼å¼ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  externals<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> request<span class="token punctuation">,</span> callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// è¯¥å¤–éƒ¨åŒ–çš„æ¨¡å—ï¼Œæ˜¯ä¸€ä¸ª `commonjs2` çš„æ¨¡å—ï¼Œä¸”æ”¾åœ¨ `@scope/library` ç›®å½•ä¸­</span>
      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'@scope/library'</span><span class="token punctuation">,</span> <span class="token string">'commonjs2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  externals<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> request<span class="token punctuation">,</span> callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// è¯¥å¤–éƒ¨åŒ–æ¨¡å—æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡å«ä½œ `nameOfGlobal`.</span>
      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'nameOfGlobal'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  externals<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> request<span class="token punctuation">,</span> callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// è¯¥å¤–éƒ¨åŒ–æ¨¡å—æ˜¯ä¸€ä¸ªåœ¨`@scope/library`æ¨¡å—é‡Œçš„å‘½åå¯¼å‡ºï¼ˆnamed exportï¼‰ã€‚</span>
      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'@scope/library'</span><span class="token punctuation">,</span> <span class="token string">'namedexport'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'commonjs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  externals<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> request<span class="token punctuation">,</span> callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// å¤–éƒ¨åŒ–æ¨¡å—æ˜¯ä¸€ä¸ª UMD æ¨¡å—</span>
      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        root<span class="token punctuation">:</span> <span class="token string">'componentsGlobal'</span><span class="token punctuation">,</span>
        commonjs<span class="token punctuation">:</span> <span class="token string">'@scope/components'</span><span class="token punctuation">,</span>
        commonjs2<span class="token punctuation">:</span> <span class="token string">'@scope/components'</span><span class="token punctuation">,</span>
        amd<span class="token punctuation">:</span> <span class="token string">'components'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="regexp">RegExp <a href="#regexp" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>åŒ¹é…ç»™å®šæ­£åˆ™è¡¨è¾¾å¼çš„æ¯ä¸ªä¾èµ–ï¼Œéƒ½å°†ä»è¾“å‡º bundle ä¸­æ’é™¤ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  externals<span class="token punctuation">:</span> <span class="token regex">/^(jquery|\$)$/i</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæ‰€æœ‰åä¸º <code>jQuery</code> çš„ä¾èµ–ï¼ˆå¿½ç•¥å¤§å°å†™ï¼‰ï¼Œæˆ–è€… <code>$</code>ï¼Œéƒ½ä¼šè¢«å¤–éƒ¨åŒ–ã€‚</p>
<h3 id="combining-syntaxes">æ··ç”¨è¯­æ³• <a href="#combining-syntaxes" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>æœ‰æ—¶ä½ éœ€è¦æ··ç”¨ä¸Šé¢ä»‹ç»çš„è¯­æ³•ã€‚è¿™å¯ä»¥åƒä»¥ä¸‹è¿™æ ·æ“ä½œï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  externals<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token comment">// å­—ç¬¦ä¸²</span>
      react<span class="token punctuation">:</span> <span class="token string">'react'</span><span class="token punctuation">,</span>
      <span class="token comment">// å¯¹è±¡</span>
      lodash <span class="token punctuation">:</span> <span class="token punctuation">{</span>
        commonjs<span class="token punctuation">:</span> <span class="token string">'lodash'</span><span class="token punctuation">,</span>
        amd<span class="token punctuation">:</span> <span class="token string">'lodash'</span><span class="token punctuation">,</span>
        root<span class="token punctuation">:</span> <span class="token string">'_'</span> <span class="token comment">// indicates global variable</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// å­—ç¬¦ä¸²æ•°ç»„</span>
      subtract<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'./math'</span><span class="token punctuation">,</span> <span class="token string">'subtract'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// å‡½æ•°</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> request<span class="token punctuation">,</span> callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/^yourregex$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'commonjs '</span> <span class="token operator">+</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// æ­£åˆ™è¡¨è¾¾å¼</span>
    <span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">(</span>jquery<span class="token operator">|</span>\$<span class="token punctuation">)</span>$<span class="token operator">/</span>i
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p><a href="/configuration/externals/#externalstype">Default type</a> will be used if you specify <code>externals</code> without a type e.g. <code>externals: { react: 'react' }</code> instead of <code>externals: { react: 'commonjs-module react' }</code>.</p>
</blockquote>
<p>å…³äºå¦‚ä½•ä½¿ç”¨æ­¤ externals é…ç½®çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è€ƒ <a href="/guides/author-libraries">å¦‚ä½•ç¼–å†™ library</a>ã€‚</p>
<h2 id="externalstype"><code>externalsType</code> <a href="#externalstype" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'var'</code></p>
<p>Specifies the default type of externals. <code>amd</code>, <code>umd</code>, <code>system</code> and <code>jsonp</code> externals <strong>depend on the <a href="/configuration/output/#outputlibrarytarget"><code>output.libraryTarget</code></a></strong> being set to the same value e.g. you can only consume <code>amd</code> externals within an <code>amd</code> library.</p>
<p>Supported types:</p>
<ul>
<li><code>'var'</code></li>
<li><code>'module'</code></li>
<li><code>'assign'</code></li>
<li><code>'this'</code></li>
<li><code>'window'</code></li>
<li><code>'self'</code></li>
<li><code>'global'</code></li>
<li><code>'commonjs'</code></li>
<li><code>'commonjs-module'</code></li>
<li><code>'amd'</code></li>
<li><code>'amd-require'</code></li>
<li><code>'umd'</code></li>
<li><code>'umd2'</code></li>
<li><code>'jsonp'</code></li>
<li><code>'system'</code></li>
<li><code>'promise'</code> - same as <code>'var'</code> but awaits the result (async module, depends on <a href="/configuration/experiments/"><code>experiments.importAsync</code></a>)</li>
<li><code>'import'</code> - uses <code>import()</code> to load a native EcmaScript module (async module, depends on <a href="/configuration/experiments/"><code>experiments.importAsync</code></a>)</li>
</ul>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  externalsType<span class="token punctuation">:</span> <span class="token string">'promise'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h1 id="æ€§èƒ½performance">æ€§èƒ½(performance)<a href="#%E6%80%A7%E8%83%BDperformance" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>è¿™äº›é€‰é¡¹å¯ä»¥æ§åˆ¶ webpack å¦‚ä½•é€šçŸ¥ã€Œèµ„æº(asset)å’Œå…¥å£èµ·ç‚¹è¶…è¿‡æŒ‡å®šæ–‡ä»¶é™åˆ¶ã€ã€‚
æ­¤åŠŸèƒ½å—åˆ° <a href="https://github.com/webpack/webpack/issues/3216">webpack æ€§èƒ½è¯„ä¼°</a>çš„å¯å‘ã€‚</p>
<h2 id="performance"><code>performance</code> <a href="#performance" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code></p>
<p>é…ç½®å¦‚ä½•å±•ç¤ºæ€§èƒ½æç¤ºã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªèµ„æºè¶…è¿‡ 250kbï¼Œwebpack ä¼šå¯¹æ­¤è¾“å‡ºä¸€ä¸ªè­¦å‘Šæ¥é€šçŸ¥ä½ ã€‚</p>
<h2 id="performancehints"><code>performance.hints</code> <a href="#performancehints" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'warning': 'error' | 'warning'</code> <code>boolean: false</code></p>
<p>æ‰“å¼€/å…³é—­æç¤ºã€‚æ­¤å¤–ï¼Œå½“æ‰¾åˆ°æç¤ºæ—¶ï¼Œå‘Šè¯‰ webpack æŠ›å‡ºä¸€ä¸ªé”™è¯¯æˆ–è­¦å‘Šã€‚æ­¤å±æ€§é»˜è®¤è®¾ç½®ä¸º <code>"warning"</code>ã€‚</p>
<p>ç»™å®šä¸€ä¸ªåˆ›å»ºåè¶…è¿‡ 250kb çš„èµ„æºï¼š</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  performance<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    hints<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>ä¸å±•ç¤ºè­¦å‘Šæˆ–é”™è¯¯æç¤ºã€‚</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  performance<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    hints<span class="token punctuation">:</span> <span class="token string">'warning'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å°†å±•ç¤ºä¸€æ¡è­¦å‘Šï¼Œé€šçŸ¥ä½ è¿™æ˜¯ä½“ç§¯å¤§çš„èµ„æºã€‚åœ¨å¼€å‘ç¯å¢ƒï¼Œæˆ‘ä»¬æ¨èè¿™æ ·ã€‚</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  performance<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    hints<span class="token punctuation">:</span> <span class="token string">'error'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å°†å±•ç¤ºä¸€æ¡é”™è¯¯ï¼Œé€šçŸ¥ä½ è¿™æ˜¯ä½“ç§¯å¤§çš„èµ„æºã€‚åœ¨ç”Ÿäº§ç¯å¢ƒæ„å»ºæ—¶ï¼Œæˆ‘ä»¬æ¨èä½¿ç”¨ <code>hints: "error"</code>ï¼Œæœ‰åŠ©äºé˜²æ­¢æŠŠä½“ç§¯å·¨å¤§çš„ bundle éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œä»è€Œå½±å“ç½‘é¡µçš„æ€§èƒ½ã€‚</p>
<h2 id="performancemaxentrypointsize"><code>performance.maxEntrypointSize</code> <a href="#performancemaxentrypointsize" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>number = 250000</code></p>
<p>å…¥å£èµ·ç‚¹è¡¨ç¤ºé’ˆå¯¹æŒ‡å®šçš„å…¥å£ï¼Œå¯¹äºæ‰€æœ‰èµ„æºï¼Œè¦å……åˆ†åˆ©ç”¨åˆå§‹åŠ è½½æ—¶(initial load time)æœŸé—´ã€‚æ­¤é€‰é¡¹æ ¹æ®å…¥å£èµ·ç‚¹çš„æœ€å¤§ä½“ç§¯ï¼Œæ§åˆ¶ webpack ä½•æ—¶ç”Ÿæˆæ€§èƒ½æç¤ºã€‚</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  performance<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    maxEntrypointSize<span class="token punctuation">:</span> <span class="token number">400000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="performancemaxassetsize"><code>performance.maxAssetSize</code> <a href="#performancemaxassetsize" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>number = 250000</code></p>
<p>èµ„æº(asset)æ˜¯ä» webpack ç”Ÿæˆçš„ä»»ä½•æ–‡ä»¶ã€‚æ­¤é€‰é¡¹æ ¹æ®å•ä¸ªèµ„æºä½“ç§¯(å•ä½: bytes)ï¼Œæ§åˆ¶ webpack ä½•æ—¶ç”Ÿæˆæ€§èƒ½æç¤ºã€‚</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  performance<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    maxAssetSize<span class="token punctuation">:</span> <span class="token number">100000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="performanceassetfilter"><code>performance.assetFilter</code> <a href="#performanceassetfilter" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>function(assetFilename) => boolean</code></p>
<p>æ­¤å±æ€§å…è®¸ webpack æ§åˆ¶ç”¨äºè®¡ç®—æ€§èƒ½æç¤ºçš„æ–‡ä»¶ã€‚é»˜è®¤å‡½æ•°å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js"><span class="token keyword">function</span> <span class="token function">assetFilter</span><span class="token punctuation">(</span>assetFilename<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span><span class="token regex">/\.map$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>assetFilename<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>ä½ å¯ä»¥é€šè¿‡ä¼ é€’è‡ªå·±çš„å‡½æ•°æ¥è¦†ç›–æ­¤å±æ€§ï¼š</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  performance<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    assetFilter<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>assetFilename<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> assetFilename<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>ä»¥ä¸Šç¤ºä¾‹å°†åªç»™å‡º <code>.js</code> æ–‡ä»¶çš„æ€§èƒ½æç¤ºã€‚</p>
<h1 id="Node">Node<a href="#Node" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>è¿™äº›é€‰é¡¹å¯ä»¥é…ç½®æ˜¯å¦ polyfill æˆ– mock æŸäº› <a href="https://nodejs.org/docs/latest/api/globals.html">Node.js å…¨å±€å˜é‡</a>å’Œæ¨¡å—ã€‚è¿™å¯ä»¥ä½¿æœ€åˆä¸º Node.js ç¯å¢ƒç¼–å†™çš„ä»£ç ï¼Œåœ¨å…¶ä»–ç¯å¢ƒï¼ˆå¦‚æµè§ˆå™¨ï¼‰ä¸­è¿è¡Œã€‚</p>
<p>æ­¤åŠŸèƒ½ç”± webpack å†…éƒ¨çš„ <a href="https://github.com/webpack/webpack/blob/master/lib/NodeStuffPlugin.js"><code>NodeStuffPlugin</code></a> æ’ä»¶æä¾›ã€‚å¦‚æœ target æ˜¯ "web"ï¼ˆé»˜è®¤ï¼‰æˆ– "webworker"ï¼Œé‚£ä¹ˆ <a href="https://github.com/webpack/webpack/blob/master/lib/node/NodeSourcePlugin.js"><code>NodeSourcePlugin</code></a> æ’ä»¶ä¹Ÿä¼šè¢«æ¿€æ´»ã€‚</p>
<h2 id="node"><code>node</code> <a href="#node" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code> <code>object</code></p>
<p>æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­æ¯ä¸ªå±æ€§éƒ½æ˜¯ Node.js å…¨å±€å˜é‡æˆ–æ¨¡å—çš„åç§°ï¼Œæ¯ä¸ª value æ˜¯ä»¥ä¸‹å…¶ä¸­ä¹‹ä¸€â€¦â€¦</p>
<ul>
<li><code>true</code>ï¼šæä¾› polyfillã€‚</li>
<li><code>"mock"</code>ï¼šæä¾› mock å®ç°é¢„æœŸæ¥å£ï¼Œä½†åŠŸèƒ½å¾ˆå°‘æˆ–æ²¡æœ‰ã€‚</li>
<li><code>"empty"</code>ï¼šæä¾›ç©ºå¯¹è±¡ã€‚</li>
<li><code>false</code>: ä»€ä¹ˆéƒ½ä¸æä¾›ã€‚é¢„æœŸè·å–æ­¤å¯¹è±¡çš„ä»£ç ï¼Œå¯èƒ½ä¼šå› ä¸ºè·å–ä¸åˆ°æ­¤å¯¹è±¡ï¼Œè§¦å‘ <code>ReferenceError</code> è€Œå´©æºƒã€‚å°è¯•ä½¿ç”¨ <code>require('modulename')</code> å¯¼å…¥æ¨¡å—çš„ä»£ç ï¼Œå¯èƒ½ä¼šè§¦å‘ <code>Cannot find module "modulename"</code> é”™è¯¯ã€‚</li>
</ul>
<blockquote class="warning">
<p>æ³¨æ„ï¼Œä¸æ˜¯æ¯ä¸ª Node å…¨å±€å˜é‡éƒ½æ”¯æŒæ‰€æœ‰é€‰é¡¹ã€‚å¯¹äºä¸æ”¯æŒçš„é”®å€¼ç»„åˆ(property-value combination)ï¼Œcompiler ä¼šæŠ›å‡ºé”™è¯¯ã€‚æ›´å¤šç»†èŠ‚è¯·æŸ¥çœ‹æ¥ä¸‹æ¥çš„ç« èŠ‚ã€‚</p>
</blockquote>
<blockquote class="tip">
<p>å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ä¸€ä¸ªéœ€è¦å…¨å±€å˜é‡çš„æ¨¡å—ï¼Œè¯·ä½¿ç”¨ <code>ProvidePlugin</code> è€Œé <code>global</code>ã€‚</p>
</blockquote>
<p>è¿™é‡Œæ˜¯é»˜è®¤å€¼ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  node<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    global<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    __filename<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    __dirname<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>ä» webpack 3.0.0 å¼€å§‹ï¼Œ<code>node</code> é€‰é¡¹å¯èƒ½è¢«è®¾ç½®ä¸º <code>false</code>ï¼Œä»¥å®Œå…¨å…³é—­ <code>NodeStuffPlugin</code> å’Œ <code>NodeSourcePlugin</code> æ’ä»¶ã€‚</p>
<h2 id="nodeglobal"><code>node.global</code> <a href="#nodeglobal" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = true</code></p>
<p>Defaults to <code>false</code> for <a href="https://webpack.js.org/configuration/target/">targets</a> <code>node</code>, <code>async-node</code> and <code>electron-main</code>.</p>
<p>å…³äºæ­¤å¯¹è±¡çš„å‡†ç¡®è¡Œä¸ºï¼Œè¯·æŸ¥çœ‹<a href="https://github.com/webpack/webpack/blob/master/buildin/global.js">æºç </a>ã€‚</p>
<h2 id="node__filename"><code>node.__filename</code> <a href="#node__filename" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code> <code>string = mock</code></p>
<p>Defaults to <code>false</code> for <a href="https://webpack.js.org/configuration/target/">targets</a> <code>node</code>, <code>async-node</code> and <code>electron-main</code>.</p>
<p>é€‰é¡¹ï¼š</p>
<ul>
<li><code>true</code>: <strong>è¾“å…¥</strong> æ–‡ä»¶çš„æ–‡ä»¶åï¼Œæ˜¯ç›¸å¯¹äº <a href="https://webpack.js.org/configuration/entry-context/#context"><code>context</code> é€‰é¡¹</a>ã€‚</li>
<li><code>false</code>: å¸¸è§„çš„ Node.js <code>__filename</code> è¡Œä¸ºã€‚åœ¨ Node.js ç¯å¢ƒä¸­è¿è¡Œæ—¶ï¼Œ<strong>è¾“å‡º</strong> æ–‡ä»¶çš„æ–‡ä»¶åã€‚</li>
<li><code>"mock"</code>: value å¡«å……ä¸º <code>"index.js"</code>.</li>
</ul>
<h2 id="node__dirname"><code>node.__dirname</code> <a href="#node__dirname" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code> <code>string = mock</code></p>
<p>Defaults to <code>false</code> for <a href="https://webpack.js.org/configuration/target/">targets</a> <code>node</code>, <code>async-node</code> and <code>electron-main</code>.</p>
<p>é€‰é¡¹ï¼š</p>
<ul>
<li><code>true</code>: <strong>è¾“å…¥</strong> æ–‡ä»¶çš„ç›®å½•åï¼Œæ˜¯ç›¸å¯¹äº <a href="https://webpack.js.org/configuration/entry-context/#context"><code>context</code> é€‰é¡¹</a>ã€‚</li>
<li><code>false</code>: å¸¸è§„çš„ Node.js <code>__dirname</code> è¡Œä¸ºã€‚åœ¨ Node.js ç¯å¢ƒä¸­è¿è¡Œæ—¶ï¼Œ<strong>è¾“å‡º</strong> æ–‡ä»¶çš„ç›®å½•åã€‚</li>
<li><code>"mock"</code>: value å¡«å……ä¸º <code>"/"</code>ã€‚</li>
</ul>
<h1 id="stats-å¯¹è±¡">stats å¯¹è±¡<a href="#stats-%E5%AF%B9%E8%B1%A1" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p><code>object</code> <code>string</code></p>
<p><code>stats</code> é€‰é¡¹è®©ä½ æ›´ç²¾ç¡®åœ°æ§åˆ¶ bundle ä¿¡æ¯è¯¥æ€ä¹ˆæ˜¾ç¤ºã€‚ å¦‚æœä½ ä¸å¸Œæœ›ä½¿ç”¨ <code>quiet</code> æˆ– <code>noInfo</code> è¿™æ ·çš„ä¸æ˜¾ç¤ºä¿¡æ¯ï¼Œè€Œæ˜¯åˆä¸æƒ³å¾—åˆ°å…¨éƒ¨çš„ä¿¡æ¯ï¼Œåªæ˜¯æƒ³è¦è·å–æŸéƒ¨åˆ† bundle çš„ä¿¡æ¯ï¼Œä½¿ç”¨ stats é€‰é¡¹æ˜¯æ¯”è¾ƒå¥½çš„æŠ˜è¡·æ–¹å¼ã€‚</p>
<blockquote class="tip">
<p>å¯¹äº webpack-dev-serverï¼Œè¿™ä¸ªå±æ€§è¦æ”¾åœ¨ <a href="/configuration/dev-server/#devserverstats-"><code>devServer</code> é…ç½®å¯¹è±¡</a>.</p>
</blockquote>
<blockquote class="tip">
<p>å¯¹äº <a href="https://github.com/webpack/webpack-dev-middleware">webpack-dev-middleware</a>, è¯¥å±æ€§éœ€è¦åœ¨webpack-dev-middleware çš„ <code>options</code> å¯¹è±¡ä¸­.</p>
</blockquote>
<blockquote class="warning">
<p>åœ¨ä½¿ç”¨ Node.js API æ—¶ï¼Œæ­¤é€‰é¡¹æ— æ•ˆã€‚</p>
</blockquote>
<p><strong>webpack.js.org</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token string">'errors-only'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="stats-presets">Stats Presets <a href="#stats-presets" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>webpack æœ‰ä¸€äº›ç‰¹å®šçš„é¢„è®¾é€‰é¡¹ç»™ç»Ÿè®¡ä¿¡æ¯è¾“å‡ºï¼š</p>
<table>
<thead>
<tr>
<th>é¢„è®¾</th>
<th>å¯é€‰å€¼</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td><div class="title"><p>é¢„è®¾</p><p>å¯é€‰å€¼</p><p>æè¿°</p></div>
<div class="content"><p><code>'errors-only'</code><p class="description mobile"><em>none</em></p></p></div></td>
<td class="description desktop"><em>none</em></td>
<td>åªåœ¨å‘ç”Ÿé”™è¯¯æ—¶è¾“å‡º</td>
</tr>
<tr>
<td><div class="title"><p>é¢„è®¾</p><p>å¯é€‰å€¼</p><p>æè¿°</p></div>
<div class="content"><p><code>'errors-warnings'</code><p class="description mobile"><em>none</em></p></p></div></td>
<td class="description desktop"><em>none</em></td>
<td>åªåœ¨å‘ç”Ÿé”™è¯¯æˆ–æœ‰æ–°çš„ç¼–è¯‘æ—¶è¾“å‡º</td>
</tr>
<tr>
<td><div class="title"><p>é¢„è®¾</p><p>å¯é€‰å€¼</p><p>æè¿°</p></div>
<div class="content"><p><code>'minimal'</code><p class="description mobile"><em>none</em></p></p></div></td>
<td class="description desktop"><em>none</em></td>
<td>åªåœ¨å‘ç”Ÿé”™è¯¯æˆ–æ–°çš„ç¼–è¯‘å¼€å§‹æ—¶è¾“å‡º</td>
</tr>
<tr>
<td><div class="title"><p>é¢„è®¾</p><p>å¯é€‰å€¼</p><p>æè¿°</p></div>
<div class="content"><p><code>'none'</code><p class="description mobile"><code>false</code></p></p></div></td>
<td class="description desktop"><code>false</code></td>
<td>æ²¡æœ‰è¾“å‡º</td>
</tr>
<tr>
<td><div class="title"><p>é¢„è®¾</p><p>å¯é€‰å€¼</p><p>æè¿°</p></div>
<div class="content"><p><code>'normal'</code><p class="description mobile"><code>true</code></p></p></div></td>
<td class="description desktop"><code>true</code></td>
<td>æ ‡å‡†è¾“å‡º</td>
</tr>
<tr>
<td><div class="title"><p>é¢„è®¾</p><p>å¯é€‰å€¼</p><p>æè¿°</p></div>
<div class="content"><p><code>'verbose'</code><p class="description mobile"><em>none</em></p></p></div></td>
<td class="description desktop"><em>none</em></td>
<td>å…¨éƒ¨è¾“å‡º</td>
</tr>
<tr>
<td><div class="title"><p>é¢„è®¾</p><p>å¯é€‰å€¼</p><p>æè¿°</p></div>
<div class="content"><p><code>'detailed'</code><p class="description mobile"><em>none</em></p></p></div></td>
<td class="description desktop"><em>none</em></td>
<td>å…¨éƒ¨è¾“å‡ºé™¤äº† 
<code>chunkModules</code>
 å’Œ 
<code>chunkRootModules</code></td>
</tr>
</tbody>
</table>
<h2 id="stats-options">Stats é€‰é¡¹ <a href="#stats-options" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>ä½ å¯ä»¥åœ¨ç»Ÿè®¡è¾“å‡ºé‡ŒæŒ‡å®šä½ æƒ³çœ‹åˆ°çš„ä¿¡æ¯ã€‚</p>
<blockquote class="tip">
<p>æ‰€æœ‰åœ¨ç»Ÿè®¡ä¿¡æ¯é…ç½®é‡Œçš„é€‰é¡¹éƒ½æ˜¯å¯é€‰çš„ã€‚</p>
</blockquote>
<h3 id="statsall"><code>stats.all</code> <a href="#statsall" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>å½“ç»Ÿè®¡ä¿¡æ¯é…ç½®æ²¡è¢«å®šä¹‰ï¼Œåˆ™è¯¥å€¼æ˜¯ä¸€ä¸ªå›é€€å€¼ã€‚å®ƒçš„ä¼˜å…ˆçº§æ¯”æœ¬åœ°çš„ webpack é»˜è®¤å€¼é«˜ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    all<span class="token punctuation">:</span> undefined
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsassets"><code>stats.assets</code> <a href="#statsassets" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦å±•ç¤ºèµ„æºä¿¡æ¯ã€‚å°† <code>stats.assets</code> è®¾ç½®æˆ <code>false</code> ä¼šç¦ç”¨.</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    assets<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsassetssort"><code>stats.assetsSort</code> <a href="#statsassetssort" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string = 'id'</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> åŸºäºç»™å®šçš„å­—æ®µå¯¹èµ„æºè¿›è¡Œæ’åºã€‚æ‰€æœ‰çš„ <a href="#sorting-fields">æ’åºå­—æ®µ</a>éƒ½è¢«å…è®¸ä½œä¸º <code>stats.assetsSort</code>çš„å€¼ã€‚ä½¿ç”¨ <code>!</code> ä½œä¸ºå€¼çš„å‰ç¼€ä»¥åè½¬åŸºäºç»™å®šå­—æ®µçš„æ’åºç»“æœã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    assetsSort<span class="token punctuation">:</span> <span class="token string">'!size'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsbuiltat"><code>stats.builtAt</code> <a href="#statsbuiltat" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ æ„å»ºæ—¥æœŸä¸æ—¶é—´ä¿¡æ¯ã€‚å°† <code>stats.builtAt</code> è®¾ç½®æˆ <code>false</code> æ¥éšè—.</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    builtAt<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsmoduleassets"><code>stats.moduleAssets</code> <a href="#statsmoduleassets" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ æ¨¡å—å†…çš„èµ„æºä¿¡æ¯ã€‚å°† <code>stats.moduleAssets</code> è®¾ç½®æˆ <code>false</code> ä»¥éšè—ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    moduleAssets<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statscached"><code>stats.cached</code> <a href="#statscached" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ å…³äºç¼“å­˜æ¨¡å—çš„ä¿¡æ¯ (å¹¶éè¢«æ„å»ºçš„æ¨¡å—)ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    cached<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statscachedassets"><code>stats.cachedAssets</code> <a href="#statscachedassets" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ å…³äºç¼“å­˜èµ„æºçš„ä¿¡æ¯ã€‚ å°† <code>stats.cachedAssets</code> è®¾ç½®æˆ <code>false</code> ä¼šå‘ŠçŸ¥ <code>stats</code> ä»…å±•ç¤ºè¢«ç”Ÿæˆçš„æ–‡ä»¶ (å¹¶éè¢«æ„å»ºçš„æ¨¡å—)ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    cachedAssets<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statschildren"><code>stats.children</code> <a href="#statschildren" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ å…³äºå­æ¨¡å—çš„ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    children<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statschunks"><code>stats.chunks</code> <a href="#statschunks" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ å…³äº chunk çš„ä¿¡æ¯ã€‚ å°† <code>stats.chunks</code> è®¾ç½®ä¸º <code>false</code> ä¼šå¼•å‘æ›´å°‘çš„è¾“å‡ºã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    chunks<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statschunkgroups"><code>stats.chunkGroups</code> <a href="#statschunkgroups" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ å…³äº <code>namedChunkGroups</code> çš„ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    chunkGroups<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statschunkmodules"><code>stats.chunkModules</code> <a href="#statschunkmodules" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ å…³äºå·²æ„å»ºæ¨¡å—å’Œå…³äº chunk çš„ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    chunkModules<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statschunkrootmodules"><code>stats.chunkRootModules</code> <a href="#statschunkrootmodules" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ å…³äº chunks çš„æ ¹æ¨¡å—ä¿¡æ¯ã€‚ å¦‚æœ <code>stats.chunks = true</code> åˆ™ä¼šåº”ç”¨è¯¥é…ç½®.</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    chunkRootModules<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statschunkorigins"><code>stats.chunkOrigins</code> <a href="#statschunkorigins" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ˜¯ä¸æ·»åŠ å…³äº chunks çš„æ¥æºå’Œ chunk åˆå¹¶çš„ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    chunkOrigins<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statschunkssort"><code>stats.chunksSort</code> <a href="#statschunkssort" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string = 'id'</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> åŸºäºç»™å®šçš„å­—æ®µç»™ chunks æ’åºã€‚æ‰€æœ‰ <a href="#sorting-fields">æ’åºå­—æ®µ</a> éƒ½è¢«å…è®¸ç”¨äºä½œä¸º <code>stats.chunksSort</code> çš„å€¼ã€‚ä½¿ç”¨  <code>!</code> ä½œä¸ºå€¼é‡Œçš„å‰ç¼€ç”¨ä»¥å°†åŸºäºç»™å®šå­—æ®µæ’åºçš„ç»“æœåè½¬ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    chunksSort<span class="token punctuation">:</span> <span class="token string">'name'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statscontext"><code>stats.context</code> <a href="#statscontext" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string = '../src/'</code></p>
<p>è®¾ç½®ä¸Šä¸‹æ–‡ç›®å½•ç”¨ä»¥å°†æ–‡ä»¶è¯·æ±‚ä¿¡æ¯å˜çŸ­ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    context<span class="token punctuation">:</span> <span class="token string">'../src/components/'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statscolors"><code>stats.colors</code> <a href="#statscolors" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = false</code> <code>object</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦è¾“å‡ºä¸åŒçš„é¢œè‰²ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    colors<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å®ƒä¹Ÿå¯ç”¨é€šè¿‡å‘½ä»¤è¡Œçš„å‚æ•°å®ç°ï¼š</p>
<pre><code class="hljs language-bash">webpack-cli --colors</code></pre>
<p>ä½ å¯ä»¥é€šè¿‡ä½¿ç”¨ <a href="https://en.wikipedia.org/wiki/ANSI_escape_code">ANSI escape sequences</a> æŒ‡å®šä½ è‡ªå·±çš„å‘½ä»¤è¡Œç»ˆç«¯é¢œè‰²ã€‚</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  colors<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    green<span class="token punctuation">:</span> <span class="token string">'\u001b[32m'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsdepth"><code>stats.depth</code> <a href="#statsdepth" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = false</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦å±•ç¤ºæ¯ä¸ªæ¨¡å—ä¸å…¥å£æ–‡ä»¶çš„è·ç¦»ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    depth<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsentrypoints"><code>stats.entrypoints</code> <a href="#statsentrypoints" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦å±•ç¤ºå…¥å£æ–‡ä»¶ä¸å¯¹åº”çš„æ–‡ä»¶ bundlesã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    entrypoints<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsenv"><code>stats.env</code> <a href="#statsenv" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = false</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦å±•ç¤º <code>--env</code> ä¿¡æ¯.</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    env<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsorphanmodules"><code>stats.orphanModules</code> <a href="#statsorphanmodules" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = false</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦éšè— <code>å­¤å„¿(orphan)</code> æ¨¡å—. ä¸€ä¸ªæ¨¡å—å±äº <code>å­¤å„¿(orphan)</code> å¦‚æœå®ƒä¸è¢«åŒ…å«åœ¨ä»»ä½•ä¸€ä¸ª chunké‡Œã€‚å­¤å„¿æ¨¡å—é»˜è®¤åœ¨ <code>stats</code> ä¸­ä¼šè¢«éšè—ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    orphanModules<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statserrors"><code>stats.errors</code> <a href="#statserrors" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦å±•ç¤ºé”™è¯¯ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    errors<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statserrordetails"><code>stats.errorDetails</code> <a href="#statserrordetails" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ é”™è¯¯çš„è¯¦æƒ…ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    errorDetails<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statserrorstack"><code>stats.errorStack</code> <a href="#statserrorstack" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦å±•ç¤ºé”™ä½çš„æ ˆè¿½è¸ªä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    errorStack<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsexcludeassets"><code>stats.excludeAssets</code> <a href="#statsexcludeassets" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>array = []: string | RegExp | function (assetName) => boolean</code> <code>string</code> <code>RegExp</code> <code>function (assetName) => boolean</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ’é™¤æ‰åŒ¹é…çš„èµ„æºä¿¡æ¯ã€‚è¿™ä¸ªå¯ä»¥é€šè¿‡è®¾ç½®ä¸€ä¸ª <code>å­—ç¬¦ä¸²</code>, ä¸€ä¸ª <code>æ­£åˆ™è¡¨è¾¾å¼</code>, ä¸€ä¸ª <code>å‡½æ•°</code> å–å¾—èµ„æºçš„åå­—ä½œä¸ºå…¥å‚ä¸”è¿”å›ä¸€ä¸ª <code>å¸ƒå°”å€¼</code>ã€‚ <code>stats.excludeAssets</code> å¯ä»¥æ˜¯ä¸€ä¸ªåŒ…æ‹¬ä¸Šé¢ä»»æ„ä¸€ç±»å‹å€¼çš„ <code>æ•°ç»„</code> ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    excludeAssets<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">'filter'</span><span class="token punctuation">,</span>
      <span class="token regex">/filter/</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span>assetName<span class="token punctuation">)</span> <span class="token operator">=></span> assetName<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'moduleA'</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsexcludemodules"><code>stats.excludeModules</code> <a href="#statsexcludemodules" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>array = []: string | RegExp | function (assetName) => boolean</code> <code>string</code> <code>RegExp</code> <code>function (assetName) => boolean</code> <code>boolean: false</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ’é™¤æ‰åŒ¹é…çš„èµ„æºä¿¡æ¯ã€‚è¿™ä¸ªå¯ä»¥é€šè¿‡è®¾ç½®ä¸€ä¸ª <code>å­—ç¬¦ä¸²</code>, ä¸€ä¸ª <code>æ­£åˆ™è¡¨è¾¾å¼</code>, ä¸€ä¸ª <code>å‡½æ•°</code> å–å¾—èµ„æºçš„åå­—ä½œä¸ºå…¥å‚ä¸”è¿”å›ä¸€ä¸ª <code>å¸ƒå°”å€¼</code>ã€‚ <code>stats.excludeModules</code> å¯ä»¥æ˜¯ä¸€ä¸ªåŒ…æ‹¬ä¸Šé¢ä»»æ„ä¸€ç±»å‹å€¼çš„ <code>æ•°ç»„</code> ã€‚<code>stats.excludeModules</code> ä¼šä¸ <code>stats.exclude</code> çš„é…ç½®å€¼<a href="https://github.com/webpack/webpack/blob/master/lib/Stats.js#L215">è¿›è¡Œåˆå¹¶</a>ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    excludeModules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">'filter'</span><span class="token punctuation">,</span>
      <span class="token regex">/filter/</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span>moduleSource<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token boolean">true</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å°† <code>stats.excludeModules</code> è®¾ç½®ä¸º <code>false</code> ä¼šç¦ç”¨ä»¥ä¸Šçš„æ’é™¤è¡Œä¸ºã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    excludeModules<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsexclude"><code>stats.exclude</code> <a href="#statsexclude" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>è¯¦å‚ <a href="#statsexcludemodules"><code>stats.excludeModules</code></a>.</p>
<h3 id="statshash"><code>stats.hash</code> <a href="#statshash" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ å…³äºç¼–è¯‘å“ˆå¸Œå€¼çš„ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    hash<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statslogging"><code>stats.logging</code> <a href="#statslogging" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string = 'info': 'none' | 'error' | 'warn' | 'info' | 'log' | 'verbose'</code> <code>boolean</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ æ—¥å¿—è¾“å‡ºã€‚</p>
<ul>
<li><code>'none'</code>, <code>false</code> - ç¦ç”¨æ—¥å¿—</li>
<li><code>'error'</code> - ä»…æ˜¾ç¤ºé”™è¯¯</li>
<li><code>'warn'</code> - ä»…æ˜¾ç¤ºé”™è¯¯ä¸å‘Šè­¦</li>
<li><code>'info'</code> - æ˜¾ç¤ºé”™è¯¯ï¼Œå‘Šè­¦ä¸ä¿¡æ¯</li>
<li><code>'log'</code>, <code>true</code> - æ˜¾ç¤ºé”™è¯¯ï¼Œå‘Šè­¦ä¸ä¿¡æ¯ï¼Œæ—¥å¿—ï¼Œç»„åˆ«ï¼Œæ¸…ç†ã€‚æŠ˜å ç»„åˆ«ä¼šåœ¨æŠ˜å çŠ¶æ€ä¸­è¢«æ˜¾ç¤º ã€‚</li>
<li><code>'verbose'</code> - è¾“å‡ºæ‰€æœ‰æ—¥å¿—é™¤äº†è°ƒè¯•ä¸è¿½è¸ªã€‚ æŠ˜å ç»„åˆ«ä¼šåœ¨æ‰©å±•çŠ¶æ€ä¸­è¢«æ˜¾ç¤º ã€‚</li>
</ul>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    logging<span class="token punctuation">:</span> <span class="token string">'verbose'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsloggingdebug"><code>stats.loggingDebug</code> <a href="#statsloggingdebug" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>array = []: string | RegExp | function (name) => boolean</code> <code>string</code> <code>RegExp</code> <code>function (name) => boolean</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> å»åŒ…æ‹¬ç‰¹å®šçš„æ—¥å¿—å·¥å…·è°ƒè¯•ä¿¡æ¯æ¯”å¦‚æ’ä»¶æˆ–åŠ è½½å™¨çš„æ—¥å¿—å·¥å…·ã€‚å½“ <a href="#statslogging"><code>stats.logging</code></a> è¢«è®¾ç½®ä¸º <code>false</code>, <code>stats.loggingDebug</code> é…ç½®ä¼šè¢«å¿½ç•¥ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    loggingDebug<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">'MyPlugin'</span><span class="token punctuation">,</span>
      <span class="token regex">/MyPlugin/</span><span class="token punctuation">,</span>
      <span class="token regex">/webpack/</span><span class="token punctuation">,</span> <span class="token comment">// To get core logging</span>
      <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">=></span> name<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsloggingtrace"><code>stats.loggingTrace</code> <a href="#statsloggingtrace" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å¯ç”¨é”™è¯¯ï¼Œå‘Šè­¦ä¸è¿½è¸ªçš„æ—¥å¿—è¾“å‡ºä¸­çš„å †æ ˆè¿½è¸ªã€‚å°† <code>stats.loggingTrace</code> è®¾ç½®ä¸º <code>false</code> éšè—è¿½è¸ªã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    loggingTrace<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsmaxmodules"><code>stats.maxModules</code> <a href="#statsmaxmodules" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>number = 15</code></p>
<p>è®¾ç½®æœ€å¤§çš„æ¨¡å—æ˜¾ç¤ºæ•°é‡ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    maxModules<span class="token punctuation">:</span> <span class="token number">5</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsmodules"><code>stats.modules</code> <a href="#statsmodules" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ å…³äºæ„å»ºæ¨¡å—çš„ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    modules<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsmodulessort"><code>stats.modulesSort</code> <a href="#statsmodulessort" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string = 'id'</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> åŸºäºç»™å®šçš„å­—æ®µå¯¹èµ„æºè¿›è¡Œæ’åºã€‚æ‰€æœ‰çš„ <a href="#sorting-fields">æ’åºå­—æ®µ</a>éƒ½è¢«å…è®¸ä½œä¸º <code>stats.modulesSort</code>çš„å€¼ã€‚ä½¿ç”¨ <code>!</code> ä½œä¸ºå€¼çš„å‰ç¼€ä»¥åè½¬åŸºäºç»™å®šå­—æ®µçš„æ’åºç»“æœã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    modulesSort<span class="token punctuation">:</span> <span class="token string">'size'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsmoduletrace"><code>stats.moduleTrace</code> <a href="#statsmoduletrace" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> å±•ç¤ºä¾èµ–å’Œå‘Šè­¦/é”™è¯¯çš„æ¥æºã€‚<code>stats.moduleTrace</code> ä» webpack 2.5.0 èµ·å¯ç”¨ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    moduleTrace<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsoutputpath"><code>stats.outputPath</code> <a href="#statsoutputpath" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> å±•ç¤º <code>outputPath</code>.</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    outputPath<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsperformance"><code>stats.performance</code> <a href="#statsperformance" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> å½“æ–‡ä»¶å¤§å°è¶…è¿‡ <a href="/configuration/performance/#performancemaxassetsize"><code>performance.maxAssetSize</code></a>é…ç½®å€¼æ—¶ï¼Œå±•ç¤ºæ€§èƒ½ææ€§ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    performance<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statspreset"><code>stats.preset</code> <a href="#statspreset" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string</code> <code>boolean: false</code></p>
<p>ä¸ºå±•ç¤ºçš„ä¿¡æ¯ç±»å‹è®¾ç½® <a href="/configuration/stats/#stats-presets">é¢„è®¾å€¼</a>ã€‚è¿™å¯¹<a href="/configuration/stats/#extending-stats-behaviours">æ‰©å±•ç»Ÿè®¡ä¿¡æ¯è¡Œä¸º</a>éå¸¸æœ‰ç”¨ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    preset<span class="token punctuation">:</span> <span class="token string">'minimal'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å°† <code>stats.preset</code> çš„å€¼è®¾ç½®ä¸º<code>false</code> å‘ŠçŸ¥ webpack ä½¿ç”¨ <code>'none'</code> <a href="/configuration/stats/#stats-presets">ç»Ÿè®¡ä¿¡æ¯é¢„è®¾å€¼</a>ã€‚</p>
<h3 id="statsprovidedexports"><code>stats.providedExports</code> <a href="#statsprovidedexports" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = false</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> å»å±•ç¤ºæ¨¡å—çš„å¯¼å‡ºã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    providedExports<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statspublicpath"><code>stats.publicPath</code> <a href="#statspublicpath" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> å±•ç¤º <code>publicPath</code>ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    publicPath<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsreasons"><code>stats.reasons</code> <a href="#statsreasons" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ·»åŠ å…³äºæ¨¡å—è¢«å¼•ç”¨çš„åŸå› ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    reasons<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statssource"><code>stats.source</code> <a href="#statssource" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = false</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> å»æ·»åŠ æ¨¡å—çš„æºç ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    source<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statstimings"><code>stats.timings</code> <a href="#statstimings" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ·»åŠ æ—¶é—´ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    timings<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsusedexports"><code>stats.usedExports</code> <a href="#statsusedexports" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = false</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦å±•ç¤ºæ¨¡å—ç”¨äº†å“ªäº›å¯¼å‡ºã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    usedExports<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsversion"><code>stats.version</code> <a href="#statsversion" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ·»åŠ å…³äº webpack ç‰ˆæœ¬çš„ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    version<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statswarnings"><code>stats.warnings</code> <a href="#statswarnings" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ·»åŠ å‘Šè­¦ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    warnings<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statswarningsfilter"><code>stats.warningsFilter</code> <a href="#statswarningsfilter" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>array = []: string | RegExp | function (warning) => boolean</code> <code>string</code> <code>RegExp</code> <code>function (warning) => boolean</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> æ’é™¤æ‰åŒ¹é…çš„å‘Šè­¦ä¿¡æ¯ã€‚è¿™ä¸ªå¯ä»¥é€šè¿‡è®¾ç½®ä¸€ä¸ª <code>å­—ç¬¦ä¸²</code>, ä¸€ä¸ª <code>æ­£åˆ™è¡¨è¾¾å¼</code>, ä¸€ä¸ª <code>å‡½æ•°</code> å–å¾—èµ„æºçš„åå­—ä½œä¸ºå…¥å‚ä¸”è¿”å›ä¸€ä¸ª <code>å¸ƒå°”å€¼</code>ã€‚ <code>stats.warningsFilter</code> å¯ä»¥æ˜¯ä¸€ä¸ªåŒ…æ‹¬ä¸Šé¢ä»»æ„ä¸€ç±»å‹å€¼çš„ <code>æ•°ç»„</code> ã€‚</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    warningsFilter<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">'filter'</span><span class="token punctuation">,</span>
      <span class="token regex">/filter/</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span>warning<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token boolean">true</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statschunkrelations"><code>stats.chunkRelations</code> <a href="#statschunkrelations" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = false</code></p>
<p>å‘ŠçŸ¥ <code>stats</code> å±•ç¤º chunk çš„çˆ¶chunkï¼Œå­©å­chunkå’Œå…„å¼Ÿchunkã€‚</p>
<h3 id="sorting-fields">å­—æ®µæ’åº <a href="#sorting-fields" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>å¯¹äº <code>assetsSort</code>, <code>chunksSort</code> å’Œ <code>modulesSort</code> å®ƒä»¬æœ‰å‡ ä¸ªå¯ç”¨çš„å­—æ®µç”¨äºæ’åºï¼š</p>
<ul>
<li><code>'id'</code> æ˜¯å…ƒç´ ï¼ˆæŒ‡èµ„æºï¼Œchunkæˆ–æ¨¡å—ï¼Œä¸‹åŒï¼‰çš„ id;</li>
<li><code>'name'</code> - ä¸€ä¸ªå…ƒç´ çš„åå­—ï¼Œåœ¨å¯¼å¼•çš„æ—¶å€™è¢«åˆ†é…ï¼›</li>
<li><code>'size'</code> - ä¸€ä¸ªå…ƒç´ çš„å¤§å°ï¼Œå•ä½å­—èŠ‚ï¼ˆbytesï¼‰;</li>
<li><code>'chunks'</code> - å…ƒç´ æ¥æºäºå“ªäº› chunks (ä¾‹å¦‚ï¼Œä¸€ä¸ª chunk æœ‰å¤šä¸ªå­ chunksï¼Œ - å­ chunks ä¼šè¢«åŸºäºä¸» chunk ç»„åˆåˆ°ä¸€èµ·);</li>
<li><code>'errors'</code> - å…ƒç´ ç»„é”™è¯¯çš„æ•°é‡;</li>
<li><code>'warnings'</code> - å…ƒç´ ä¸­å‘Šè­¦çš„æ•°é‡;</li>
<li><code>'failed'</code> - å…ƒç´ æ˜¯è¢«ç¼–è¯‘å¤±è´¥;</li>
<li><code>'cacheable'</code> - å…ƒç´ æ˜¯å¦è¢«ç¼“å­˜;</li>
<li><code>'built'</code> - èµ„æºæ˜¯å¦è¢«æ„å»º;</li>
<li><code>'prefetched'</code> - èµ„æºæ˜¯å¦è¢«é¢„æ‹‰å–;</li>
<li><code>'optional'</code> - èµ„æºæ˜¯å¦å¯é€‰;</li>
<li><code>'identifier'</code> - å…ƒç´ çš„æ ‡è¯†ç¬¦;</li>
<li><code>'index'</code> - å…ƒç´ åŠ å·¥æŒ‡é’ˆ;</li>
<li><code>'index2'</code></li>
<li><code>'profile'</code></li>
<li><code>'issuer'</code> - å‘èµ·è€…(issuer)çš„æ ‡è¯†ç¬¦;</li>
<li><code>'issuerId'</code> - å‘èµ·è€…(issuer)çš„id;</li>
<li><code>'issuerName'</code> - å‘èµ·è€…(issuer)çš„åå­—;</li>
<li><code>'issuerPath'</code> - ä¸€ä¸ªå®Œæ•´çš„å‘èµ·è€…(issuer)å¯¹è±¡ã€‚åŸºäºè¿™ä¸ªå­—æ®µæ’åºæ²¡æœ‰ç°å®çš„éœ€è¦;</li>
</ul>
<h3 id="extending-stats-behaviours">æ‰©å±•ç»Ÿè®¡ä¿¡æ¯è¡Œä¸º <a href="#extending-stats-behaviours" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>å¦‚æœä½ æƒ³ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªé¢„å®šä¹‰çš„è¡Œä¸ºï¼Œä¾‹å¦‚ <code>'minimal'</code>ï¼Œä½†ä»æƒ³é‡è½½ä¸€ä¸ªæˆ–æ›´å¤šçš„è§„åˆ™ï¼šè¯·æŒ‡å®šæƒ³è¦è®¾ç½®çš„ <code>stats.preset</code> åŒæ—¶åœ¨åé¢æ·»åŠ è‡ªå®šä¹‰æˆ–é¢å¤–çš„è§„åˆ™ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//..</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    preset<span class="token punctuation">:</span> <span class="token string">'minimal'</span><span class="token punctuation">,</span>
    moduleTrace<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    errorDetails<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h1 id="å®éªŒç‰¹æ€§experiments">å®éªŒç‰¹æ€§(experiments)<a href="#%E5%AE%9E%E9%AA%8C%E7%89%B9%E6%80%A7experiments" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<h2 id="experiments"><code>experiments</code> <a href="#experiments" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean: false</code></p>
<p><code>experiments</code> é…ç½®æ˜¯åœ¨ webpack 5 ä¸­æ¨å‡ºï¼Œç›®çš„æ˜¯ä¸ºäº†ç»™ç”¨æˆ·èµ‹èƒ½å»å¼€å¯å¹¶è¯•ç”¨ä¸€äº›å®éªŒçš„ç‰¹æ€§ã€‚</p>
<blockquote class="warning">
<p>ç”±äºå®éªŒç‰¹æ€§å…·æœ‰ç›¸å¯¹ å®½æ¾çš„è¯­ä¹‰ç‰ˆæœ¬ï¼Œå¯èƒ½ä¼šæœ‰é‡å¤§çš„å˜æ›´ï¼Œæ‰€ä»¥ä¸»ç¡®å®šä½ å°† webpack çš„ç‰ˆæœ¬å›ºå®šä¸ºå°ç‰ˆæœ¬å·ï¼Œä¾‹å¦‚ä¸å…¶ä½¿ç”¨ <code>webpack: ~5.4.3</code> ä¸å¦‚ä½¿ç”¨ <code>webpack: ^5.4.3</code> æˆ–è€…å½“ä½¿ç”¨ <code>experiments</code> é…ç½®æ—¶ä½¿ç”¨ç‰ˆæœ¬é”å®šèƒ½åŠ›.</p>
</blockquote>
<p>å¯ç”¨çš„é…ç½®é¡¹ï¼š</p>
<ul>
<li><code>mjs</code>: æ”¯æŒ  <code>.mjs</code> æ–‡ä»¶æ¥å®šä¹‰ <a href="https://nodejs.org/api/esm.html#esm_ecmascript_modules">EcmaScript æ¨¡å—</a></li>
<li><code>syncWebAssembly</code>: æ”¯æŒæ—§ç‰ˆæœ¬  webpack 4 çš„  WebAssembly</li>
<li><code>asyncWebAssembly</code>: æ”¯æŒæ–°ç‰ˆæœ¬çš„ WebAssemblyï¼Œè¯¥ç‰ˆæœ¬ä¾æ® <a href="https://github.com/WebAssembly/esm-integration">æ›´æ–°çš„è§„æ ¼ä¹¦</a>, å®ƒä½¿ WebAssembly æ¨¡å—ä½œä¸ºä¸€ä¸ªå¼‚æ­¥çš„æ¨¡å—</li>
<li><code>topLevelAwait</code>: æ”¯æŒ <a href="https://github.com/tc39/proposal-top-level-await">é¡¶å±‚ Await é˜¶æ®µ3æè®®</a>, å½“ <code>await</code> åœ¨é¡¶å±‚ä½¿ç”¨ï¼Œå®ƒè®©æ¨¡å—æˆä¸ºä¸€ä¸ªå¼‚æ­¥æ¨¡å—ã€‚</li>
<li><code>importAsync</code>: ä½¿ç”¨ <code>import</code> å¯¼å…¥å¼‚æ­¥æ¨¡å—</li>
<li><code>importAwait</code>: ä½¿ç”¨ <code>import await</code> å¯¼å…¥å¼‚æ­¥æ¨¡å—</li>
<li><code>asset</code>: ä¸€ç§å…è®¸ä½¿ç”¨èµ„æºæ–‡ä»¶  (å¦‚å­—ä½“fonts, å›¾ç‰‡images, ç­‰)è€Œä¸éœ€è¦é…ç½®ç±»ä¼¼äº <code>file-loader</code> | <code>url-loader</code> | <code>raw-loader</code> ç­‰loaders æ¥å¤„ç†å®ƒä»¬çš„å¯¼å…¥çš„æ¨¡å—</li>
<li><code>outputModule</code>: å¼€å¯ä½¿ç”¨ <a href="/configuration/output/#outputmodule"><code>output.module</code></a> é…ç½®åŒæ—¶å°†å®ƒè®¾ç½®æˆ <code>true</code>ã€‚ å¼€å¯ä½¿ç”¨ <code>output.libraryTarget</code> ä½œä¸º <code>'module'</code> ä¸”å°†å®ƒè®¾ç½®æˆ <code>'module'</code>ã€‚</li>
</ul>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  experiments<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    mjs<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    outputModule<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    syncWebAssembly<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    topLevelAwait<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    asset<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    asyncWebAssembly<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    importAsync<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    importAwait<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h1 id="å…¶å®ƒé€‰é¡¹">å…¶å®ƒé€‰é¡¹<a href="#%E5%85%B6%E5%AE%83%E9%80%89%E9%A1%B9" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>è¿™é‡Œæ˜¯ webpack æ”¯æŒçš„å…¶å®ƒé€‰é¡¹ã€‚</p>
<blockquote class="warning">
<p>å¯»æ±‚å¸®åŠ©ï¼šè¿™ä¸ªé¡µé¢è¿˜åœ¨æ›´æ–°ä¸­ï¼Œå¦‚æœä½ å‘ç°æœ¬é¡µé¢å†…æœ‰æè¿°ä¸å‡†ç¡®æˆ–è€…ä¸å®Œæ•´ï¼Œè¯·åœ¨ <a href="https://github.com/webpack/webpack.js.org">webpack çš„æ–‡æ¡£ä»“åº“</a>ä¸­åˆ›å»º issue æˆ–è€… pull request</p>
</blockquote>
<h2 id="amd"><code>amd</code> <a href="#amd" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code> <code>boolean: false</code></p>
<p>è®¾ç½® <code>require.amd</code> æˆ– <code>define.amd</code> çš„å€¼ã€‚è®¾ç½® <code>amd</code> ä¸º <code>false</code> ä¼šç¦ç”¨ webpack çš„ AMD æ”¯æŒã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  amd<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    jQuery<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>æŸäº›æµè¡Œçš„æ¨¡å—æ˜¯æŒ‰ç…§ AMD è§„èŒƒç¼–å†™çš„ï¼Œæœ€å¼•äººç©ç›®çš„ jQuery ç‰ˆæœ¬åœ¨ 1.7.0 åˆ° 1.9.1ï¼Œå¦‚æœ loader æç¤ºå®ƒå¯¹é¡µé¢åŒ…å«çš„å¤šä¸ªç‰ˆæœ¬é‡‡å–äº†<a href="https://github.com/amdjs/amdjs-api/wiki/jQuery-and-AMD">ç‰¹æ®Šè®¸å¯</a>æ—¶ï¼Œæ‰ä¼šæ³¨å†Œä¸º AMD æ¨¡å—ã€‚</p>
<p>è®¸å¯æƒé™æ˜¯å…·æœ‰ã€Œé™åˆ¶æŒ‡å®šç‰ˆæœ¬æ³¨å†Œã€æˆ–ã€Œæ”¯æŒæœ‰ä¸åŒå®šä¹‰æ¨¡å—çš„ä¸åŒæ²™ç›’ã€çš„èƒ½åŠ›ã€‚</p>
<p>æ­¤é€‰é¡¹å…è®¸å°†æ¨¡å—æŸ¥æ‰¾çš„é”®(key)è®¾ç½®ä¸ºçœŸå€¼(truthy value)ã€‚
å‘ç”Ÿè¿™ç§æƒ…å†µæ—¶ï¼Œwebpack ä¸­çš„ AMD æ”¯æŒå°†å¿½ç•¥å®šä¹‰çš„åç§°ã€‚</p>
<h2 id="bail"><code>bail</code> <a href="#bail" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code></p>
<p>åœ¨ç¬¬ä¸€ä¸ªé”™è¯¯å‡ºç°æ—¶æŠ›å‡ºå¤±è´¥ç»“æœï¼Œè€Œä¸æ˜¯å®¹å¿å®ƒã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“ä½¿ç”¨ HMR æ—¶ï¼Œwebpack ä¼šå°†åœ¨ç»ˆç«¯ä»¥åŠæµè§ˆå™¨æ§åˆ¶å°ä¸­ï¼Œä»¥çº¢è‰²æ–‡å­—è®°å½•è¿™äº›é”™è¯¯ï¼Œä½†ä»ç„¶ç»§ç»­è¿›è¡Œæ‰“åŒ…ã€‚è¦å¯ç”¨å®ƒï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  bail<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>è¿™å°†è¿«ä½¿ webpack é€€å‡ºå…¶æ‰“åŒ…è¿‡ç¨‹ã€‚</p>
<h2 id="cache"><code>cache</code> <a href="#cache" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code> <code>object</code></p>
<p>ç¼“å­˜ç”Ÿæˆçš„ webpack æ¨¡å—å’Œ chunkï¼Œæ¥æ”¹å–„æ„å»ºé€Ÿåº¦ã€‚<code>cache</code> ä¼šåœ¨<a href="/configuration/mode/#mode-development"><code>å¼€å‘</code> æ¨¡å¼</a>è¢«è®¾ç½®æˆ <code>type: 'memory'</code> è€Œä¸”åœ¨ <a href="/configuration/mode/#mode-production"><code>ç”Ÿäº§</code> æ¨¡å¼</a> ä¸­è¢«ç¦ç”¨ã€‚ <code>cache: true</code> ä¸ <code>cache: { type: 'memory' }</code> é…ç½®ä½œç”¨ä¸€è‡´ã€‚ ä¼ å…¥  <code>false</code> ä¼šç¦ç”¨ç¼“å­˜:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  cache<span class="token punctuation">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="cachetype"><code>cache.type</code> <a href="#cachetype" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string: 'memory' | 'filesystem'</code></p>
<p>å°† <code>cache</code> ç±»å‹è®¾ç½®æˆå†…å­˜æˆ–è€…æ–‡ä»¶ç³»ç»Ÿã€‚ <code>memory</code> é€‰é¡¹æ˜¯éå¸¸ç›´ç™½çš„ï¼Œå®ƒå‘Šè¯‰ webpack å°†å†…å­˜å­˜æ”¾åœ¨å†…å­˜ä¸­å¹¶ä¸”ä¸å…è®¸é¢å¤–çš„é…ç½®ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  cache<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    type<span class="token punctuation">:</span> <span class="token string">'memory'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å½“å°† <code>cache.type</code> è®¾ç½®æˆ <code>filesystem</code> ä¼šå¼€æ”¾æ›´å¤šçš„é€‰èå¯é…ç½®ã€‚</p>
<h3 id="cachecachedirectory"><code>cache.cacheDirectory</code> <a href="#cachecachedirectory" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string</code></p>
<p>ç¼“å­˜çš„ã€‚é»˜è®¤ä¸º <code>node_modules/.cache/webpack</code>ã€‚</p>
<p><code>cache.cacheDirectory</code> é€‰é¡¹ä»…å½“ <a href="#cachetype"><code>cache.type</code></a> è¢«è®¾ç½®æˆ <code>filesystem</code> æ‰å¯ç”¨ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  cache<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    type<span class="token punctuation">:</span> <span class="token string">'filesystem'</span><span class="token punctuation">,</span>
    cacheDirectory<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'.temp_cache'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p>æœ€ç»ˆçš„ç¼“å­˜ç›®æ ‡æ˜¯ <code>cache.cacheDirectory</code> + <code>cache.name</code> çš„æ··åˆ.</p>
</blockquote>
<h3 id="cachecachelocation"><code>cache.cacheLocation</code> <a href="#cachecachelocation" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string</code></p>
<p>ç¼“å­˜çš„è·¯å¾„ã€‚é»˜è®¤å€¼ä¸º <code>path.resolve(cache.cacheDirectory, cache.name)</code>.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  cache<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    type<span class="token punctuation">:</span> <span class="token string">'filesystem'</span><span class="token punctuation">,</span>
    cacheLocation<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'.test_cache'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="cachebuilddependencies"><code>cache.buildDependencies</code> <a href="#cachebuilddependencies" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>object</code></p>
<p><code>cache.buildDependencies</code> is an object of arrays of additional code dependencies for the build. webpack will use a hash of each of these items and all dependencies to invalidate the filesystem cache.</p>
<p>Defaults to <code>webpack/lib</code> to get all dependencies of webpack.</p>
<blockquote class="tip">
<p>It's recommended to set <code>cache.buildDependencies.config: [__filename]</code> in your webpack configuration to get the latest configuration and all dependencies.</p>
</blockquote>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  cache<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    buildDependencies<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// This makes all dependencies of this file - build dependencies</span>
      config<span class="token punctuation">:</span> <span class="token punctuation">[</span>__filename<span class="token punctuation">]</span>
      <span class="token comment">// By default webpack and loaders are build dependencies</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="cachemanagedpaths"><code>cache.managedPaths</code> <a href="#cachemanagedpaths" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>[string] = ['./node_modules']</code></p>
<p><code>cache.managedPaths</code> is an array of package-manager only managed paths. webpack will avoid hashing and timestamping them, assume the version is unique and will use it as a snapshot (for both memory and filesystem cache).</p>
<h3 id="cachehashalgorithm"><code>cache.hashAlgorithm</code> <a href="#cachehashalgorithm" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string</code></p>
<p>ç”¨äºå“ˆå¸Œç”Ÿæˆçš„ç®—æ³•ã€‚è¯¦æƒ…è¯·å‚é˜… <a href="https://nodejs.org/api/crypto.html">Node.js crypto</a>ã€‚é»˜è®¤å€¼ä¸º <code>md4</code>.</p>
<p><code>cache.hashAlgorithm</code> é€‰é¡¹ä»…å½“ <a href="#cachetype"><code>cache.type</code></a> è®¾ç½®æˆ <code>filesystem</code> æ‰å¯é…ç½®ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  cache<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    type<span class="token punctuation">:</span> <span class="token string">'filesystem'</span><span class="token punctuation">,</span>
    hashAlgorithm<span class="token punctuation">:</span> <span class="token string">'md4'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="cachename"><code>cache.name</code> <a href="#cachename" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string</code></p>
<p>ç¼“å­˜çš„åç§°ã€‚ä¸åŒçš„åå­—ä¼šå¯¼è‡´ä¸åŒçš„çš„å…±å­˜çš„ç¼“å­˜ã€‚é»˜è®¤å€¼ä¸º <code>${config.name}-${config.mode}</code>ã€‚ä½¿ç”¨ <code>cache.name</code> å½“ä½ æœ‰å¤šä»½é…ç½®çš„æ—¶å€™ï¼Œæ˜¯æ¯”è¾ƒåˆç†çš„å› ä¸ºä¼šæœ‰é…ç½®ä¼šæœ‰ç‹¬ç«‹çš„ç¼“å­˜ã€‚</p>
<p><code>cache.name</code> é€‰é¡¹ä»…å½“ <a href="#cachetype"><code>cache.type</code></a> è¢«è®¾ç½®æˆ <code>filesystem</code> çš„æ—¶å€™å¯è¿›è¡Œé…ç½®ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  cache<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    type<span class="token punctuation">:</span> <span class="token string">'filesystem'</span><span class="token punctuation">,</span>
    name<span class="token punctuation">:</span> <span class="token string">'AppBuildCache'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="cachestore"><code>cache.store</code> <a href="#cachestore" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string = 'pack': 'pack'</code></p>
<p><code>cache.store</code> å‘Šè¯‰ webpack ä»€ä¹ˆæ—¶å€™å°†æ•°æ®å­˜æ”¾åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ã€‚</p>
<ul>
<li><code>'pack'</code>: å½“ç¼–è¯‘å™¨é—²ç½®æ—¶å€™ï¼Œå°†ç¼“å­˜æ•°æ®éƒ½å­˜æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­</li>
</ul>
<p><code>cache.store</code> é€‰é¡¹ä»…å½“ <a href="#cachetype"><code>cache.type</code></a> è®¾ç½®æˆ <code>filesystem</code> æ‰å¯é…ç½®ã€‚</p>
<blockquote class="warning">
<p><code>pack</code> æ˜¯ webpack 5.0.x èµ·å”¯ä¸€æ”¯æŒçš„ç±»å‹</p>
</blockquote>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  cache<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    type<span class="token punctuation">:</span> <span class="token string">'filesystem'</span><span class="token punctuation">,</span>
    store<span class="token punctuation">:</span> <span class="token string">'pack'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="cacheversion"><code>cache.version</code> <a href="#cacheversion" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string = ''</code></p>
<p>ç¼“å­˜æ•°æ®çš„ç‰ˆæœ¬ã€‚ä¸åŒç‰ˆæœ¬ä¸ä¼šå…è®¸é‡ç”¨ç¼“å­˜å’Œé‡è½½å½“å‰çš„å†…å®¹ã€‚å½“é…ç½®ä»¥ä¸€ç§æ— æ³•é‡ç”¨ç¼“å­˜çš„æ–¹å¼æ”¹å˜æ—¶ï¼Œè¦æ›´æ–°ç¼“å­˜çš„ç‰ˆæœ¬ã€‚è¿™ä¼šè®©ç¼“å­˜å¤±æ•ˆã€‚</p>
<p><code>cache.version</code> é€‰é¡¹ä»…å½“ <a href="#cachetype"><code>cache.type</code></a> è®¾ç½®æˆ <code>filesystem</code> æ‰å¯é…ç½®ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  cache<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    type<span class="token punctuation">:</span> <span class="token string">'filesystem'</span><span class="token punctuation">,</span>
    version<span class="token punctuation">:</span> <span class="token string">'your_version'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p>åœ¨å…·æœ‰ä¸åŒé€‰é¡¹çš„è°ƒç”¨ä¹‹é—´ä¸è¦å…±äº«ç¼“å­˜ã€‚</p>
</blockquote>
<h3 id="cacheidletimeout"><code>cache.idleTimeout</code> <a href="#cacheidletimeout" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>number = 10000</code></p>
<p>å•ä½æ¯«ç§’ã€‚ <code>cache.idleTimeout</code> è¡¨ç¤ºç¼“å­˜å­˜å‚¨å‘ç”Ÿåçš„æ—¶é—´æ®µã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//..</span>
  cache<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    idleTimeout<span class="token punctuation">:</span> <span class="token number">10000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p><code>cache.idleTimeout</code> ä»…å½“ <a href="#cachestore"><code>cache.store</code></a> è®¾ç½®æˆ <code>'pack'</code> æˆ– <code>'idle'</code> æ‰å¯é…ç½®ã€‚</p>
</blockquote>
<h3 id="cacheidletimeoutforinitialstore"><code>cache.idleTimeoutForInitialStore</code> <a href="#cacheidletimeoutforinitialstore" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>number = 0</code></p>
<p>å•ä½æ¯«ç§’ã€‚ <code>cache.idleTimeoutForInitialStore</code> æ˜¯åœ¨åˆå§‹ç¼“å­˜å­˜å‚¨å‘ç”Ÿåçš„æ—¶é—´æ®µã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//..</span>
  cache<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    idleTimoutForInitialStore<span class="token punctuation">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p><code>cache.idleTimeoutForInitialStore</code> ä»…å½“ <a href="#cachestore"><code>cache.store</code></a> è®¾ç½®æˆ <code>'pack'</code> æˆ– <code>'idle'</code> æ‰å¯é…ç½®ã€‚</p>
</blockquote>
<h2 id="loader"><code>loader</code> <a href="#loader" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code></p>
<p>åœ¨ loader ä¸Šä¸‹æ–‡ä¸­æš´éœ²è‡ªå®šä¹‰å€¼ã€‚</p>
<blockquote class="todo">
<p>æ·»åŠ ä¸€ä¸ªä¾‹å­...</p>
</blockquote>
<h2 id="parallelism"><code>parallelism</code> <a href="#parallelism" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>number = 100</code></p>
<p>é™åˆ¶å¹¶è¡Œå¤„ç†çš„æ¨¡å—æ•°é‡ã€‚å¯ä»¥ç”¨äºè°ƒä¼˜æ€§èƒ½æˆ–è·å–æ›´å¯é çš„æ€§èƒ½åˆ†æç»“æœã€‚</p>
<h2 id="profile"><code>profile</code> <a href="#profile" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>æ•è·ä¸€ä¸ªåº”ç”¨ç¨‹åº"é…ç½®æ–‡ä»¶"ï¼ŒåŒ…æ‹¬ç»Ÿè®¡å’Œæç¤ºï¼Œç„¶åå¯ä»¥ä½¿ç”¨ <a href="https://webpack.github.io/analyse/">Analyze</a> åˆ†æå·¥å…·è¿›è¡Œè¯¦ç»†åˆ†æã€‚</p>
<blockquote class="tip">
<p>ä½¿ç”¨ <a href="https://www.npmjs.com/package/stats-webpack-plugin">StatsPlugin</a> å¯ä»¥æ›´å¥½åœ°æ§åˆ¶ç”Ÿæˆçš„é…ç½®æ–‡ä»¶ã€‚</p>
</blockquote>
<blockquote class="tip">
<p>ä¸ <code>parallelism: 1</code> æ··ç”¨ä»¥è¾¾åˆ°æ›´å¥½çš„ç»“æœã€‚</p>
</blockquote>
<h2 id="recordspath"><code>recordsPath</code> <a href="#recordspath" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>å¼€å¯è¿™ä¸ªé€‰é¡¹å¯ä»¥ç”Ÿæˆä¸€ä¸ª JSON æ–‡ä»¶ï¼Œå…¶ä¸­å«æœ‰ webpack çš„ "records" è®°å½• - å³ã€Œç”¨äºå­˜å‚¨è·¨å¤šæ¬¡æ„å»º(across multiple builds)çš„æ¨¡å—æ ‡è¯†ç¬¦ã€çš„æ•°æ®ç‰‡æ®µã€‚å¯ä»¥ä½¿ç”¨æ­¤æ–‡ä»¶æ¥è·Ÿè¸ªåœ¨æ¯æ¬¡æ„å»ºä¹‹é—´çš„æ¨¡å—å˜åŒ–ã€‚åªè¦ç®€å•çš„è®¾ç½®ä¸€ä¸‹è·¯å¾„,å°±å¯ä»¥ç”Ÿæˆè¿™ä¸ª JSON æ–‡ä»¶ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  recordsPath<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'records.json'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>å¦‚æœä½ ä½¿ç”¨äº†<a href="/guides/code-splitting">ä»£ç åˆ†ç¦»(code splittnig)</a>è¿™æ ·çš„å¤æ‚é…ç½®ï¼Œrecords ä¼šç‰¹åˆ«æœ‰ç”¨ã€‚è¿™äº›æ•°æ®ç”¨äºç¡®ä¿æ‹†åˆ† bundleï¼Œä»¥ä¾¿å®ç°ä½ éœ€è¦çš„<a href="/guides/caching">ç¼“å­˜(caching)</a>è¡Œä¸ºã€‚</p>
<blockquote class="tip">
<p>æ³¨æ„ï¼Œè™½ç„¶è¿™ä¸ªæ–‡ä»¶æ˜¯ç”±ç¼–è¯‘å™¨(compiler)ç”Ÿæˆçš„ï¼Œä½†ä½ å¯èƒ½ä»ç„¶å¸Œæœ›åœ¨æºä»£ç ç®¡ç†ä¸­è¿½è¸ªå®ƒï¼Œä»¥ä¾¿éšæ—¶è®°å½•å®ƒçš„å˜åŒ–æƒ…å†µã€‚</p>
</blockquote>
<blockquote class="warning">
<p>è®¾ç½® <code>recordsPath</code> æœ¬è´¨ä¸Šä¼šæŠŠ <code>recordsInputPath</code> å’Œ <code>recordsOutputPath</code> éƒ½è®¾ç½®æˆç›¸åŒçš„è·¯å¾„ã€‚é€šå¸¸æ¥è®²è¿™ä¹Ÿæ˜¯ç¬¦åˆé€»è¾‘çš„ï¼Œé™¤éä½ å†³å®šæ”¹å˜è®°å½•æ–‡ä»¶çš„åç§°ã€‚å¯ä»¥æŸ¥çœ‹ä¸‹é¢çš„å®ä¾‹ï¼š</p>
</blockquote>
<h2 id="recordsinputpath"><code>recordsInputPath</code> <a href="#recordsinputpath" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>æŒ‡å®šè¯»å–æœ€åä¸€æ¡è®°å½•çš„æ–‡ä»¶çš„åç§°ã€‚è¿™å¯ä»¥ç”¨æ¥é‡å‘½åä¸€ä¸ªè®°å½•æ–‡ä»¶ï¼Œå¯ä»¥æŸ¥çœ‹ä¸‹é¢çš„å®ä¾‹ï¼š</p>
<h2 id="recordsoutputpath"><code>recordsOutputPath</code> <a href="#recordsoutputpath" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>æŒ‡å®šè®°å½•è¦å†™å…¥çš„ä½ç½®ã€‚ä»¥ä¸‹ç¤ºä¾‹æè¿°äº†å¦‚ä½•ç”¨è¿™ä¸ªé€‰é¡¹å’Œ <code>recordsInptuPaht</code> æ¥é‡å‘½åä¸€ä¸ªè®°å½•æ–‡ä»¶ï¼š</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  recordsInputPath<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'records.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  recordsOutputPath<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'newRecords.json'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="name"><code>name</code> <a href="#name" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>é…ç½®çš„åç§°ã€‚å½“åŠ è½½ä¸åŒçš„é…ç½®æ—¶ä¼šè¢«ä½¿ç”¨ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  name<span class="token punctuation">:</span> <span class="token string">'admin-app'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="infrastructurelogging">infrastructureLogging <a href="#infrastructurelogging" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>ç”¨äºåŸºç¡€è®¾æ–½æ°´å¹³çš„æ—¥å¿—é€‰é¡¹ã€‚</p>
<p><code>object = {}</code></p>
<h4 id="infrastructurelogginglevel">infrastructureLogging.level <a href="#infrastructurelogginglevel" aria-hidden="true"><span class="icon icon-link"></span></a></h4>
<p><code>string</code></p>
<p>å¼€å¯åŸºç¡€è®¾æ–½æ—¥å¿—è¾“å‡ºã€‚ä¸ <a href="/configuration/stats/#statslogging"><code>stats.logging</code></a> é€‰é¡¹ç±»ä¼¼ä½†ä»…ä»…æ˜¯å¯¹äºåŸºç¡€è®¾æ–½è€Œè¨€ã€‚ æ²¡æœ‰é»˜è®¤å€¼æä¾›ã€‚</p>
<p>å¯èƒ½çš„å–å€¼ï¼š</p>
<ul>
<li><code>'none'</code> - ç¦ç”¨æ—¥å¿—</li>
<li><code>'error'</code> - ä»…ä»…æ˜¾ç¤ºé”™è¯¯</li>
<li><code>'warn'</code> - ä»…ä»…æ˜¾ç¤ºé”™è¯¯ä¸å‘Šè­¦</li>
<li><code>'info'</code> - æ˜¾ç¤ºé”™è¯¯ã€å‘Šè­¦ä¸ä¿¡æ¯</li>
<li><code>'log'</code> - æ˜¾ç¤ºé”™è¯¯ã€å‘Šè­¦ï¼Œä¿¡æ¯ï¼Œæ—¥å¿—ä¿¡æ¯ï¼Œç»„åˆ«ï¼Œæ¸…æ¥šã€‚ æ”¶ç¼©çš„ç»„åˆ«ä¼šåœ¨æ”¶ç¼©çš„çŠ¶æ€ä¸­è¢«æ˜¾ç¤ºã€‚</li>
<li><code>'verbose'</code> - è¾“å‡ºæ‰€æœ‰æ—¥å¿—é™¤äº†è°ƒè¯•ä¸è¿½è¸ªã€‚æ”¶ç¼©çš„ç»„åˆ«ä¼šåœ¨æ‰©å±•çš„çŠ¶æ€ä¸­è¢«æ˜¾ç¤ºã€‚</li>
</ul>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  infrastructureLogging<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    level<span class="token punctuation">:</span> <span class="token string">'info'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h4 id="infrastructureloggingdebug">infrastructureLogging.debug <a href="#infrastructureloggingdebug" aria-hidden="true"><span class="icon icon-link"></span></a></h4>
<p><code>string</code> <code>RegExp</code> <code>function(name) => boolean</code> <code>[string, RegExp, function(name) => boolean]</code></p>
<p>å¼€å¯ç‰¹å®šæ—¥å¿—æ¯”å¦‚æ’ä»¶(plugins)å’ŒåŠ è½½å™¨(loaders)çš„è°ƒè¯•ä¿¡æ¯ã€‚ ä¸ <a href="/configuration/stats/#statsloggingdebug"><code>stats.loggingDebug</code></a> é€‰é¡¹ç±»ä¼¼ä½†ä»…ä»…å¯¹äºåŸºç¡€è®¾æ–½è€Œè¨€ã€‚æ²¡æœ‰é»˜è®¤é…ç½®æä¾›ã€‚</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  infrastructureLogging<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    level<span class="token punctuation">:</span> <span class="token string">'info'</span><span class="token punctuation">,</span>
    debug<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">'MyPlugin'</span><span class="token punctuation">,</span>
      <span class="token regex">/MyPlugin/</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">=></span> name<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
</div><div class="contributors__section"><hr/><h3>Contributors</h3><div class="contributors"><div class="contributors__list"><a class="contributor" href="https://github.com/webpack"><img alt="webpack" src="/cb0093496837d3dc43dfae5a9104d663.png"/><span class="contributor__name"> <!-- -->webpack</span></a></div></div></div></div></section><div class="gitter"><div class="gitter__button"><i class="gitter__icon icon-gitter"></i></div></div></div><footer class="footer"><div class="container footer__inner"><section class="footer__left"><a class="footer__link" href="/guides/getting-started/">èµ·æ­¥</a><a class="footer__link" href="/organization/">ç»„ç»‡</a><a class="footer__link" href="/starter-kits/">é…å¥—å·¥å…·</a><a class="footer__link" href="/comparison/">æ¯”è¾ƒ</a></section><section class="footer__middle"><a class="footer__icon" href="/"><img src="/d19378a95ebe6b15d5ddea281138dcf4.svg" alt="webpack icon"/></a></section><section class="footer__right"><a href="https://webpack.threadless.com/" target="_blank" rel="noopener" class="footer__link">å•†åº—</a><a class="footer__link" href="/glossary/">æ¦‚å¿µæœ¯è¯­</a><a class="footer__link" href="/branding/">å“ç‰Œ</a><a href="https://gitter.im/webpack/webpack" target="_blank" rel="noopener" class="footer__link">Gitter</a><a href="https://github.com/webpack/webpack/releases" target="_blank" rel="noopener" class="footer__link">æ›´æ–°æ—¥å¿—</a><a class="footer__link footer__license" href="/license"><img alt="Creative Commons License" src="/7052446b5e67df4434f4031afd2f1497.svg"/><img alt="Creative Commons License" src="/7ebb1b3901ce119694f65e04f6347ef5.svg"/></a></section></div></footer></div></div><script>
window.matchMedia('print').addListener(function(mql) {
  if (!mql.matches) {
      window.close();
  }
});
window.print();
</script></body></html>